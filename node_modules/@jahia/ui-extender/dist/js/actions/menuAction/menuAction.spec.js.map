{"version":3,"names":["_react","_interopRequireWildcard","require","_DisplayAction","_registry","_propTypes","_interopRequireDefault","_menuAction","_ButtonRenderer","_enzyme","_ComponentRenderer","_testUtils","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","jest","useFakeTimers","MenuRenderer","_ref","menuKey","isSubMenu","isOpen","isLoading","onClose","onExited","onMouseEnter","onMouseLeave","children","_useState","useState","_useState2","_slicedToArray2","previousOpen","setPreviousOpen","setTimeout","act","createElement","Fragment","className","onClick","id","propTypes","PropTypes","string","isRequired","bool","func","node","MenuItemRenderer","_ref2","label","actionKey","readyList","AsyncComponent","_ref3","Render","render","Loading","loading","props","_objectWithoutProperties2","_useState3","_useState4","ready","setReady","useEffect","t","push","minTime","clearTimeout","indexOf","isUseLoading","_extends2","fn","number","addMenu","targets","isMenuPreload","registry","addOrReplace","menuAction","menuTarget","menuRenderer","menuItemRenderer","addItem","addAsyncItem","isVisible","component","advanceTime","wrapper","advanceTimersByTime","update","getWrapper","mount","ComponentRendererProvider","DisplayAction","path","ButtonRenderer","describe","beforeEach","clear","length","it","expect","find","toBe","simulate","first","mock","calls","at","subMenu","last"],"sources":["menuAction.spec.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {DisplayAction} from '../core/DisplayAction';\nimport {registry} from '../../registry';\nimport PropTypes from 'prop-types';\nimport {menuAction} from './menuAction';\nimport {ButtonRenderer} from '../samples/ButtonRenderer';\nimport {mount} from 'enzyme';\nimport {ComponentRendererProvider} from '../../ComponentRenderer';\nimport {act} from 'react-dom/test-utils';\n\njest.useFakeTimers();\n\nconst MenuRenderer = ({menuKey, isSubMenu, isOpen, isLoading, onClose, onExited, onMouseEnter, onMouseLeave, children}) => {\n    // Simulate close animation, calls onExited after isOpen is set to false\n    const [previousOpen, setPreviousOpen] = useState(false);\n    if (previousOpen !== isOpen) {\n        setTimeout(() => {\n            act(() => {\n                if (isOpen) {\n                    setPreviousOpen(isOpen);\n                } else {\n                    onExited();\n                }\n            });\n        }, 0);\n    }\n\n    return (\n        <>\n            {!isSubMenu && <div className='backdrop' onClick={onClose}/>}\n            <div\n                className={isOpen && !isLoading ? 'menu' : 'xxxx'}\n                onMouseEnter={onMouseEnter}\n                onMouseLeave={onMouseLeave}\n            >\n                <div className='menuItems' id={'menu-' + menuKey}>\n                    {children}\n                </div>\n            </div>\n        </>\n    );\n};\n\nMenuRenderer.propTypes = {\n    menuKey: PropTypes.string.isRequired,\n    isSubMenu: PropTypes.bool.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    isLoading: PropTypes.bool.isRequired,\n    onExited: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired\n};\n\nconst MenuItemRenderer = ({label, actionKey, onClick, onMouseEnter, onMouseLeave}) => (\n    <div className='menuItem' id={'item-' + actionKey} onClick={onClick} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n        {label}\n    </div>\n);\n\nMenuItemRenderer.propTypes = {\n    actionKey: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func\n};\n\nconst readyList = [];\n\nconst AsyncComponent = ({render: Render, loading: Loading, ...props}) => {\n    const [ready, setReady] = useState(false);\n    useEffect(() => {\n        const t = setTimeout(() => {\n            readyList.push(props.id);\n            setReady(true);\n        }, props.minTime);\n        return () => {\n            clearTimeout(t);\n        };\n    }, [props.id, props.minTime]);\n    if (!ready && readyList.indexOf(props.id) === -1) {\n        if (props.isUseLoading && Loading) {\n            return <Loading {...props}/>;\n        }\n\n        return false;\n    }\n\n    return (\n        <Render {...props} onClick={jest.fn}/>\n    );\n};\n\nAsyncComponent.propTypes = {\n    id: PropTypes.string.isRequired,\n    minTime: PropTypes.number,\n    isUseLoading: PropTypes.bool,\n    render: PropTypes.func.isRequired,\n    loading: PropTypes.func.isRequired\n};\n\nfunction addMenu(key, targets, isMenuPreload) {\n    registry.addOrReplace('action', key, menuAction, {\n        label: key,\n        targets,\n        isMenuPreload,\n        menuTarget: key,\n        menuRenderer: MenuRenderer,\n        menuItemRenderer: MenuItemRenderer\n    });\n}\n\nfunction addItem(key, targets, fn) {\n    registry.addOrReplace('action', key, {\n        targets,\n        label: key,\n        onClick: fn\n    });\n}\n\nfunction addAsyncItem(key, targets, minTime, isUseLoading, isVisible) {\n    registry.addOrReplace('action', key, {\n        targets,\n        label: key,\n        minTime,\n        isUseLoading,\n        isVisible,\n        component: AsyncComponent\n    });\n}\n\nfunction advanceTime(wrapper) {\n    act(() => {\n        jest.advanceTimersByTime(100);\n        wrapper.update();\n    });\n}\n\nfunction getWrapper() {\n    return mount(\n        <ComponentRendererProvider>\n            <DisplayAction actionKey='menu' path='/test' render={ButtonRenderer}/>\n        </ComponentRendererProvider>\n    );\n}\n\ndescribe('Menu', () => {\n    beforeEach(() => {\n        registry.clear();\n        readyList.length = 0;\n    });\n\n    it('should open menu on click', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addItem('item1', ['menu'], fn);\n        addItem('item2', ['menu'], fn);\n        addItem('item3', ['menu'], fn);\n\n        const wrapper = getWrapper();\n\n        expect(wrapper.find('.menu').length).toBe(0);\n        wrapper.find('button').simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should close when clicking on backdrop', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addItem('item1', ['menu'], fn);\n        addItem('item2', ['menu'], fn);\n        addItem('item3', ['menu'], fn);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.backdrop').length).toBe(1);\n        wrapper.find('.backdrop').simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n    });\n\n    it('should call method and close when clicking on an item', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addItem('item1', ['menu'], fn);\n        addItem('item2', ['menu'], fn);\n        addItem('item3', ['menu'], fn);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n\n        advanceTime(wrapper);\n\n        wrapper.find('.menuItem').first().simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n        expect(fn.mock.calls.length).toBe(1);\n        expect(fn.mock.calls[0][0].label).toBe('item1');\n    });\n\n    it('should open sub menu on hover and close all on click item', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addMenu('submenu1', ['menu:4']);\n        addMenu('submenu2', ['menu:5', 'submenu1:2']);\n        addItem('item1', ['menu:1', 'submenu1:1', 'submenu2:1'], fn);\n        addItem('item2', ['menu:2'], fn);\n        addItem('item3', ['menu:3'], fn);\n\n        const wrapper = getWrapper();\n\n        // Open main menu\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(5);\n\n        // Hover 5th item (submenu-3)\n        wrapper.find('.menu .menuItem').at(4).simulate('mouseenter');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(2);\n        expect(wrapper.find('.menu .menuItem').length).toBe(6);\n\n        // Hover 4th item (submenu-2), previous sub-menu should be closed\n        wrapper.find('.menu .menuItem').at(3).simulate('mouseenter');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(2);\n        expect(wrapper.find('.menu .menuItem').length).toBe(7);\n\n        // Hover sub-sub-menu item\n        const subMenu = wrapper.find('.menu').at(1);\n        subMenu.find('.menuItem').at(1).simulate('mouseenter');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(3);\n        expect(wrapper.find('.menu .menuItem').length).toBe(8);\n\n        // Click item in sub-sub-menu\n        wrapper.find('#menu-submenu2 #item-item1').last().simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n        expect(fn.mock.calls.length).toBe(1);\n        expect(fn.mock.calls[0][0].label).toBe('item1');\n    });\n\n    it('should update when using asynchronouns items', () => {\n        addMenu('menu', []);\n        addAsyncItem('async-item1', ['menu'], 0);\n        addAsyncItem('async-item2', ['menu'], 200);\n        addAsyncItem('async-item3', ['menu'], 300);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu .menuItem').length).toBe(1);\n\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu .menuItem').length).toBe(2);\n\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should appear when loaded when using asynchronouns items with loading', () => {\n        addMenu('menu', [], false);\n        addAsyncItem('async-item1', ['menu'], 0, true);\n        addAsyncItem('async-item2', ['menu'], 200, true);\n        addAsyncItem('async-item3', ['menu'], 300, true);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu').length).toBe(0);\n        //\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should preload menu', () => {\n        addMenu('menu', [], true);\n        addAsyncItem('async-item0', ['menu:1'], 0, true);\n        addAsyncItem('async-item1', ['menu:1'], 200, true);\n        addAsyncItem('async-item2', ['menu:1'], 300, true);\n\n        const wrapper = getWrapper();\n\n        advanceTime(wrapper);\n        advanceTime(wrapper);\n        advanceTime(wrapper);\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should not render empty menu', () => {\n        addMenu('menu', [], false);\n        addMenu('submenu1', ['menu'], true);\n        addMenu('submenu2', ['menu'], true);\n        addAsyncItem('async-item1', ['menu', 'submenu1', 'submenu2'], 100, true, false);\n        addAsyncItem('async-item2', ['menu'], 100, true);\n        addAsyncItem('async-item3', ['menu'], 100, true);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(2);\n    });\n});\n"],"mappings":"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"}