{"version":3,"names":["_react","_interopRequireDefault","require","_core","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","ContextualMenu","_React$Component","_inherits2","_super","props","_this","_classCallCheck2","onClickRef","React","createRef","_createClass2","value","open","newProps","current","isMenuUseEventPosition","originalContext","preventDefault","render","_this2","setOpenRef","bind","createElement","DisplayAction","_extends2","onClick","Component","exports","actionKey","_propTypes","string","isRequired"],"sources":["ContextualMenu.tsx"],"sourcesContent":["import React from 'react';\nimport {DisplayAction} from '../core';\nimport {MenuProps} from '~/actions';\n\nexport type ContextualMenuProps = {\n    setOpenRef: React.MutableRefObject<(e: Event, newProps: MenuProps) => void>,\n    loading?: React.FunctionComponent<object>,\n    actionKey: string\n};\n\nexport class ContextualMenu extends React.Component<ContextualMenuProps> {\n    onClickRef: React.MutableRefObject<(p: MenuProps, e: Event) => void>;\n\n    constructor(props: ContextualMenuProps) {\n        super(props);\n        this.onClickRef = React.createRef();\n    }\n\n    open(e: Event, newProps: MenuProps) {\n        this.onClickRef.current({...this.props, isMenuUseEventPosition: true, ...newProps, originalContext: {...this.props, ...newProps}}, e);\n        e.preventDefault();\n    }\n\n    render() {\n        const {setOpenRef} = this.props;\n        if (setOpenRef) {\n            setOpenRef.current = this.open.bind(this);\n        }\n\n        return (\n            <DisplayAction\n                {...this.props}\n                render={(props: any) => {\n                    const {onClick} = props;\n                    this.onClickRef.current = onClick;\n                    return null;\n                }}\n            />\n        );\n    }\n}\n"],"mappings":"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"}