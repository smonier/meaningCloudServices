{"version":3,"names":["_react","_interopRequireDefault","require","_DisplayActions","_registry","_componentRenderAction","_Modal","_ButtonRenderer","_enzyme","_ComponentRenderer","describe","beforeEach","registry","clear","it","openModalAction","addOrReplace","componentRendererAction","componentToRender","Modal","targets","label","content","wrapper","mount","createElement","ComponentRendererProvider","DisplayActions","target","context","path","render","ButtonRenderer","expect","find","length","toBe","first","simulate","text","last"],"sources":["componentRenderAction.spec.jsx"],"sourcesContent":["import React from 'react';\nimport {DisplayActions} from '../core/DisplayActions';\nimport {registry} from '../../registry';\nimport {componentRendererAction} from './componentRenderAction';\nimport {Modal} from '../samples/Modal';\nimport {ButtonRenderer} from '../samples/ButtonRenderer';\nimport {mount} from 'enzyme';\nimport {ComponentRendererProvider} from '../../ComponentRenderer';\n\ndescribe('DisplayActions', () => {\n    beforeEach(() => {\n        registry.clear();\n    });\n\n    it('should display component on click', () => {\n        const openModalAction = registry.addOrReplace('action', 'base-component', componentRendererAction, {\n            componentToRender: Modal\n        });\n\n        registry.addOrReplace('action', 'renderer-1', openModalAction, {\n            targets: ['target-renderer'],\n            label: 'component 1',\n            content: 'test 1'\n        });\n        registry.addOrReplace('action', 'renderer-2', openModalAction, {\n            targets: ['target-renderer'],\n            label: 'component 2',\n            content: 'test 2'\n        });\n\n        const wrapper = mount(\n            <ComponentRendererProvider>\n                <DisplayActions target='target-renderer' context={{path: '/test'}} render={ButtonRenderer}/>\n            </ComponentRendererProvider>\n        );\n\n        expect(wrapper.find('.modal').length).toBe(0);\n        wrapper.find('button').first().simulate('click');\n        expect(wrapper.find('.modal').length).toBe(1);\n        expect(wrapper.find('.modal div').text()).toBe('test 1');\n\n        wrapper.find('.backdrop').simulate('click');\n        expect(wrapper.find('.modal').length).toBe(0);\n        wrapper.find('button').last().simulate('click');\n        expect(wrapper.find('.modal').length).toBe(1);\n        expect(wrapper.find('.modal div').text()).toBe('test 2');\n    });\n});\n"],"mappings":";;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AACA,IAAAG,sBAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,eAAA,GAAAL,OAAA;AACA,IAAAM,OAAA,GAAAN,OAAA;AACA,IAAAO,kBAAA,GAAAP,OAAA;AAEAQ,QAAQ,CAAC,gBAAgB,EAAE,YAAM;EAC7BC,UAAU,CAAC,YAAM;IACbC,kBAAQ,CAACC,KAAK,CAAC,CAAC;EACpB,CAAC,CAAC;EAEFC,EAAE,CAAC,mCAAmC,EAAE,YAAM;IAC1C,IAAMC,eAAe,GAAGH,kBAAQ,CAACI,YAAY,CAAC,QAAQ,EAAE,gBAAgB,EAAEC,8CAAuB,EAAE;MAC/FC,iBAAiB,EAAEC;IACvB,CAAC,CAAC;IAEFP,kBAAQ,CAACI,YAAY,CAAC,QAAQ,EAAE,YAAY,EAAED,eAAe,EAAE;MAC3DK,OAAO,EAAE,CAAC,iBAAiB,CAAC;MAC5BC,KAAK,EAAE,aAAa;MACpBC,OAAO,EAAE;IACb,CAAC,CAAC;IACFV,kBAAQ,CAACI,YAAY,CAAC,QAAQ,EAAE,YAAY,EAAED,eAAe,EAAE;MAC3DK,OAAO,EAAE,CAAC,iBAAiB,CAAC;MAC5BC,KAAK,EAAE,aAAa;MACpBC,OAAO,EAAE;IACb,CAAC,CAAC;IAEF,IAAMC,OAAO,GAAG,IAAAC,aAAK,gBACjBxB,MAAA,YAAAyB,aAAA,CAAChB,kBAAA,CAAAiB,yBAAyB,qBACtB1B,MAAA,YAAAyB,aAAA,CAACtB,eAAA,CAAAwB,cAAc;MAACC,MAAM,EAAC,iBAAiB;MAACC,OAAO,EAAE;QAACC,IAAI,EAAE;MAAO,CAAE;MAACC,MAAM,EAAEC;IAAe,CAAC,CACpE,CAC/B,CAAC;IAEDC,MAAM,CAACV,OAAO,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7Cb,OAAO,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACG,KAAK,CAAC,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;IAChDL,MAAM,CAACV,OAAO,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7CH,MAAM,CAACV,OAAO,CAACW,IAAI,CAAC,YAAY,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,QAAQ,CAAC;IAExDb,OAAO,CAACW,IAAI,CAAC,WAAW,CAAC,CAACI,QAAQ,CAAC,OAAO,CAAC;IAC3CL,MAAM,CAACV,OAAO,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7Cb,OAAO,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACM,IAAI,CAAC,CAAC,CAACF,QAAQ,CAAC,OAAO,CAAC;IAC/CL,MAAM,CAACV,OAAO,CAACW,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7CH,MAAM,CAACV,OAAO,CAACW,IAAI,CAAC,YAAY,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,QAAQ,CAAC;EAC5D,CAAC,CAAC;AACN,CAAC,CAAC"}