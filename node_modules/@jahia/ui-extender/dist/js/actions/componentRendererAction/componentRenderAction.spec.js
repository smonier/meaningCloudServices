"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _DisplayActions = require("../core/DisplayActions");
var _registry = require("../../registry");
var _componentRenderAction = require("./componentRenderAction");
var _Modal = require("../samples/Modal");
var _ButtonRenderer = require("../samples/ButtonRenderer");
var _enzyme = require("enzyme");
var _ComponentRenderer = require("../../ComponentRenderer");
describe('DisplayActions', function () {
  beforeEach(function () {
    _registry.registry.clear();
  });
  it('should display component on click', function () {
    var openModalAction = _registry.registry.addOrReplace('action', 'base-component', _componentRenderAction.componentRendererAction, {
      componentToRender: _Modal.Modal
    });
    _registry.registry.addOrReplace('action', 'renderer-1', openModalAction, {
      targets: ['target-renderer'],
      label: 'component 1',
      content: 'test 1'
    });
    _registry.registry.addOrReplace('action', 'renderer-2', openModalAction, {
      targets: ['target-renderer'],
      label: 'component 2',
      content: 'test 2'
    });
    var wrapper = (0, _enzyme.mount)( /*#__PURE__*/_react["default"].createElement(_ComponentRenderer.ComponentRendererProvider, null, /*#__PURE__*/_react["default"].createElement(_DisplayActions.DisplayActions, {
      target: "target-renderer",
      context: {
        path: '/test'
      },
      render: _ButtonRenderer.ButtonRenderer
    })));
    expect(wrapper.find('.modal').length).toBe(0);
    wrapper.find('button').first().simulate('click');
    expect(wrapper.find('.modal').length).toBe(1);
    expect(wrapper.find('.modal div').text()).toBe('test 1');
    wrapper.find('.backdrop').simulate('click');
    expect(wrapper.find('.modal').length).toBe(0);
    wrapper.find('button').last().simulate('click');
    expect(wrapper.find('.modal').length).toBe(1);
    expect(wrapper.find('.modal div').text()).toBe('test 2');
  });
});
//# sourceMappingURL=componentRenderAction.spec.js.map
