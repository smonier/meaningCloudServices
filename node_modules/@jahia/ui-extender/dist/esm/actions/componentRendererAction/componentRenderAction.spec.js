import React from 'react';
import { DisplayActions } from "../core/DisplayActions";
import { registry } from "../../registry";
import { componentRendererAction } from "./componentRenderAction";
import { Modal } from "../samples/Modal";
import { ButtonRenderer } from "../samples/ButtonRenderer";
import { mount } from 'enzyme';
import { ComponentRendererProvider } from "../../ComponentRenderer";
describe('DisplayActions', function () {
  beforeEach(function () {
    registry.clear();
  });
  it('should display component on click', function () {
    var openModalAction = registry.addOrReplace('action', 'base-component', componentRendererAction, {
      componentToRender: Modal
    });
    registry.addOrReplace('action', 'renderer-1', openModalAction, {
      targets: ['target-renderer'],
      label: 'component 1',
      content: 'test 1'
    });
    registry.addOrReplace('action', 'renderer-2', openModalAction, {
      targets: ['target-renderer'],
      label: 'component 2',
      content: 'test 2'
    });
    var wrapper = mount( /*#__PURE__*/React.createElement(ComponentRendererProvider, null, /*#__PURE__*/React.createElement(DisplayActions, {
      target: "target-renderer",
      context: {
        path: '/test'
      },
      render: ButtonRenderer
    })));
    expect(wrapper.find('.modal').length).toBe(0);
    wrapper.find('button').first().simulate('click');
    expect(wrapper.find('.modal').length).toBe(1);
    expect(wrapper.find('.modal div').text()).toBe('test 1');
    wrapper.find('.backdrop').simulate('click');
    expect(wrapper.find('.modal').length).toBe(0);
    wrapper.find('button').last().simulate('click');
    expect(wrapper.find('.modal').length).toBe(1);
    expect(wrapper.find('.modal div').text()).toBe('test 2');
  });
});
//# sourceMappingURL=componentRenderAction.spec.js.map
