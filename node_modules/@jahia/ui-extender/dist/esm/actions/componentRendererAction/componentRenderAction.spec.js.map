{"version":3,"names":["React","DisplayActions","registry","componentRendererAction","Modal","ButtonRenderer","mount","ComponentRendererProvider","describe","beforeEach","clear","it","openModalAction","addOrReplace","componentToRender","targets","label","content","wrapper","createElement","target","context","path","render","expect","find","length","toBe","first","simulate","text","last"],"sources":["componentRenderAction.spec.jsx"],"sourcesContent":["import React from 'react';\nimport {DisplayActions} from '../core/DisplayActions';\nimport {registry} from '../../registry';\nimport {componentRendererAction} from './componentRenderAction';\nimport {Modal} from '../samples/Modal';\nimport {ButtonRenderer} from '../samples/ButtonRenderer';\nimport {mount} from 'enzyme';\nimport {ComponentRendererProvider} from '../../ComponentRenderer';\n\ndescribe('DisplayActions', () => {\n    beforeEach(() => {\n        registry.clear();\n    });\n\n    it('should display component on click', () => {\n        const openModalAction = registry.addOrReplace('action', 'base-component', componentRendererAction, {\n            componentToRender: Modal\n        });\n\n        registry.addOrReplace('action', 'renderer-1', openModalAction, {\n            targets: ['target-renderer'],\n            label: 'component 1',\n            content: 'test 1'\n        });\n        registry.addOrReplace('action', 'renderer-2', openModalAction, {\n            targets: ['target-renderer'],\n            label: 'component 2',\n            content: 'test 2'\n        });\n\n        const wrapper = mount(\n            <ComponentRendererProvider>\n                <DisplayActions target='target-renderer' context={{path: '/test'}} render={ButtonRenderer}/>\n            </ComponentRendererProvider>\n        );\n\n        expect(wrapper.find('.modal').length).toBe(0);\n        wrapper.find('button').first().simulate('click');\n        expect(wrapper.find('.modal').length).toBe(1);\n        expect(wrapper.find('.modal div').text()).toBe('test 1');\n\n        wrapper.find('.backdrop').simulate('click');\n        expect(wrapper.find('.modal').length).toBe(0);\n        wrapper.find('button').last().simulate('click');\n        expect(wrapper.find('.modal').length).toBe(1);\n        expect(wrapper.find('.modal div').text()).toBe('test 2');\n    });\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,cAAc;AACtB,SAAQC,QAAQ;AAChB,SAAQC,uBAAuB;AAC/B,SAAQC,KAAK;AACb,SAAQC,cAAc;AACtB,SAAQC,KAAK,QAAO,QAAQ;AAC5B,SAAQC,yBAAyB;AAEjCC,QAAQ,CAAC,gBAAgB,EAAE,YAAM;EAC7BC,UAAU,CAAC,YAAM;IACbP,QAAQ,CAACQ,KAAK,CAAC,CAAC;EACpB,CAAC,CAAC;EAEFC,EAAE,CAAC,mCAAmC,EAAE,YAAM;IAC1C,IAAMC,eAAe,GAAGV,QAAQ,CAACW,YAAY,CAAC,QAAQ,EAAE,gBAAgB,EAAEV,uBAAuB,EAAE;MAC/FW,iBAAiB,EAAEV;IACvB,CAAC,CAAC;IAEFF,QAAQ,CAACW,YAAY,CAAC,QAAQ,EAAE,YAAY,EAAED,eAAe,EAAE;MAC3DG,OAAO,EAAE,CAAC,iBAAiB,CAAC;MAC5BC,KAAK,EAAE,aAAa;MACpBC,OAAO,EAAE;IACb,CAAC,CAAC;IACFf,QAAQ,CAACW,YAAY,CAAC,QAAQ,EAAE,YAAY,EAAED,eAAe,EAAE;MAC3DG,OAAO,EAAE,CAAC,iBAAiB,CAAC;MAC5BC,KAAK,EAAE,aAAa;MACpBC,OAAO,EAAE;IACb,CAAC,CAAC;IAEF,IAAMC,OAAO,GAAGZ,KAAK,eACjBN,KAAA,CAAAmB,aAAA,CAACZ,yBAAyB,qBACtBP,KAAA,CAAAmB,aAAA,CAAClB,cAAc;MAACmB,MAAM,EAAC,iBAAiB;MAACC,OAAO,EAAE;QAACC,IAAI,EAAE;MAAO,CAAE;MAACC,MAAM,EAAElB;IAAe,CAAC,CACpE,CAC/B,CAAC;IAEDmB,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7CT,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACG,KAAK,CAAC,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;IAChDL,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7CH,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,YAAY,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,QAAQ,CAAC;IAExDT,OAAO,CAACO,IAAI,CAAC,WAAW,CAAC,CAACI,QAAQ,CAAC,OAAO,CAAC;IAC3CL,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7CT,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACM,IAAI,CAAC,CAAC,CAACF,QAAQ,CAAC,OAAO,CAAC;IAC/CL,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC7CH,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,YAAY,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,QAAQ,CAAC;EAC5D,CAAC,CAAC;AACN,CAAC,CAAC"}