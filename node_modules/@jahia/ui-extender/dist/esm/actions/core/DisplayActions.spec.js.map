{"version":3,"names":["React","DisplayActions","ButtonRenderer","registry","mount","describe","beforeEach","clear","it","base","onClick","window","alert","addOrReplace","targets","label","valueToFilter","wrapper","createElement","target","context","path","render","expect","find","length","toBe","filter"],"sources":["DisplayActions.spec.jsx"],"sourcesContent":["import React from 'react';\nimport {DisplayActions} from './DisplayActions';\nimport {ButtonRenderer} from '../samples/ButtonRenderer';\nimport {registry} from '../../registry';\nimport {mount} from 'enzyme';\n\ndescribe('DisplayActions', () => {\n    beforeEach(() => {\n        registry.clear();\n    });\n\n    it('should render all actions matching the target', () => {\n        const base = {\n            onClick: () => window.alert('Action') // eslint-disable-line no-alert\n        };\n        registry.addOrReplace('action', 'test-action-1', base, {\n            targets: ['target-1:1'],\n            label: 'test action 1 (filter false)'\n        });\n        registry.addOrReplace('action', 'test-action-2', base, {\n            targets: ['target-1:2'],\n            valueToFilter: true,\n            label: 'test action 2 (filter true)'\n        });\n        registry.addOrReplace('action', 'test-action-3', base, {\n            targets: ['target-1:3'],\n            label: 'test action 3 (filter false)'\n        });\n        const wrapper = mount(\n            <DisplayActions\n                target='target-1'\n                context={{path: '/test'}}\n                render={ButtonRenderer}/>\n        );\n\n        expect(wrapper.find('button').length).toBe(3);\n    });\n\n    it('should use the otional filter', () => {\n        const base = {\n            onClick: () => window.alert('Action') // eslint-disable-line no-alert\n        };\n        registry.addOrReplace('action', 'test-action-1', base, {\n            targets: ['target-2:1'],\n            label: 'test action 1 (filter false)'\n        });\n        registry.addOrReplace('action', 'test-action-2', base, {\n            targets: ['target-2:2'],\n            valueToFilter: true,\n            label: 'test action 2 (filter true)'\n        });\n        registry.addOrReplace('action', 'test-action-3', base, {\n            targets: ['target-2:3'],\n            label: 'test action 3 (filter false)'\n        });\n        const wrapper = mount(\n            <DisplayActions\n                target='target-2'\n                context={{path: '/test'}}\n                filter={context => context.valueToFilter}\n                render={ButtonRenderer}/>\n        );\n\n        expect(wrapper.find('button').length).toBe(1);\n    });\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,cAAc;AACtB,SAAQC,cAAc;AACtB,SAAQC,QAAQ;AAChB,SAAQC,KAAK,QAAO,QAAQ;AAE5BC,QAAQ,CAAC,gBAAgB,EAAE,YAAM;EAC7BC,UAAU,CAAC,YAAM;IACbH,QAAQ,CAACI,KAAK,CAAC,CAAC;EACpB,CAAC,CAAC;EAEFC,EAAE,CAAC,+CAA+C,EAAE,YAAM;IACtD,IAAMC,IAAI,GAAG;MACTC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMC,MAAM,CAACC,KAAK,CAAC,QAAQ,CAAC;MAAA,EAAC;IAC1C,CAAC;;IACDT,QAAQ,CAACU,YAAY,CAAC,QAAQ,EAAE,eAAe,EAAEJ,IAAI,EAAE;MACnDK,OAAO,EAAE,CAAC,YAAY,CAAC;MACvBC,KAAK,EAAE;IACX,CAAC,CAAC;IACFZ,QAAQ,CAACU,YAAY,CAAC,QAAQ,EAAE,eAAe,EAAEJ,IAAI,EAAE;MACnDK,OAAO,EAAE,CAAC,YAAY,CAAC;MACvBE,aAAa,EAAE,IAAI;MACnBD,KAAK,EAAE;IACX,CAAC,CAAC;IACFZ,QAAQ,CAACU,YAAY,CAAC,QAAQ,EAAE,eAAe,EAAEJ,IAAI,EAAE;MACnDK,OAAO,EAAE,CAAC,YAAY,CAAC;MACvBC,KAAK,EAAE;IACX,CAAC,CAAC;IACF,IAAME,OAAO,GAAGb,KAAK,eACjBJ,KAAA,CAAAkB,aAAA,CAACjB,cAAc;MACXkB,MAAM,EAAC,UAAU;MACjBC,OAAO,EAAE;QAACC,IAAI,EAAE;MAAO,CAAE;MACzBC,MAAM,EAAEpB;IAAe,CAAC,CAChC,CAAC;IAEDqB,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC;EAEFlB,EAAE,CAAC,+BAA+B,EAAE,YAAM;IACtC,IAAMC,IAAI,GAAG;MACTC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMC,MAAM,CAACC,KAAK,CAAC,QAAQ,CAAC;MAAA,EAAC;IAC1C,CAAC;;IACDT,QAAQ,CAACU,YAAY,CAAC,QAAQ,EAAE,eAAe,EAAEJ,IAAI,EAAE;MACnDK,OAAO,EAAE,CAAC,YAAY,CAAC;MACvBC,KAAK,EAAE;IACX,CAAC,CAAC;IACFZ,QAAQ,CAACU,YAAY,CAAC,QAAQ,EAAE,eAAe,EAAEJ,IAAI,EAAE;MACnDK,OAAO,EAAE,CAAC,YAAY,CAAC;MACvBE,aAAa,EAAE,IAAI;MACnBD,KAAK,EAAE;IACX,CAAC,CAAC;IACFZ,QAAQ,CAACU,YAAY,CAAC,QAAQ,EAAE,eAAe,EAAEJ,IAAI,EAAE;MACnDK,OAAO,EAAE,CAAC,YAAY,CAAC;MACvBC,KAAK,EAAE;IACX,CAAC,CAAC;IACF,IAAME,OAAO,GAAGb,KAAK,eACjBJ,KAAA,CAAAkB,aAAA,CAACjB,cAAc;MACXkB,MAAM,EAAC,UAAU;MACjBC,OAAO,EAAE;QAACC,IAAI,EAAE;MAAO,CAAE;MACzBM,MAAM,EAAE,SAAAA,OAAAP,OAAO;QAAA,OAAIA,OAAO,CAACJ,aAAa;MAAA,CAAC;MACzCM,MAAM,EAAEpB;IAAe,CAAC,CAChC,CAAC;IAEDqB,MAAM,CAACN,OAAO,CAACO,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC;AACN,CAAC,CAAC"}