{"version":3,"names":["React","DisplayAction","ContextualMenu","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onClickRef","createRef","_createClass","key","value","open","e","newProps","current","_objectSpread","isMenuUseEventPosition","originalContext","preventDefault","render","_this2","setOpenRef","bind","createElement","_extends","onClick","Component","_defineProperty","actionKey","_pt","string","isRequired"],"sources":["ContextualMenu.tsx"],"sourcesContent":["import React from 'react';\nimport {DisplayAction} from '../core';\nimport {MenuProps} from '~/actions';\n\nexport type ContextualMenuProps = {\n    setOpenRef: React.MutableRefObject<(e: Event, newProps: MenuProps) => void>,\n    loading?: React.FunctionComponent<object>,\n    actionKey: string\n};\n\nexport class ContextualMenu extends React.Component<ContextualMenuProps> {\n    onClickRef: React.MutableRefObject<(p: MenuProps, e: Event) => void>;\n\n    constructor(props: ContextualMenuProps) {\n        super(props);\n        this.onClickRef = React.createRef();\n    }\n\n    open(e: Event, newProps: MenuProps) {\n        this.onClickRef.current({...this.props, isMenuUseEventPosition: true, ...newProps, originalContext: {...this.props, ...newProps}}, e);\n        e.preventDefault();\n    }\n\n    render() {\n        const {setOpenRef} = this.props;\n        if (setOpenRef) {\n            setOpenRef.current = this.open.bind(this);\n        }\n\n        return (\n            <DisplayAction\n                {...this.props}\n                render={(props: any) => {\n                    const {onClick} = props;\n                    this.onClickRef.current = onClick;\n                    return null;\n                }}\n            />\n        );\n    }\n}\n"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,aAAa;AASrB,WAAaC,cAAc,0BAAAC,gBAAA;EAAAC,SAAA,CAAAF,cAAA,EAAAC,gBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,cAAA;EAGvB,SAAAA,eAAYK,KAA0B,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAP,cAAA;IACpCM,KAAA,GAAAH,MAAA,CAAAK,IAAA,OAAMH,KAAK;IACXC,KAAA,CAAKG,UAAU,gBAAGX,KAAK,CAACY,SAAS,CAAC,CAAC;IAAC,OAAAJ,KAAA;EACxC;EAACK,YAAA,CAAAX,cAAA;IAAAY,GAAA;IAAAC,KAAA,EAED,SAAAC,KAAKC,CAAQ,EAAEC,QAAmB,EAAE;MAChC,IAAI,CAACP,UAAU,CAACQ,OAAO,CAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,KAAK,IAAI,CAACb,KAAK;QAAEc,sBAAsB,EAAE;MAAI,GAAKH,QAAQ;QAAEI,eAAe,EAAAF,aAAA,CAAAA,aAAA,KAAM,IAAI,CAACb,KAAK,GAAKW,QAAQ;MAAC,IAAGD,CAAC,CAAC;MACrIA,CAAC,CAACM,cAAc,CAAC,CAAC;IACtB;EAAC;IAAAT,GAAA;IAAAC,KAAA,EAED,SAAAS,OAAA,EAAS;MAAA,IAAAC,MAAA;MACL,IAAOC,UAAU,GAAI,IAAI,CAACnB,KAAK,CAAxBmB,UAAU;MACjB,IAAIA,UAAU,EAAE;QACZA,UAAU,CAACP,OAAO,GAAG,IAAI,CAACH,IAAI,CAACW,IAAI,CAAC,IAAI,CAAC;MAC7C;MAEA,oBACI3B,KAAA,CAAA4B,aAAA,CAAC3B,aAAa,EAAA4B,QAAA,KACN,IAAI,CAACtB,KAAK;QACdiB,MAAM,EAAE,SAAAA,OAACjB,KAAU,EAAK;UACpB,IAAOuB,OAAO,GAAIvB,KAAK,CAAhBuB,OAAO;UACdL,MAAI,CAACd,UAAU,CAACQ,OAAO,GAAGW,OAAO;UACjC,OAAO,IAAI;QACf;MAAE,EACL,CAAC;IAEV;EAAC;EAAA,OAAA5B,cAAA;AAAA,EA7B+BF,KAAK,CAAC+B,SAAS;AA8BlDC,eAAA,CA9BY9B,cAAc;EAHvB+B,SAAS,EAAAC,GAAA,CAAAC,MAAA,CAAAC;AAAA"}