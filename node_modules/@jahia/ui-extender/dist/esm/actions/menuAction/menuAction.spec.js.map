{"version":3,"names":["React","useEffect","useState","DisplayAction","registry","PropTypes","menuAction","ButtonRenderer","mount","ComponentRendererProvider","act","jest","useFakeTimers","MenuRenderer","_ref","menuKey","isSubMenu","isOpen","isLoading","onClose","onExited","onMouseEnter","onMouseLeave","children","_useState","_useState2","_slicedToArray","previousOpen","setPreviousOpen","setTimeout","createElement","Fragment","className","onClick","id","propTypes","string","isRequired","bool","func","node","MenuItemRenderer","_ref2","label","actionKey","readyList","AsyncComponent","_ref3","Render","render","Loading","loading","props","_objectWithoutProperties","_excluded","_useState3","_useState4","ready","setReady","t","push","minTime","clearTimeout","indexOf","isUseLoading","_extends","fn","number","addMenu","key","targets","isMenuPreload","addOrReplace","menuTarget","menuRenderer","menuItemRenderer","addItem","addAsyncItem","isVisible","component","advanceTime","wrapper","advanceTimersByTime","update","getWrapper","path","describe","beforeEach","clear","length","it","expect","find","toBe","simulate","first","mock","calls","at","subMenu","last"],"sources":["menuAction.spec.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {DisplayAction} from '../core/DisplayAction';\nimport {registry} from '../../registry';\nimport PropTypes from 'prop-types';\nimport {menuAction} from './menuAction';\nimport {ButtonRenderer} from '../samples/ButtonRenderer';\nimport {mount} from 'enzyme';\nimport {ComponentRendererProvider} from '../../ComponentRenderer';\nimport {act} from 'react-dom/test-utils';\n\njest.useFakeTimers();\n\nconst MenuRenderer = ({menuKey, isSubMenu, isOpen, isLoading, onClose, onExited, onMouseEnter, onMouseLeave, children}) => {\n    // Simulate close animation, calls onExited after isOpen is set to false\n    const [previousOpen, setPreviousOpen] = useState(false);\n    if (previousOpen !== isOpen) {\n        setTimeout(() => {\n            act(() => {\n                if (isOpen) {\n                    setPreviousOpen(isOpen);\n                } else {\n                    onExited();\n                }\n            });\n        }, 0);\n    }\n\n    return (\n        <>\n            {!isSubMenu && <div className='backdrop' onClick={onClose}/>}\n            <div\n                className={isOpen && !isLoading ? 'menu' : 'xxxx'}\n                onMouseEnter={onMouseEnter}\n                onMouseLeave={onMouseLeave}\n            >\n                <div className='menuItems' id={'menu-' + menuKey}>\n                    {children}\n                </div>\n            </div>\n        </>\n    );\n};\n\nMenuRenderer.propTypes = {\n    menuKey: PropTypes.string.isRequired,\n    isSubMenu: PropTypes.bool.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    isLoading: PropTypes.bool.isRequired,\n    onExited: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired\n};\n\nconst MenuItemRenderer = ({label, actionKey, onClick, onMouseEnter, onMouseLeave}) => (\n    <div className='menuItem' id={'item-' + actionKey} onClick={onClick} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n        {label}\n    </div>\n);\n\nMenuItemRenderer.propTypes = {\n    actionKey: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func\n};\n\nconst readyList = [];\n\nconst AsyncComponent = ({render: Render, loading: Loading, ...props}) => {\n    const [ready, setReady] = useState(false);\n    useEffect(() => {\n        const t = setTimeout(() => {\n            readyList.push(props.id);\n            setReady(true);\n        }, props.minTime);\n        return () => {\n            clearTimeout(t);\n        };\n    }, [props.id, props.minTime]);\n    if (!ready && readyList.indexOf(props.id) === -1) {\n        if (props.isUseLoading && Loading) {\n            return <Loading {...props}/>;\n        }\n\n        return false;\n    }\n\n    return (\n        <Render {...props} onClick={jest.fn}/>\n    );\n};\n\nAsyncComponent.propTypes = {\n    id: PropTypes.string.isRequired,\n    minTime: PropTypes.number,\n    isUseLoading: PropTypes.bool,\n    render: PropTypes.func.isRequired,\n    loading: PropTypes.func.isRequired\n};\n\nfunction addMenu(key, targets, isMenuPreload) {\n    registry.addOrReplace('action', key, menuAction, {\n        label: key,\n        targets,\n        isMenuPreload,\n        menuTarget: key,\n        menuRenderer: MenuRenderer,\n        menuItemRenderer: MenuItemRenderer\n    });\n}\n\nfunction addItem(key, targets, fn) {\n    registry.addOrReplace('action', key, {\n        targets,\n        label: key,\n        onClick: fn\n    });\n}\n\nfunction addAsyncItem(key, targets, minTime, isUseLoading, isVisible) {\n    registry.addOrReplace('action', key, {\n        targets,\n        label: key,\n        minTime,\n        isUseLoading,\n        isVisible,\n        component: AsyncComponent\n    });\n}\n\nfunction advanceTime(wrapper) {\n    act(() => {\n        jest.advanceTimersByTime(100);\n        wrapper.update();\n    });\n}\n\nfunction getWrapper() {\n    return mount(\n        <ComponentRendererProvider>\n            <DisplayAction actionKey='menu' path='/test' render={ButtonRenderer}/>\n        </ComponentRendererProvider>\n    );\n}\n\ndescribe('Menu', () => {\n    beforeEach(() => {\n        registry.clear();\n        readyList.length = 0;\n    });\n\n    it('should open menu on click', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addItem('item1', ['menu'], fn);\n        addItem('item2', ['menu'], fn);\n        addItem('item3', ['menu'], fn);\n\n        const wrapper = getWrapper();\n\n        expect(wrapper.find('.menu').length).toBe(0);\n        wrapper.find('button').simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should close when clicking on backdrop', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addItem('item1', ['menu'], fn);\n        addItem('item2', ['menu'], fn);\n        addItem('item3', ['menu'], fn);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.backdrop').length).toBe(1);\n        wrapper.find('.backdrop').simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n    });\n\n    it('should call method and close when clicking on an item', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addItem('item1', ['menu'], fn);\n        addItem('item2', ['menu'], fn);\n        addItem('item3', ['menu'], fn);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n\n        advanceTime(wrapper);\n\n        wrapper.find('.menuItem').first().simulate('click');\n\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n        expect(fn.mock.calls.length).toBe(1);\n        expect(fn.mock.calls[0][0].label).toBe('item1');\n    });\n\n    it('should open sub menu on hover and close all on click item', () => {\n        const fn = jest.fn();\n\n        addMenu('menu', []);\n        addMenu('submenu1', ['menu:4']);\n        addMenu('submenu2', ['menu:5', 'submenu1:2']);\n        addItem('item1', ['menu:1', 'submenu1:1', 'submenu2:1'], fn);\n        addItem('item2', ['menu:2'], fn);\n        addItem('item3', ['menu:3'], fn);\n\n        const wrapper = getWrapper();\n\n        // Open main menu\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(5);\n\n        // Hover 5th item (submenu-3)\n        wrapper.find('.menu .menuItem').at(4).simulate('mouseenter');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(2);\n        expect(wrapper.find('.menu .menuItem').length).toBe(6);\n\n        // Hover 4th item (submenu-2), previous sub-menu should be closed\n        wrapper.find('.menu .menuItem').at(3).simulate('mouseenter');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(2);\n        expect(wrapper.find('.menu .menuItem').length).toBe(7);\n\n        // Hover sub-sub-menu item\n        const subMenu = wrapper.find('.menu').at(1);\n        subMenu.find('.menuItem').at(1).simulate('mouseenter');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(3);\n        expect(wrapper.find('.menu .menuItem').length).toBe(8);\n\n        // Click item in sub-sub-menu\n        wrapper.find('#menu-submenu2 #item-item1').last().simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n        expect(fn.mock.calls.length).toBe(1);\n        expect(fn.mock.calls[0][0].label).toBe('item1');\n    });\n\n    it('should update when using asynchronouns items', () => {\n        addMenu('menu', []);\n        addAsyncItem('async-item1', ['menu'], 0);\n        addAsyncItem('async-item2', ['menu'], 200);\n        addAsyncItem('async-item3', ['menu'], 300);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu .menuItem').length).toBe(1);\n\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu .menuItem').length).toBe(2);\n\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should appear when loaded when using asynchronouns items with loading', () => {\n        addMenu('menu', [], false);\n        addAsyncItem('async-item1', ['menu'], 0, true);\n        addAsyncItem('async-item2', ['menu'], 200, true);\n        addAsyncItem('async-item3', ['menu'], 300, true);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(0);\n\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu').length).toBe(0);\n        //\n        advanceTime(wrapper);\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should preload menu', () => {\n        addMenu('menu', [], true);\n        addAsyncItem('async-item0', ['menu:1'], 0, true);\n        addAsyncItem('async-item1', ['menu:1'], 200, true);\n        addAsyncItem('async-item2', ['menu:1'], 300, true);\n\n        const wrapper = getWrapper();\n\n        advanceTime(wrapper);\n        advanceTime(wrapper);\n        advanceTime(wrapper);\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(3);\n    });\n\n    it('should not render empty menu', () => {\n        addMenu('menu', [], false);\n        addMenu('submenu1', ['menu'], true);\n        addMenu('submenu2', ['menu'], true);\n        addAsyncItem('async-item1', ['menu', 'submenu1', 'submenu2'], 100, true, false);\n        addAsyncItem('async-item2', ['menu'], 100, true);\n        addAsyncItem('async-item3', ['menu'], 100, true);\n\n        const wrapper = getWrapper();\n\n        wrapper.find('button').simulate('click');\n        advanceTime(wrapper);\n\n        expect(wrapper.find('.menu').length).toBe(1);\n        expect(wrapper.find('.menu .menuItem').length).toBe(2);\n    });\n});\n"],"mappings":"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"}