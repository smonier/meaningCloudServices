{"version":3,"names":["_client","require","_useSiteInfo","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","adaptSiteInfo","data","jcr","wsDefault","res","result","site","languages","useSiteInfo","_ref","siteKey","displayLanguage","variables","path","useQuery","SITE_INFO_QUERY","errorPolicy","siteInfo","exports"],"sources":["useSiteInfo.ts"],"sourcesContent":["import {useQuery} from '@apollo/client';\nimport {SITE_INFO_QUERY} from './useSiteInfo.gql-queries';\n\nconst adaptSiteInfo = (data: any) => {\n    if (data && (data.jcr || data.wsDefault)) {\n        const res = data.jcr ? data.jcr.result : data.wsDefault.result;\n        if (res) {\n            return {...res.site};\n        }\n    }\n\n    return {\n        languages: []\n    };\n};\n\nexport const useSiteInfo = ({siteKey, displayLanguage}: {siteKey: string, displayLanguage: string}) => {\n    const variables = {\n        path: '/sites/' + siteKey,\n        displayLanguage\n    };\n\n    const res = useQuery(SITE_INFO_QUERY, {variables, errorPolicy: 'ignore'});\n\n    return {\n        ...res,\n        siteInfo: adaptSiteInfo(res.data)\n    };\n};\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAA0D,SAAAE,QAAAC,MAAA,EAAAC,cAAA,QAAAC,IAAA,GAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,OAAAG,MAAA,CAAAC,qBAAA,QAAAC,OAAA,GAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,GAAAC,cAAA,KAAAI,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,EAAAO,GAAA,EAAAE,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,EAAAG,OAAA,YAAAH,IAAA;AAAA,SAAAU,cAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAf,OAAA,CAAAI,MAAA,CAAAc,MAAA,OAAAC,OAAA,WAAAC,GAAA,QAAAC,gBAAA,aAAAP,MAAA,EAAAM,GAAA,EAAAF,MAAA,CAAAE,GAAA,SAAAhB,MAAA,CAAAkB,yBAAA,GAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,EAAAV,MAAA,CAAAkB,yBAAA,CAAAJ,MAAA,KAAAlB,OAAA,CAAAI,MAAA,CAAAc,MAAA,GAAAC,OAAA,WAAAC,GAAA,IAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAM,GAAA,EAAAhB,MAAA,CAAAK,wBAAA,CAAAS,MAAA,EAAAE,GAAA,iBAAAN,MAAA;AAE1D,IAAMW,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,IAAS,EAAK;EACjC,IAAIA,IAAI,KAAKA,IAAI,CAACC,GAAG,IAAID,IAAI,CAACE,SAAS,CAAC,EAAE;IACtC,IAAMC,GAAG,GAAGH,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACC,GAAG,CAACG,MAAM,GAAGJ,IAAI,CAACE,SAAS,CAACE,MAAM;IAC9D,IAAID,GAAG,EAAE;MACL,OAAAhB,aAAA,KAAWgB,GAAG,CAACE,IAAI;IACvB;EACJ;EAEA,OAAO;IACHC,SAAS,EAAE;EACf,CAAC;AACL,CAAC;AAEM,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAA+E;EAAA,IAA1EC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAEC,eAAe,GAAAF,IAAA,CAAfE,eAAe;EACjD,IAAMC,SAAS,GAAG;IACdC,IAAI,EAAE,SAAS,GAAGH,OAAO;IACzBC,eAAe,EAAfA;EACJ,CAAC;EAED,IAAMP,GAAG,GAAG,IAAAU,gBAAQ,EAACC,4BAAe,EAAE;IAACH,SAAS,EAATA,SAAS;IAAEI,WAAW,EAAE;EAAQ,CAAC,CAAC;EAEzE,OAAA5B,aAAA,CAAAA,aAAA,KACOgB,GAAG;IACNa,QAAQ,EAAEjB,aAAa,CAACI,GAAG,CAACH,IAAI;EAAC;AAEzC,CAAC;AAACiB,OAAA,CAAAV,WAAA,GAAAA,WAAA"}