{"version":3,"names":["_useNodeInfo","require","_react","_fastDeepEqual","_interopRequireDefault","clean","obj","Object","fromEntries","entries","filter","_ref","_ref2","_slicedToArray2","v","undefined","cleanVariables","_ref3","_ref4","cleanOptions","_ref5","_ref6","k","validOptions","indexOf","useMemoRequest","variables","queryOptions","options","setResult","requestValue","requestRef","useRef","deepEquals","current"],"sources":["useMemoRequest.ts"],"sourcesContent":["import {NodeInfoOptions, validOptions} from './useNodeInfo.gql-queries';\nimport {useRef} from 'react';\nimport deepEquals from 'fast-deep-equal';\nimport {WatchQueryOptions} from '@apollo/client';\nimport {QueuedRequest} from './useNodeInfo';\n\nconst clean = (obj: object) => obj && Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== null && v !== undefined));\nconst cleanVariables = (obj: object) => obj && Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== null && v !== undefined));\nconst cleanOptions = (obj: NodeInfoOptions) => obj && Object.fromEntries(Object.entries(obj).filter(([k, v]) => v !== null && v !== undefined && validOptions.indexOf(k) !== -1));\n\nexport function useMemoRequest(variables: {[key:string]: unknown}, queryOptions: Partial<WatchQueryOptions>, options: NodeInfoOptions, setResult: (data:any) => void): [QueuedRequest, boolean] {\n    variables = cleanVariables(variables);\n    queryOptions = clean(queryOptions);\n    options = cleanOptions(options);\n\n    const requestValue = {variables, queryOptions, options, setResult};\n    const requestRef = useRef<QueuedRequest>(requestValue);\n\n    if (!deepEquals(variables, requestRef.current.variables) || !deepEquals(queryOptions, requestRef.current.queryOptions) || !deepEquals(options, requestRef.current.options)) {\n        requestRef.current = requestValue;\n    }\n\n    return [requestRef.current, requestRef.current === requestValue];\n}\n"],"mappings":";;;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,cAAA,GAAAC,sBAAA,CAAAH,OAAA;AAIA,IAAMI,KAAK,GAAG,SAARA,KAAKA,CAAIC,GAAW;EAAA,OAAKA,GAAG,IAAIC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACH,GAAG,CAAC,CAACI,MAAM,CAAC,UAAAC,IAAA;IAAA,IAAAC,KAAA,OAAAC,eAAA,aAAAF,IAAA;MAAIG,CAAC,GAAAF,KAAA;IAAA,OAAME,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAKC,SAAS;EAAA,EAAC,CAAC;AAAA;AAC9H,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIV,GAAW;EAAA,OAAKA,GAAG,IAAIC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACH,GAAG,CAAC,CAACI,MAAM,CAAC,UAAAO,KAAA;IAAA,IAAAC,KAAA,OAAAL,eAAA,aAAAI,KAAA;MAAIH,CAAC,GAAAI,KAAA;IAAA,OAAMJ,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAKC,SAAS;EAAA,EAAC,CAAC;AAAA;AACvI,IAAMI,YAAY,GAAG,SAAfA,YAAYA,CAAIb,GAAoB;EAAA,OAAKA,GAAG,IAAIC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACH,GAAG,CAAC,CAACI,MAAM,CAAC,UAAAU,KAAA;IAAA,IAAAC,KAAA,OAAAR,eAAA,aAAAO,KAAA;MAAEE,CAAC,GAAAD,KAAA;MAAEP,CAAC,GAAAO,KAAA;IAAA,OAAMP,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAKC,SAAS,IAAIQ,yBAAY,CAACC,OAAO,CAACF,CAAC,CAAC,KAAK,CAAC,CAAC;EAAA,EAAC,CAAC;AAAA;AAE1K,SAASG,cAAcA,CAACC,SAAkC,EAAEC,YAAwC,EAAEC,OAAwB,EAAEC,SAA6B,EAA4B;EAC5LH,SAAS,GAAGV,cAAc,CAACU,SAAS,CAAC;EACrCC,YAAY,GAAGtB,KAAK,CAACsB,YAAY,CAAC;EAClCC,OAAO,GAAGT,YAAY,CAACS,OAAO,CAAC;EAE/B,IAAME,YAAY,GAAG;IAACJ,SAAS,EAATA,SAAS;IAAEC,YAAY,EAAZA,YAAY;IAAEC,OAAO,EAAPA,OAAO;IAAEC,SAAS,EAATA;EAAS,CAAC;EAClE,IAAME,UAAU,GAAG,IAAAC,aAAM,EAAgBF,YAAY,CAAC;EAEtD,IAAI,CAAC,IAAAG,yBAAU,EAACP,SAAS,EAAEK,UAAU,CAACG,OAAO,CAACR,SAAS,CAAC,IAAI,CAAC,IAAAO,yBAAU,EAACN,YAAY,EAAEI,UAAU,CAACG,OAAO,CAACP,YAAY,CAAC,IAAI,CAAC,IAAAM,yBAAU,EAACL,OAAO,EAAEG,UAAU,CAACG,OAAO,CAACN,OAAO,CAAC,EAAE;IACxKG,UAAU,CAACG,OAAO,GAAGJ,YAAY;EACrC;EAEA,OAAO,CAACC,UAAU,CAACG,OAAO,EAAEH,UAAU,CAACG,OAAO,KAAKJ,YAAY,CAAC;AACpE"}