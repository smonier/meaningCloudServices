{"version":3,"file":"155.jahia.7750c2.js","mappings":"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","sources":["webpack://@jahia/meaningCloudServices/./node_modules/zen-observable-ts/module.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/fragments.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/storeUtils.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/getFromAST.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/ApolloLink.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/createOperation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/transformOperation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/validateOperation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/execute.js","webpack://@jahia/meaningCloudServices/./node_modules/graphql/language/visitor.mjs","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/directives.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/serializeFetchParameter.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/selectURI.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/reader.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/responseIterator.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/promise.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/responseIterator.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/async.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/nodeStream.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/throwServerError.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/mergeDeep.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/incrementalResult.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/checkFetcher.js","webpack://@jahia/meaningCloudServices/./node_modules/graphql/language/printer.mjs","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/createSignalIfSupported.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/rewriteURIForGET.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/fromError.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/createHttpLink.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/HttpLink.js","webpack://@jahia/meaningCloudServices/./node_modules/@wry/trie/lib/index.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/object-canon.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/asyncMap.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/errorHandling.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/transform.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/makeUniqueId.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/iteration.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/subclassing.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/Concast.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/cloneDeep.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/ObservableQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/graphql/language/predicates.mjs","webpack://@jahia/meaningCloudServices/./node_modules/optimism/node_modules/@wry/trie/lib/trie.esm.js","webpack://@jahia/meaningCloudServices/./node_modules/@wry/context/lib/slot.js","webpack://@jahia/meaningCloudServices/./node_modules/@wry/context/lib/index.js","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/bundle.esm.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/reactiveVars.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/LocalState.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/QueryInfo.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/QueryManager.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/core/types/Cache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/ApolloClient.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/version.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/core/cache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/core/types/common.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/helpers.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/entityStore.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/readFromStore.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/key-extractor.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/policies.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/stringifyForDisplay.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/writeToStore.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/empty.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/from.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/split.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/concat.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/toPromise.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/fromPromise.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/index.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/context/ApolloProvider.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/context/ApolloConsumer.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useLazyQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useMutation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useSubscription.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useReactiveVar.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useFragment.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/components/Query.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/components/Mutation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/components/Subscription.js"],"sourcesContent":["function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(observer, subscriber) {\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.unsubscribe = function unsubscribe() {\n    if (this._state !== 'closed') {\n      closeSubscription(this);\n      cleanupSubscription(this);\n    }\n  };\n\n  _createClass(Subscription, [{\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = /*#__PURE__*/function () {\n  function SubscriptionObserver(subscription) {\n    this._subscription = subscription;\n  }\n\n  var _proto2 = SubscriptionObserver.prototype;\n\n  _proto2.next = function next(value) {\n    onNotify(this._subscription, 'next', value);\n  };\n\n  _proto2.error = function error(value) {\n    onNotify(this._subscription, 'error', value);\n  };\n\n  _proto2.complete = function complete() {\n    onNotify(this._subscription, 'complete');\n  };\n\n  _createClass(SubscriptionObserver, [{\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = /*#__PURE__*/function () {\n  function Observable(subscriber) {\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  var _proto3 = Observable.prototype;\n\n  _proto3.subscribe = function subscribe(observer) {\n    if (typeof observer !== 'object' || observer === null) {\n      observer = {\n        next: observer,\n        error: arguments[1],\n        complete: arguments[2]\n      };\n    }\n\n    return new Subscription(observer, this._subscriber);\n  };\n\n  _proto3.forEach = function forEach(fn) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      if (typeof fn !== 'function') {\n        reject(new TypeError(fn + ' is not a function'));\n        return;\n      }\n\n      function done() {\n        subscription.unsubscribe();\n        resolve();\n      }\n\n      var subscription = _this.subscribe({\n        next: function (value) {\n          try {\n            fn(value, done);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  };\n\n  _proto3.map = function map(fn) {\n    var _this2 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this2.subscribe({\n        next: function (value) {\n          try {\n            value = fn(value);\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.filter = function filter(fn) {\n    var _this3 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this3.subscribe({\n        next: function (value) {\n          try {\n            if (!fn(value)) return;\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.reduce = function reduce(fn) {\n    var _this4 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    var hasSeed = arguments.length > 1;\n    var hasValue = false;\n    var seed = arguments[1];\n    var acc = seed;\n    return new C(function (observer) {\n      return _this4.subscribe({\n        next: function (value) {\n          var first = !hasValue;\n          hasValue = true;\n\n          if (!first || hasSeed) {\n            try {\n              acc = fn(acc, value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          } else {\n            acc = value;\n          }\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n          observer.next(acc);\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.concat = function concat() {\n    var _this5 = this;\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscription;\n      var index = 0;\n\n      function startNext(next) {\n        subscription = next.subscribe({\n          next: function (v) {\n            observer.next(v);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (index === sources.length) {\n              subscription = undefined;\n              observer.complete();\n            } else {\n              startNext(C.from(sources[index++]));\n            }\n          }\n        });\n      }\n\n      startNext(_this5);\n      return function () {\n        if (subscription) {\n          subscription.unsubscribe();\n          subscription = undefined;\n        }\n      };\n    });\n  };\n\n  _proto3.flatMap = function flatMap(fn) {\n    var _this6 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscriptions = [];\n\n      var outer = _this6.subscribe({\n        next: function (value) {\n          if (fn) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          }\n\n          var inner = C.from(value).subscribe({\n            next: function (value) {\n              observer.next(value);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              var i = subscriptions.indexOf(inner);\n              if (i >= 0) subscriptions.splice(i, 1);\n              completeIfDone();\n            }\n          });\n          subscriptions.push(inner);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          completeIfDone();\n        }\n      });\n\n      function completeIfDone() {\n        if (outer.closed && subscriptions.length === 0) observer.complete();\n      }\n\n      return function () {\n        subscriptions.forEach(function (s) {\n          return s.unsubscribe();\n        });\n        outer.unsubscribe();\n      };\n    });\n  };\n\n  _proto3[SymbolObservable] = function () {\n    return this;\n  };\n\n  Observable.from = function from(x) {\n    var C = typeof this === 'function' ? this : Observable;\n    if (x == null) throw new TypeError(x + ' is not an object');\n    var method = getMethod(x, SymbolObservable);\n\n    if (method) {\n      var observable = method.call(x);\n      if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n      if (isObservable(observable) && observable.constructor === C) return observable;\n      return new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n\n    if (hasSymbol('iterator')) {\n      method = getMethod(x, SymbolIterator);\n\n      if (method) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var _iterator = _createForOfIteratorHelperLoose(method.call(x)), _step; !(_step = _iterator()).done;) {\n              var item = _step.value;\n              observer.next(item);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n    }\n\n    if (Array.isArray(x)) {\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < x.length; ++i) {\n            observer.next(x[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n\n    throw new TypeError(x + ' is not observable');\n  };\n\n  Observable.of = function of() {\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n\n    var C = typeof this === 'function' ? this : Observable;\n    return new C(function (observer) {\n      enqueue(function () {\n        if (observer.closed) return;\n\n        for (var i = 0; i < items.length; ++i) {\n          observer.next(items[i]);\n          if (observer.closed) return;\n        }\n\n        observer.complete();\n      });\n    });\n  };\n\n  _createClass(Observable, null, [{\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}\n\nexport { Observable };\n","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant, InvariantError } from \"../globals/index.js\";\nexport function getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Found a \".concat(definition.operation, \" operation\").concat(definition.name ? \" named '\".concat(definition.name.value, \"'\") : '', \". \") +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.') : new InvariantError(44);\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        __DEV__ ? invariant(fragments.length === 1, \"Found \".concat(fragments.length, \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\")) : invariant(fragments.length === 1, 45);\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ], document.definitions, true) });\n    return query;\n}\nexport function createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nexport function getFragmentFromSelection(selection, fragmentMap) {\n    switch (selection.kind) {\n        case 'InlineFragment':\n            return selection;\n        case 'FragmentSpread': {\n            var fragmentName = selection.name.value;\n            if (typeof fragmentMap === \"function\") {\n                return fragmentMap(fragmentName);\n            }\n            var fragment = fragmentMap && fragmentMap[fragmentName];\n            __DEV__ ? invariant(fragment, \"No fragment named \".concat(fragmentName)) : invariant(fragment, 46);\n            return fragment || null;\n        }\n        default:\n            return null;\n    }\n}\n//# sourceMappingURL=fragments.js.map","import { InvariantError } from \"../globals/index.js\";\nimport { isNonNullObject } from \"../common/objects.js\";\nimport { getFragmentFromSelection } from \"./fragments.js\";\nexport function makeReference(id) {\n    return { __ref: String(id) };\n}\nexport function isReference(obj) {\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\n}\nexport function isDocumentNode(value) {\n    return (isNonNullObject(value) &&\n        value.kind === \"Document\" &&\n        Array.isArray(value.definitions));\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw __DEV__ ? new InvariantError(\"The inline argument \\\"\".concat(name.value, \"\\\" of kind \\\"\").concat(value.kind, \"\\\"\") +\n            'is not supported. Use variables instead of inline arguments to ' +\n            'overcome this limitation.') : new InvariantError(55);\n    }\n}\nexport function storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n];\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\n    if (args &&\n        directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = args[key];\n            });\n            return \"\".concat(directives['connection']['key'], \"(\").concat(stringify(filteredArgs_1), \")\");\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\".concat(stringifiedArgs, \")\");\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\".concat(key, \"(\").concat(stringify(directives[key]), \")\");\n            }\n            else {\n                completeFieldName += \"@\".concat(key);\n            }\n        });\n    }\n    return completeFieldName;\n}, {\n    setStringify: function (s) {\n        var previous = stringify;\n        stringify = s;\n        return previous;\n    },\n});\nvar stringify = function defaultStringify(value) {\n    return JSON.stringify(value, stringifyReplacer);\n};\nfunction stringifyReplacer(_key, value) {\n    if (isNonNullObject(value) && !Array.isArray(value)) {\n        value = Object.keys(value).sort().reduce(function (copy, key) {\n            copy[key] = value[key];\n            return copy;\n        }, {});\n    }\n    return value;\n}\nexport function argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nexport function resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\n    var fragments;\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\n        var selection = _a[_i];\n        if (isField(selection)) {\n            if (selection.name.value === '__typename') {\n                return result[resultKeyNameFromField(selection)];\n            }\n        }\n        else if (fragments) {\n            fragments.push(selection);\n        }\n        else {\n            fragments = [selection];\n        }\n    }\n    if (typeof result.__typename === 'string') {\n        return result.__typename;\n    }\n    if (fragments) {\n        for (var _b = 0, fragments_1 = fragments; _b < fragments_1.length; _b++) {\n            var selection = fragments_1[_b];\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\n            if (typeof typename === 'string') {\n                return typename;\n            }\n        }\n    }\n}\nexport function isField(selection) {\n    return selection.kind === 'Field';\n}\nexport function isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\n//# sourceMappingURL=storeUtils.js.map","import { invariant, InvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\nexport function checkDocument(doc) {\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 47);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\".concat(definition.kind, \"\\\"\")) : new InvariantError(48);\n        }\n        return definition;\n    });\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \".concat(operations.length, \" operations\")) : invariant(operations.length <= 1, 49);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === 'OperationDefinition';\n    })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && !!definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === 'FragmentDefinition';\n    });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 50);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 51);\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 52);\n    var fragmentDef = doc.definitions[0];\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 53);\n    return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(54);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map","import { __extends } from \"tslib\";\nimport { InvariantError, invariant } from \"../../utilities/globals/index.js\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { validateOperation, createOperation, transformOperation, } from \"../utils/index.js\";\nfunction passthrough(op, forward) {\n    return (forward ? forward(op) : Observable.of());\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nvar LinkError = (function (_super) {\n    __extends(LinkError, _super);\n    function LinkError(message, link) {\n        var _this = _super.call(this, message) || this;\n        _this.link = link;\n        return _this;\n    }\n    return LinkError;\n}(Error));\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.empty = function () {\n        return new ApolloLink(function () { return Observable.of(); });\n    };\n    ApolloLink.from = function (links) {\n        if (links.length === 0)\n            return ApolloLink.empty();\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n    };\n    ApolloLink.split = function (test, left, right) {\n        var leftLink = toLink(left);\n        var rightLink = toLink(right || new ApolloLink(passthrough));\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\n            return new ApolloLink(function (operation) {\n                return test(operation)\n                    ? leftLink.request(operation) || Observable.of()\n                    : rightLink.request(operation) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return test(operation)\n                    ? leftLink.request(operation, forward) || Observable.of()\n                    : rightLink.request(operation, forward) || Observable.of();\n            });\n        }\n    };\n    ApolloLink.execute = function (link, operation) {\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n    };\n    ApolloLink.concat = function (first, second) {\n        var firstLink = toLink(first);\n        if (isTerminating(firstLink)) {\n            __DEV__ && invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\n            return firstLink;\n        }\n        var nextLink = toLink(second);\n        if (isTerminating(nextLink)) {\n            return new ApolloLink(function (operation) {\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return (firstLink.request(operation, function (op) {\n                    return nextLink.request(op, forward) || Observable.of();\n                }) || Observable.of());\n            });\n        }\n    };\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return ApolloLink.concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw __DEV__ ? new InvariantError('request is not implemented') : new InvariantError(22);\n    };\n    ApolloLink.prototype.onError = function (error, observer) {\n        if (observer && observer.error) {\n            observer.error(error);\n            return false;\n        }\n        throw error;\n    };\n    ApolloLink.prototype.setOnError = function (fn) {\n        this.onError = fn;\n        return this;\n    };\n    return ApolloLink;\n}());\nexport { ApolloLink };\n//# sourceMappingURL=ApolloLink.js.map","import { __assign } from \"tslib\";\nexport function createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign(__assign({}, context), next(context));\n        }\n        else {\n            context = __assign(__assign({}, context), next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    return operation;\n}\n//# sourceMappingURL=createOperation.js.map","import { getOperationName } from \"../../utilities/index.js\";\nexport function transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query) || undefined\n                : '';\n    }\n    return transformedOperation;\n}\n//# sourceMappingURL=transformOperation.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport function validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw __DEV__ ? new InvariantError(\"illegal argument: \".concat(key)) : new InvariantError(27);\n        }\n    }\n    return operation;\n}\n//# sourceMappingURL=validateOperation.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var execute = ApolloLink.execute;\n//# sourceMappingURL=execute.js.map","import inspect from \"../jsutils/inspect.mjs\";\nimport { isNode } from \"./ast.mjs\";\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\nexport var QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['description', 'directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexport var BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth-first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of the\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node of a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexport function visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n\n  /* eslint-disable no-undef-init */\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var _i2 = 0, _Object$keys2 = Object.keys(node); _i2 < _Object$keys2.length; _i2++) {\n            var k = _Object$keys2[_i2];\n            clone[k] = node[k];\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!isNode(node)) {\n        throw new Error(\"Invalid AST Node: \".concat(inspect(node), \".\"));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if (isNode(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _visitorKeys$node$kin;\n\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : (_visitorKeys$node$kin = visitorKeys[node.kind]) !== null && _visitorKeys$node$kin !== void 0 ? _visitorKeys$node$kin : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\nexport function visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}\n","import { invariant } from \"../globals/index.js\";\nimport { visit, BREAK, } from 'graphql';\nexport function shouldInclude(_a, variables) {\n    var directives = _a.directives;\n    if (!directives || !directives.length) {\n        return true;\n    }\n    return getInclusionDirectives(directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables && variables[ifArgument.value.name.value];\n            __DEV__ ? invariant(evaledValue !== void 0, \"Invalid variable referenced in @\".concat(directive.name.value, \" directive.\")) : invariant(evaledValue !== void 0, 40);\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nexport function getDirectiveNames(root) {\n    var names = [];\n    visit(root, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nexport var hasAnyDirectives = function (names, root) { return hasDirectives(names, root, false); };\nexport var hasAllDirectives = function (names, root) { return hasDirectives(names, root, true); };\nexport function hasDirectives(names, root, all) {\n    var nameSet = new Set(names);\n    var uniqueCount = nameSet.size;\n    visit(root, {\n        Directive: function (node) {\n            if (nameSet.delete(node.name.value) &&\n                (!all || !nameSet.size)) {\n                return BREAK;\n            }\n        },\n    });\n    return all ? !nameSet.size : nameSet.size < uniqueCount;\n}\nexport function hasClientExports(document) {\n    return document && hasDirectives(['client', 'export'], document, true);\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nexport function getInclusionDirectives(directives) {\n    var result = [];\n    if (directives && directives.length) {\n        directives.forEach(function (directive) {\n            if (!isInclusionDirective(directive))\n                return;\n            var directiveArguments = directive.arguments;\n            var directiveName = directive.name.value;\n            __DEV__ ? invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\".concat(directiveName, \" directive.\")) : invariant(directiveArguments && directiveArguments.length === 1, 41);\n            var ifArgument = directiveArguments[0];\n            __DEV__ ? invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\".concat(directiveName, \" directive.\")) : invariant(ifArgument.name && ifArgument.name.value === 'if', 42);\n            var ifValue = ifArgument.value;\n            __DEV__ ? invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\".concat(directiveName, \" directive must be a variable or a boolean value.\")) : invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 43);\n            result.push({ directive: directive, ifArgument: ifArgument });\n        });\n    }\n    return result;\n}\n//# sourceMappingURL=directives.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport var serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = __DEV__ ? new InvariantError(\"Network request failed. \".concat(label, \" is not serializable: \").concat(e.message)) : new InvariantError(24);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\n//# sourceMappingURL=serializeFetchParameter.js.map","export var selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n//# sourceMappingURL=selectURI.js.map","import { canUseAsyncIteratorSymbol } from \"../../../utilities/index.js\";\nexport default function readerIterator(reader) {\n    var iterator = {\n        next: function () {\n            return reader.read();\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=reader.js.map","import { isAsyncIterableIterator, isBlob, isNodeResponse, isNodeReadableStream, isReadableStream, isStreamableBlob, } from \"../../utilities/common/responseIterator.js\";\nimport asyncIterator from \"./iterators/async.js\";\nimport nodeStreamIterator from \"./iterators/nodeStream.js\";\nimport promiseIterator from \"./iterators/promise.js\";\nimport readerIterator from \"./iterators/reader.js\";\nexport function responseIterator(response) {\n    var body = response;\n    if (isNodeResponse(response))\n        body = response.body;\n    if (isAsyncIterableIterator(body))\n        return asyncIterator(body);\n    if (isReadableStream(body))\n        return readerIterator(body.getReader());\n    if (isStreamableBlob(body)) {\n        return readerIterator(body.stream().getReader());\n    }\n    if (isBlob(body))\n        return promiseIterator(body.arrayBuffer());\n    if (isNodeReadableStream(body))\n        return nodeStreamIterator(body);\n    throw new Error(\"Unknown body type for responseIterator. Please pass a streamable response.\");\n}\n//# sourceMappingURL=responseIterator.js.map","import { canUseAsyncIteratorSymbol } from \"../../../utilities/index.js\";\nexport default function promiseIterator(promise) {\n    var resolved = false;\n    var iterator = {\n        next: function () {\n            if (resolved)\n                return Promise.resolve({\n                    value: undefined,\n                    done: true,\n                });\n            resolved = true;\n            return new Promise(function (resolve, reject) {\n                promise\n                    .then(function (value) {\n                    resolve({ value: value, done: false });\n                })\n                    .catch(reject);\n            });\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=promise.js.map","import { canUseAsyncIteratorSymbol } from \"./canUse.js\";\nexport function isNodeResponse(value) {\n    return !!value.body;\n}\nexport function isReadableStream(value) {\n    return !!value.getReader;\n}\nexport function isAsyncIterableIterator(value) {\n    return !!(canUseAsyncIteratorSymbol &&\n        value[Symbol.asyncIterator]);\n}\nexport function isStreamableBlob(value) {\n    return !!value.stream;\n}\nexport function isBlob(value) {\n    return !!value.arrayBuffer;\n}\nexport function isNodeReadableStream(value) {\n    return !!value.pipe;\n}\n//# sourceMappingURL=responseIterator.js.map","export default function asyncIterator(source) {\n    var _a;\n    var iterator = source[Symbol.asyncIterator]();\n    return _a = {\n            next: function () {\n                return iterator.next();\n            }\n        },\n        _a[Symbol.asyncIterator] = function () {\n            return this;\n        },\n        _a;\n}\n//# sourceMappingURL=async.js.map","import { canUseAsyncIteratorSymbol } from \"../../../utilities/index.js\";\nexport default function nodeStreamIterator(stream) {\n    var cleanup = null;\n    var error = null;\n    var done = false;\n    var data = [];\n    var waiting = [];\n    function onData(chunk) {\n        if (error)\n            return;\n        if (waiting.length) {\n            var shiftedArr = waiting.shift();\n            if (Array.isArray(shiftedArr) && shiftedArr[0]) {\n                return shiftedArr[0]({ value: chunk, done: false });\n            }\n        }\n        data.push(chunk);\n    }\n    function onError(err) {\n        error = err;\n        var all = waiting.slice();\n        all.forEach(function (pair) {\n            pair[1](err);\n        });\n        !cleanup || cleanup();\n    }\n    function onEnd() {\n        done = true;\n        var all = waiting.slice();\n        all.forEach(function (pair) {\n            pair[0]({ value: undefined, done: true });\n        });\n        !cleanup || cleanup();\n    }\n    cleanup = function () {\n        cleanup = null;\n        stream.removeListener(\"data\", onData);\n        stream.removeListener(\"error\", onError);\n        stream.removeListener(\"end\", onEnd);\n        stream.removeListener(\"finish\", onEnd);\n        stream.removeListener(\"close\", onEnd);\n    };\n    stream.on(\"data\", onData);\n    stream.on(\"error\", onError);\n    stream.on(\"end\", onEnd);\n    stream.on(\"finish\", onEnd);\n    stream.on(\"close\", onEnd);\n    function getNext() {\n        return new Promise(function (resolve, reject) {\n            if (error)\n                return reject(error);\n            if (data.length)\n                return resolve({ value: data.shift(), done: false });\n            if (done)\n                return resolve({ value: undefined, done: true });\n            waiting.push([resolve, reject]);\n        });\n    }\n    var iterator = {\n        next: function () {\n            return getNext();\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=nodeStream.js.map","export var throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\n//# sourceMappingURL=throwServerError.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { isNonNullObject } from \"./objects.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nexport function mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var merger = new DeepMerger();\n        for (var i = 1; i < count; ++i) {\n            target = merger.merge(target, sources[i]);\n        }\n    }\n    return target;\n}\nvar defaultReconciler = function (target, source, property) {\n    return this.merge(target[property], source[property]);\n};\nvar DeepMerger = (function () {\n    function DeepMerger(reconciler) {\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\n        this.reconciler = reconciler;\n        this.isObject = isNonNullObject;\n        this.pastCopies = new Set();\n    }\n    DeepMerger.prototype.merge = function (target, source) {\n        var _this = this;\n        var context = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            context[_i - 2] = arguments[_i];\n        }\n        if (isNonNullObject(source) && isNonNullObject(target)) {\n            Object.keys(source).forEach(function (sourceKey) {\n                if (hasOwnProperty.call(target, sourceKey)) {\n                    var targetValue = target[sourceKey];\n                    if (source[sourceKey] !== targetValue) {\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\n                        if (result !== targetValue) {\n                            target = _this.shallowCopyForMerge(target);\n                            target[sourceKey] = result;\n                        }\n                    }\n                }\n                else {\n                    target = _this.shallowCopyForMerge(target);\n                    target[sourceKey] = source[sourceKey];\n                }\n            });\n            return target;\n        }\n        return source;\n    };\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\n        if (isNonNullObject(value)) {\n            if (!this.pastCopies.has(value)) {\n                if (Array.isArray(value)) {\n                    value = value.slice(0);\n                }\n                else {\n                    value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n                }\n                this.pastCopies.add(value);\n            }\n        }\n        return value;\n    };\n    return DeepMerger;\n}());\nexport { DeepMerger };\n//# sourceMappingURL=mergeDeep.js.map","import { isNonNullObject } from \"./objects.js\";\nimport { isNonEmptyArray } from \"./arrays.js\";\nimport { DeepMerger } from \"./mergeDeep.js\";\nexport function isExecutionPatchIncrementalResult(value) {\n    return \"incremental\" in value;\n}\nexport function isExecutionPatchInitialResult(value) {\n    return \"hasNext\" in value && \"data\" in value;\n}\nexport function isExecutionPatchResult(value) {\n    return (isExecutionPatchIncrementalResult(value) ||\n        isExecutionPatchInitialResult(value));\n}\nexport function isApolloPayloadResult(value) {\n    return isNonNullObject(value) && \"payload\" in value;\n}\nexport function mergeIncrementalData(prevResult, result) {\n    var mergedData = prevResult;\n    var merger = new DeepMerger();\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (_a) {\n            var data = _a.data, path = _a.path;\n            for (var i = path.length - 1; i >= 0; --i) {\n                var key = path[i];\n                var isNumericKey = !isNaN(+key);\n                var parent_1 = isNumericKey ? [] : {};\n                parent_1[key] = data;\n                data = parent_1;\n            }\n            mergedData = merger.merge(mergedData, data);\n        });\n    }\n    return mergedData;\n}\n//# sourceMappingURL=incrementalResult.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { responseIterator } from \"./responseIterator.js\";\nimport { throwServerError } from \"../utils/index.js\";\nimport { PROTOCOL_ERRORS_SYMBOL } from \"../../errors/index.js\";\nimport { isApolloPayloadResult } from \"../../utilities/common/incrementalResult.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function readMultipartBody(response, observer) {\n    var _a, _b, _c, _d, _e;\n    return __awaiter(this, void 0, void 0, function () {\n        var decoder, contentType, delimiter, boundaryVal, boundary, buffer, iterator, running, _f, value, done, chunk, searchFrom, bi, message, i, headers, contentType_1, body, result, next;\n        var _g, _h;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    if (TextDecoder === undefined) {\n                        throw new Error(\"TextDecoder must be defined in the environment: please import a polyfill.\");\n                    }\n                    decoder = new TextDecoder(\"utf-8\");\n                    contentType = (_a = response.headers) === null || _a === void 0 ? void 0 : _a.get(\"content-type\");\n                    delimiter = \"boundary=\";\n                    boundaryVal = (contentType === null || contentType === void 0 ? void 0 : contentType.includes(delimiter))\n                        ? contentType === null || contentType === void 0 ? void 0 : contentType.substring((contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(delimiter)) + delimiter.length).replace(/['\"]/g, \"\").replace(/\\;(.*)/gm, \"\").trim()\n                        : \"-\";\n                    boundary = \"\\r\\n--\".concat(boundaryVal);\n                    buffer = \"\";\n                    iterator = responseIterator(response);\n                    running = true;\n                    _j.label = 1;\n                case 1:\n                    if (!running) return [3, 3];\n                    return [4, iterator.next()];\n                case 2:\n                    _f = _j.sent(), value = _f.value, done = _f.done;\n                    chunk = typeof value === \"string\" ? value : decoder.decode(value);\n                    searchFrom = buffer.length - boundary.length + 1;\n                    running = !done;\n                    buffer += chunk;\n                    bi = buffer.indexOf(boundary, searchFrom);\n                    while (bi > -1) {\n                        message = void 0;\n                        _g = [\n                            buffer.slice(0, bi),\n                            buffer.slice(bi + boundary.length),\n                        ], message = _g[0], buffer = _g[1];\n                        i = message.indexOf(\"\\r\\n\\r\\n\");\n                        headers = parseHeaders(message.slice(0, i));\n                        contentType_1 = headers[\"content-type\"];\n                        if (contentType_1 &&\n                            contentType_1.toLowerCase().indexOf(\"application/json\") === -1) {\n                            throw new Error(\"Unsupported patch content type: application/json is required.\");\n                        }\n                        body = message.slice(i);\n                        if (body) {\n                            try {\n                                result = parseJsonBody(response, body);\n                                if (Object.keys(result).length > 1 ||\n                                    \"data\" in result ||\n                                    \"incremental\" in result ||\n                                    \"errors\" in result ||\n                                    \"payload\" in result) {\n                                    if (isApolloPayloadResult(result)) {\n                                        next = {};\n                                        if (\"payload\" in result) {\n                                            next = __assign({}, result.payload);\n                                        }\n                                        if (\"errors\" in result) {\n                                            next = __assign(__assign({}, next), { extensions: __assign(__assign({}, (\"extensions\" in next ? next.extensions : null)), (_h = {}, _h[PROTOCOL_ERRORS_SYMBOL] = result.errors, _h)) });\n                                        }\n                                        (_b = observer.next) === null || _b === void 0 ? void 0 : _b.call(observer, next);\n                                    }\n                                    else {\n                                        (_c = observer.next) === null || _c === void 0 ? void 0 : _c.call(observer, result);\n                                    }\n                                }\n                                else if (Object.keys(result).length === 1 &&\n                                    \"hasNext\" in result &&\n                                    !result.hasNext) {\n                                    (_d = observer.complete) === null || _d === void 0 ? void 0 : _d.call(observer);\n                                }\n                            }\n                            catch (err) {\n                                handleError(err, observer);\n                            }\n                        }\n                        bi = buffer.indexOf(boundary);\n                    }\n                    return [3, 1];\n                case 3:\n                    (_e = observer.complete) === null || _e === void 0 ? void 0 : _e.call(observer);\n                    return [2];\n            }\n        });\n    });\n}\nexport function parseHeaders(headerText) {\n    var headersInit = {};\n    headerText.split(\"\\n\").forEach(function (line) {\n        var i = line.indexOf(\":\");\n        if (i > -1) {\n            var name_1 = line.slice(0, i).trim().toLowerCase();\n            var value = line.slice(i + 1).trim();\n            headersInit[name_1] = value;\n        }\n    });\n    return headersInit;\n}\nexport function parseJsonBody(response, bodyText) {\n    if (response.status >= 300) {\n        var getResult = function () {\n            try {\n                return JSON.parse(bodyText);\n            }\n            catch (err) {\n                return bodyText;\n            }\n        };\n        throwServerError(response, getResult(), \"Response not successful: Received status code \".concat(response.status));\n    }\n    try {\n        return JSON.parse(bodyText);\n    }\n    catch (err) {\n        var parseError = err;\n        parseError.name = \"ServerParseError\";\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        throw parseError;\n    }\n}\nexport function handleError(err, observer) {\n    var _a, _b;\n    if (err.name === \"AbortError\")\n        return;\n    if (err.result && err.result.errors && err.result.data) {\n        (_a = observer.next) === null || _a === void 0 ? void 0 : _a.call(observer, err.result);\n    }\n    (_b = observer.error) === null || _b === void 0 ? void 0 : _b.call(observer, err);\n}\nexport function readJsonBody(response, operation, observer) {\n    parseAndCheckHttpResponse(operation)(response)\n        .then(function (result) {\n        var _a, _b;\n        (_a = observer.next) === null || _a === void 0 ? void 0 : _a.call(observer, result);\n        (_b = observer.complete) === null || _b === void 0 ? void 0 : _b.call(observer);\n    })\n        .catch(function (err) { return handleError(err, observer); });\n}\nexport function parseAndCheckHttpResponse(operations) {\n    return function (response) {\n        return response\n            .text()\n            .then(function (bodyText) { return parseJsonBody(response, bodyText); })\n            .then(function (result) {\n            if (response.status >= 300) {\n                throwServerError(response, result, \"Response not successful: Received status code \".concat(response.status));\n            }\n            if (!Array.isArray(result) &&\n                !hasOwnProperty.call(result, \"data\") &&\n                !hasOwnProperty.call(result, \"errors\")) {\n                throwServerError(response, result, \"Server response was missing for query '\".concat(Array.isArray(operations)\n                    ? operations.map(function (op) { return op.operationName; })\n                    : operations.operationName, \"'.\"));\n            }\n            return result;\n        });\n    };\n}\n//# sourceMappingURL=parseAndCheckHttpResponse.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport var checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        throw __DEV__ ? new InvariantError(\"\\n\\\"fetch\\\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\\n\\nimport fetch from 'cross-fetch';\\nimport { ApolloClient, HttpLink } from '@apollo/client';\\nconst client = new ApolloClient({\\n  link: new HttpLink({ uri: '/graphql', fetch })\\n});\\n    \") : new InvariantError(23);\n    }\n};\n//# sourceMappingURL=checkFetcher.js.map","import { visit } from \"./visitor.mjs\";\nimport { printBlockString } from \"./blockString.mjs\";\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, {\n    leave: printDocASTReducer\n  });\n}\nvar MAX_LINE_LENGTH = 80; // TODO: provide better type coverage in future\n\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    var prefix = wrap('', alias, ': ') + name;\n    var argsLine = prefix + wrap('(', join(args, ', '), ')');\n\n    if (argsLine.length > MAX_LINE_LENGTH) {\n      argsLine = prefix + wrap('(\\n', indent(join(args, '\\n')), '\\n)');\n    }\n\n    return join([argsLine, join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? printBlockString(value, key === 'description' ? '' : '  ') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: addDescription(function (_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  }),\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        interfaces = _ref26.interfaces,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        repeatable = _ref31.repeatable,\n        locations = _ref31.locations;\n    return 'directive @' + name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + (repeatable ? ' repeatable' : '') + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        interfaces = _ref35.interfaces,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray) {\n  var _maybeArray$filter$jo;\n\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return (_maybeArray$filter$jo = maybeArray === null || maybeArray === void 0 ? void 0 : maybeArray.filter(function (x) {\n    return x;\n  }).join(separator)) !== null && _maybeArray$filter$jo !== void 0 ? _maybeArray$filter$jo : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return wrap('{\\n', indent(join(array, '\\n')), '\\n}');\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise print an empty string.\n */\n\n\nfunction wrap(start, maybeString) {\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return maybeString != null && maybeString !== '' ? start + maybeString + end : '';\n}\n\nfunction indent(str) {\n  return wrap('  ', str.replace(/\\n/g, '\\n  '));\n}\n\nfunction isMultiline(str) {\n  return str.indexOf('\\n') !== -1;\n}\n\nfunction hasMultilineItems(maybeArray) {\n  return maybeArray != null && maybeArray.some(isMultiline);\n}\n","import { __assign, __spreadArray } from \"tslib\";\nimport { print } from 'graphql';\n;\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n    preserveHeaderCase: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nexport var fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nexport var defaultPrinter = function (ast, printer) { return printer(ast); };\nexport function selectHttpOptionsAndBody(operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    configs.unshift(fallbackConfig);\n    return selectHttpOptionsAndBodyInternal.apply(void 0, __spreadArray([operation,\n        defaultPrinter], configs, false));\n}\nexport function selectHttpOptionsAndBodyInternal(operation, printer) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = {};\n    var http = {};\n    configs.forEach(function (config) {\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), config.headers) });\n        if (config.credentials) {\n            options.credentials = config.credentials;\n        }\n        http = __assign(__assign({}, http), config.http);\n    });\n    if (options.headers) {\n        options.headers = removeDuplicateHeaders(options.headers, http.preserveHeaderCase);\n    }\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = printer(query, print);\n    return {\n        options: options,\n        body: body,\n    };\n}\n;\nfunction removeDuplicateHeaders(headers, preserveHeaderCase) {\n    if (!preserveHeaderCase) {\n        var normalizedHeaders_1 = Object.create(null);\n        Object.keys(Object(headers)).forEach(function (name) {\n            normalizedHeaders_1[name.toLowerCase()] = headers[name];\n        });\n        return normalizedHeaders_1;\n    }\n    var headerData = Object.create(null);\n    Object.keys(Object(headers)).forEach(function (name) {\n        headerData[name.toLowerCase()] = { originalName: name, value: headers[name] };\n    });\n    var normalizedHeaders = Object.create(null);\n    Object.keys(headerData).forEach(function (name) {\n        normalizedHeaders[headerData[name].originalName] = headerData[name].value;\n    });\n    return normalizedHeaders;\n}\n//# sourceMappingURL=selectHttpOptionsAndBody.js.map","export var createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\n//# sourceMappingURL=createSignalIfSupported.js.map","import { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nexport function rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(\"\".concat(key, \"=\").concat(encodeURIComponent(value)));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\n//# sourceMappingURL=rewriteURIForGET.js.map","import { Observable } from \"../../utilities/index.js\";\nexport function fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\n//# sourceMappingURL=fromError.js.map","import { __assign, __rest } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { visit } from 'graphql';\nimport { ApolloLink } from \"../core/index.js\";\nimport { Observable, hasDirectives } from \"../../utilities/index.js\";\nimport { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nimport { selectURI } from \"./selectURI.js\";\nimport { handleError, readMultipartBody, readJsonBody } from \"./parseAndCheckHttpResponse.js\";\nimport { checkFetcher } from \"./checkFetcher.js\";\nimport { selectHttpOptionsAndBodyInternal, defaultPrinter, fallbackHttpConfig } from \"./selectHttpOptionsAndBody.js\";\nimport { createSignalIfSupported } from \"./createSignalIfSupported.js\";\nimport { rewriteURIForGET } from \"./rewriteURIForGET.js\";\nimport { fromError } from \"../utils/index.js\";\nimport { maybe, getMainDefinition } from \"../../utilities/index.js\";\nvar backupFetch = maybe(function () { return fetch; });\nexport var createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, _b = linkOptions.print, print = _b === void 0 ? defaultPrinter : _b, includeExtensions = linkOptions.includeExtensions, preserveHeaderCase = linkOptions.preserveHeaderCase, useGETForQueries = linkOptions.useGETForQueries, _c = linkOptions.includeUnusedVariables, includeUnusedVariables = _c === void 0 ? false : _c, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"print\", \"includeExtensions\", \"preserveHeaderCase\", \"useGETForQueries\", \"includeUnusedVariables\"]);\n    if (__DEV__) {\n        checkFetcher(preferredFetch || backupFetch);\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions, preserveHeaderCase: preserveHeaderCase },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        var _b = selectHttpOptionsAndBodyInternal(operation, print, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        if (body.variables && !includeUnusedVariables) {\n            var unusedNames_1 = new Set(Object.keys(body.variables));\n            visit(operation.query, {\n                Variable: function (node, _key, parent) {\n                    if (parent && parent.kind !== 'VariableDefinition') {\n                        unusedNames_1.delete(node.name.value);\n                    }\n                },\n            });\n            if (unusedNames_1.size) {\n                body.variables = __assign({}, body.variables);\n                unusedNames_1.forEach(function (name) {\n                    delete body.variables[name];\n                });\n            }\n        }\n        var controller;\n        if (!options.signal) {\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\n            controller = _controller;\n            if (controller)\n                options.signal = signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        var definitionIsSubscription = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'subscription';\n        };\n        var isSubscription = definitionIsSubscription(getMainDefinition(operation.query));\n        var hasDefer = hasDirectives(['defer'], operation.query);\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (hasDefer || isSubscription) {\n            options.headers = options.headers || {};\n            var acceptHeader = \"multipart/mixed;\";\n            if (isSubscription && hasDefer) {\n                __DEV__ && invariant.warn(\"Multipart-subscriptions do not support @defer\");\n            }\n            if (isSubscription) {\n                acceptHeader += 'boundary=graphql;subscriptionSpec=1.0,application/json';\n            }\n            else if (hasDefer) {\n                acceptHeader += 'deferSpec=20220824,application/json';\n            }\n            options.headers.accept = acceptHeader;\n        }\n        if (options.method === 'GET') {\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\n            currentFetch(chosenURI, options)\n                .then(function (response) {\n                var _a;\n                operation.setContext({ response: response });\n                var ctype = (_a = response.headers) === null || _a === void 0 ? void 0 : _a.get('content-type');\n                if (ctype !== null && /^multipart\\/mixed/i.test(ctype)) {\n                    return readMultipartBody(response, observer);\n                }\n                else {\n                    return readJsonBody(response, operation, observer);\n                }\n            })\n                .catch(function (err) { return handleError(err, observer); });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\n//# sourceMappingURL=createHttpLink.js.map","import { __extends } from \"tslib\";\nimport { ApolloLink } from \"../core/index.js\";\nimport { createHttpLink } from \"./createHttpLink.js\";\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, createHttpLink(options).request) || this;\n        _this.options = options;\n        return _this;\n    }\n    return HttpLink;\n}(ApolloLink));\nexport { HttpLink };\n//# sourceMappingURL=HttpLink.js.map","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\n// object keys weakly, yet can also hold non-object keys, unlike the\n// native `WeakMap`.\n// If no makeData function is supplied, the looked-up data will be an empty,\n// null-prototype Object.\nconst defaultMakeData = () => Object.create(null);\n// Useful for processing arguments objects as well as arrays.\nconst { forEach, slice } = Array.prototype;\nconst { hasOwnProperty } = Object.prototype;\nexport class Trie {\n    constructor(weakness = true, makeData = defaultMakeData) {\n        this.weakness = weakness;\n        this.makeData = makeData;\n    }\n    lookup(...array) {\n        return this.lookupArray(array);\n    }\n    lookupArray(array) {\n        let node = this;\n        forEach.call(array, key => node = node.getChildTrie(key));\n        return hasOwnProperty.call(node, \"data\")\n            ? node.data\n            : node.data = this.makeData(slice.call(array));\n    }\n    peek(...array) {\n        return this.peekArray(array);\n    }\n    peekArray(array) {\n        let node = this;\n        for (let i = 0, len = array.length; node && i < len; ++i) {\n            const map = this.weakness && isObjRef(array[i]) ? node.weak : node.strong;\n            node = map && map.get(array[i]);\n        }\n        return node && node.data;\n    }\n    getChildTrie(key) {\n        const map = this.weakness && isObjRef(key)\n            ? this.weak || (this.weak = new WeakMap())\n            : this.strong || (this.strong = new Map());\n        let child = map.get(key);\n        if (!child)\n            map.set(key, child = new Trie(this.weakness, this.makeData));\n        return child;\n    }\n}\nfunction isObjRef(value) {\n    switch (typeof value) {\n        case \"object\":\n            if (value === null)\n                break;\n        // Fall through to return true...\n        case \"function\":\n            return true;\n    }\n    return false;\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (__DEV__) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (__DEV__) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n//# sourceMappingURL=object-canon.js.map","import { Observable } from \"./Observable.js\";\nexport function asyncMap(observable, mapFn, catchFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeCallbackCount = 0;\n        var completed = false;\n        var promiseQueue = {\n            then: function (callback) {\n                return new Promise(function (resolve) { return resolve(callback()); });\n            },\n        };\n        function makeCallback(examiner, delegate) {\n            if (examiner) {\n                return function (arg) {\n                    ++activeCallbackCount;\n                    var both = function () { return examiner(arg); };\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\n                        --activeCallbackCount;\n                        next && next.call(observer, result);\n                        if (completed) {\n                            handler.complete();\n                        }\n                    }, function (error) {\n                        --activeCallbackCount;\n                        throw error;\n                    }).catch(function (caught) {\n                        error && error.call(observer, caught);\n                    });\n                };\n            }\n            else {\n                return function (arg) { return delegate && delegate.call(observer, arg); };\n            }\n        }\n        var handler = {\n            next: makeCallback(mapFn, next),\n            error: makeCallback(catchFn, error),\n            complete: function () {\n                completed = true;\n                if (!activeCallbackCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n//# sourceMappingURL=asyncMap.js.map","import { isNonEmptyArray } from \"./arrays.js\";\nimport { isExecutionPatchIncrementalResult } from \"./incrementalResult.js\";\nexport function graphQLResultHasError(result) {\n    var errors = getGraphQLErrorsFromResult(result);\n    return isNonEmptyArray(errors);\n}\nexport function getGraphQLErrorsFromResult(result) {\n    var graphQLErrors = isNonEmptyArray(result.errors)\n        ? result.errors.slice(0)\n        : [];\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (incrementalResult) {\n            if (incrementalResult.errors) {\n                graphQLErrors.push.apply(graphQLErrors, incrementalResult.errors);\n            }\n        });\n    }\n    return graphQLErrors;\n}\n//# sourceMappingURL=errorHandling.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from \"../globals/index.js\";\nimport { visit, Kind, } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from \"./getFromAST.js\";\nimport { isField } from \"./storeUtils.js\";\nimport { createFragmentMap, } from \"./fragments.js\";\nimport { isArray } from \"../common/arrays.js\";\nvar TYPENAME_FIELD = {\n    kind: Kind.FIELD,\n    name: {\n        kind: Kind.NAME,\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragmentMap) {\n    return !op || op.selectionSet.selections.every(function (selection) { return selection.kind === Kind.FRAGMENT_SPREAD &&\n        isEmpty(fragmentMap[selection.name.value], fragmentMap); });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    var nameSet = new Set();\n    var tests = [];\n    directives.forEach(function (directive) {\n        if (directive.name) {\n            nameSet.add(directive.name);\n        }\n        else if (directive.test) {\n            tests.push(directive.test);\n        }\n    });\n    return function (directive) { return (nameSet.has(directive.name.value) ||\n        tests.some(function (test) { return test(directive); })); };\n}\nfunction makeInUseGetterFunction(defaultKey) {\n    var map = new Map();\n    return function inUseGetterFunction(key) {\n        if (key === void 0) { key = defaultKey; }\n        var inUse = map.get(key);\n        if (!inUse) {\n            map.set(key, inUse = {\n                variables: new Set,\n                fragmentSpreads: new Set,\n            });\n        }\n        return inUse;\n    };\n}\nexport function removeDirectivesFromDocument(directives, doc) {\n    var getInUseByOperationName = makeInUseGetterFunction(\"\");\n    var getInUseByFragmentName = makeInUseGetterFunction(\"\");\n    var getInUse = function (ancestors) {\n        for (var p = 0, ancestor = void 0; p < ancestors.length && (ancestor = ancestors[p]); ++p) {\n            if (isArray(ancestor))\n                continue;\n            if (ancestor.kind === Kind.OPERATION_DEFINITION) {\n                return getInUseByOperationName(ancestor.name && ancestor.name.value);\n            }\n            if (ancestor.kind === Kind.FRAGMENT_DEFINITION) {\n                return getInUseByFragmentName(ancestor.name.value);\n            }\n        }\n        __DEV__ && invariant.error(\"Could not find operation or fragment\");\n        return null;\n    };\n    var operationCount = 0;\n    for (var i = doc.definitions.length - 1; i >= 0; --i) {\n        if (doc.definitions[i].kind === Kind.OPERATION_DEFINITION) {\n            ++operationCount;\n        }\n    }\n    var directiveMatcher = getDirectiveMatcher(directives);\n    var hasRemoveDirective = directives.some(function (directive) { return directive.remove; });\n    var shouldRemoveField = function (nodeDirectives) { return (hasRemoveDirective &&\n        nodeDirectives &&\n        nodeDirectives.some(directiveMatcher)); };\n    var originalFragmentDefsByPath = new Map();\n    var firstVisitMadeChanges = false;\n    var fieldOrInlineFragmentVisitor = {\n        enter: function (node) {\n            if (shouldRemoveField(node.directives)) {\n                firstVisitMadeChanges = true;\n                return null;\n            }\n        },\n    };\n    var docWithoutDirectiveSubtrees = visit(doc, {\n        Field: fieldOrInlineFragmentVisitor,\n        InlineFragment: fieldOrInlineFragmentVisitor,\n        VariableDefinition: {\n            enter: function () {\n                return false;\n            },\n        },\n        Variable: {\n            enter: function (node, _key, _parent, _path, ancestors) {\n                var inUse = getInUse(ancestors);\n                if (inUse) {\n                    inUse.variables.add(node.name.value);\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node, _key, _parent, _path, ancestors) {\n                if (shouldRemoveField(node.directives)) {\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n                var inUse = getInUse(ancestors);\n                if (inUse) {\n                    inUse.fragmentSpreads.add(node.name.value);\n                }\n            },\n        },\n        FragmentDefinition: {\n            enter: function (node, _key, _parent, path) {\n                originalFragmentDefsByPath.set(JSON.stringify(path), node);\n            },\n            leave: function (node, _key, _parent, path) {\n                var originalNode = originalFragmentDefsByPath.get(JSON.stringify(path));\n                if (node === originalNode) {\n                    return node;\n                }\n                if (operationCount > 0 &&\n                    node.selectionSet.selections.every(function (selection) { return (selection.kind === Kind.FIELD &&\n                        selection.name.value === '__typename'); })) {\n                    getInUseByFragmentName(node.name.value).removed = true;\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n            },\n        },\n        Directive: {\n            leave: function (node) {\n                if (directiveMatcher(node)) {\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n            },\n        },\n    });\n    if (!firstVisitMadeChanges) {\n        return doc;\n    }\n    var populateTransitiveVars = function (inUse) {\n        if (!inUse.transitiveVars) {\n            inUse.transitiveVars = new Set(inUse.variables);\n            if (!inUse.removed) {\n                inUse.fragmentSpreads.forEach(function (childFragmentName) {\n                    populateTransitiveVars(getInUseByFragmentName(childFragmentName)).transitiveVars.forEach(function (varName) {\n                        inUse.transitiveVars.add(varName);\n                    });\n                });\n            }\n        }\n        return inUse;\n    };\n    var allFragmentNamesUsed = new Set();\n    docWithoutDirectiveSubtrees.definitions.forEach(function (def) {\n        if (def.kind === Kind.OPERATION_DEFINITION) {\n            populateTransitiveVars(getInUseByOperationName(def.name && def.name.value)).fragmentSpreads.forEach(function (childFragmentName) {\n                allFragmentNamesUsed.add(childFragmentName);\n            });\n        }\n        else if (def.kind === Kind.FRAGMENT_DEFINITION &&\n            operationCount === 0 &&\n            !getInUseByFragmentName(def.name.value).removed) {\n            allFragmentNamesUsed.add(def.name.value);\n        }\n    });\n    allFragmentNamesUsed.forEach(function (fragmentName) {\n        populateTransitiveVars(getInUseByFragmentName(fragmentName)).fragmentSpreads.forEach(function (childFragmentName) {\n            allFragmentNamesUsed.add(childFragmentName);\n        });\n    });\n    var fragmentWillBeRemoved = function (fragmentName) { return !!(!allFragmentNamesUsed.has(fragmentName) ||\n        getInUseByFragmentName(fragmentName).removed); };\n    var enterVisitor = {\n        enter: function (node) {\n            if (fragmentWillBeRemoved(node.name.value)) {\n                return null;\n            }\n        },\n    };\n    return nullIfDocIsEmpty(visit(docWithoutDirectiveSubtrees, {\n        FragmentSpread: enterVisitor,\n        FragmentDefinition: enterVisitor,\n        OperationDefinition: {\n            leave: function (node) {\n                if (node.variableDefinitions) {\n                    var usedVariableNames_1 = populateTransitiveVars(getInUseByOperationName(node.name && node.name.value)).transitiveVars;\n                    if (usedVariableNames_1.size < node.variableDefinitions.length) {\n                        return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions.filter(function (varDef) { return usedVariableNames_1.has(varDef.variable.name.value); }) });\n                    }\n                }\n            },\n        },\n    }));\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n    return visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === Kind.OPERATION_DEFINITION) {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\n            },\n        },\n    });\n}, {\n    added: function (field) {\n        return field === TYPENAME_FIELD;\n    },\n});\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (!!selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === Kind.VARIABLE &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nexport function removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) : [] });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    if (node.arguments) {\n                        node.arguments.forEach(function (arg) {\n                            if (argMatcher(arg)) {\n                                argMatchCount_1 += 1;\n                            }\n                        });\n                    }\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nexport function buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    return modifiedDoc;\n}\n//# sourceMappingURL=transform.js.map","var prefixCounts = new Map();\nexport function makeUniqueId(prefix) {\n    var count = prefixCounts.get(prefix) || 1;\n    prefixCounts.set(prefix, count + 1);\n    return \"\".concat(prefix, \":\").concat(count, \":\").concat(Math.random().toString(36).slice(2));\n}\n//# sourceMappingURL=makeUniqueId.js.map","export function iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\n//# sourceMappingURL=iteration.js.map","import { Observable } from \"./Observable.js\";\nimport { canUseSymbol } from \"../common/canUse.js\";\nexport function fixObservableSubclass(subclass) {\n    function set(key) {\n        Object.defineProperty(subclass, key, { value: Observable });\n    }\n    if (canUseSymbol && Symbol.species) {\n        set(Symbol.species);\n    }\n    set(\"@@species\");\n    return subclass;\n}\n//# sourceMappingURL=subclassing.js.map","import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable.js\";\nimport { iterateObserversSafely } from \"./iteration.js\";\nimport { fixObservableSubclass } from \"./subclassing.js\";\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\nvar Concast = (function (_super) {\n    __extends(Concast, _super);\n    function Concast(sources) {\n        var _this = _super.call(this, function (observer) {\n            _this.addObserver(observer);\n            return function () { return _this.removeObserver(observer); };\n        }) || this;\n        _this.observers = new Set();\n        _this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        _this.handlers = {\n            next: function (result) {\n                if (_this.sub !== null) {\n                    _this.latest = [\"next\", result];\n                    _this.notify(\"next\", result);\n                    iterateObserversSafely(_this.observers, \"next\", result);\n                }\n            },\n            error: function (error) {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    if (sub)\n                        setTimeout(function () { return sub.unsubscribe(); });\n                    _this.sub = null;\n                    _this.latest = [\"error\", error];\n                    _this.reject(error);\n                    _this.notify(\"error\", error);\n                    iterateObserversSafely(_this.observers, \"error\", error);\n                }\n            },\n            complete: function () {\n                var _a = _this, sub = _a.sub, _b = _a.sources, sources = _b === void 0 ? [] : _b;\n                if (sub !== null) {\n                    var value = sources.shift();\n                    if (!value) {\n                        if (sub)\n                            setTimeout(function () { return sub.unsubscribe(); });\n                        _this.sub = null;\n                        if (_this.latest &&\n                            _this.latest[0] === \"next\") {\n                            _this.resolve(_this.latest[1]);\n                        }\n                        else {\n                            _this.resolve();\n                        }\n                        _this.notify(\"complete\");\n                        iterateObserversSafely(_this.observers, \"complete\");\n                    }\n                    else if (isPromiseLike(value)) {\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\n                    }\n                    else {\n                        _this.sub = value.subscribe(_this.handlers);\n                    }\n                }\n            },\n        };\n        _this.nextResultListeners = new Set();\n        _this.cancel = function (reason) {\n            _this.reject(reason);\n            _this.sources = [];\n            _this.handlers.complete();\n        };\n        _this.promise.catch(function (_) { });\n        if (typeof sources === \"function\") {\n            sources = [new Observable(sources)];\n        }\n        if (isPromiseLike(sources)) {\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\n        }\n        else {\n            _this.start(sources);\n        }\n        return _this;\n    }\n    Concast.prototype.start = function (sources) {\n        if (this.sub !== void 0)\n            return;\n        this.sources = Array.from(sources);\n        this.handlers.complete();\n    };\n    Concast.prototype.deliverLastMessage = function (observer) {\n        if (this.latest) {\n            var nextOrError = this.latest[0];\n            var method = observer[nextOrError];\n            if (method) {\n                method.call(observer, this.latest[1]);\n            }\n            if (this.sub === null &&\n                nextOrError === \"next\" &&\n                observer.complete) {\n                observer.complete();\n            }\n        }\n    };\n    Concast.prototype.addObserver = function (observer) {\n        if (!this.observers.has(observer)) {\n            this.deliverLastMessage(observer);\n            this.observers.add(observer);\n        }\n    };\n    Concast.prototype.removeObserver = function (observer) {\n        if (this.observers.delete(observer) &&\n            this.observers.size < 1) {\n            this.handlers.complete();\n        }\n    };\n    Concast.prototype.notify = function (method, arg) {\n        var nextResultListeners = this.nextResultListeners;\n        if (nextResultListeners.size) {\n            this.nextResultListeners = new Set;\n            nextResultListeners.forEach(function (listener) { return listener(method, arg); });\n        }\n    };\n    Concast.prototype.beforeNext = function (callback) {\n        var called = false;\n        this.nextResultListeners.add(function (method, arg) {\n            if (!called) {\n                called = true;\n                callback(method, arg);\n            }\n        });\n    };\n    return Concast;\n}(Observable));\nexport { Concast };\nfixObservableSubclass(Concast);\n//# sourceMappingURL=Concast.js.map","var toString = Object.prototype.toString;\nexport function cloneDeep(value) {\n    return cloneDeepHelper(value);\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n//# sourceMappingURL=cloneDeep.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from \"../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\nimport { cloneDeep, compact, getOperationDefinition, Observable, iterateObserversSafely, isNonEmptyArray, fixObservableSubclass, getQueryDefinition, } from \"../utilities/index.js\";\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\n        var _this = _super.call(this, function (observer) {\n            try {\n                var subObserver = observer._subscription._observer;\n                if (subObserver && !subObserver.error) {\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\n                }\n            }\n            catch (_a) { }\n            var first = !_this.observers.size;\n            _this.observers.add(observer);\n            var last = _this.last;\n            if (last && last.error) {\n                observer.error && observer.error(last.error);\n            }\n            else if (last && last.result) {\n                observer.next && observer.next(last.result);\n            }\n            if (first) {\n                _this.reobserve().catch(function () { });\n            }\n            return function () {\n                if (_this.observers.delete(observer) && !_this.observers.size) {\n                    _this.tearDownQuery();\n                }\n            };\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.queryInfo = queryInfo;\n        _this.queryManager = queryManager;\n        _this.waitForOwnResult = skipCacheDataFor(options.fetchPolicy);\n        _this.isTornDown = false;\n        var _b = queryManager.defaultOptions.watchQuery, _c = _b === void 0 ? {} : _b, _d = _c.fetchPolicy, defaultFetchPolicy = _d === void 0 ? \"cache-first\" : _d;\n        var _e = options.fetchPolicy, fetchPolicy = _e === void 0 ? defaultFetchPolicy : _e, _f = options.initialFetchPolicy, initialFetchPolicy = _f === void 0 ? (fetchPolicy === \"standby\" ? defaultFetchPolicy : fetchPolicy) : _f;\n        _this.options = __assign(__assign({}, options), { initialFetchPolicy: initialFetchPolicy, fetchPolicy: fetchPolicy });\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\n        var opDef = getOperationDefinition(_this.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        return _this;\n    }\n    Object.defineProperty(ObservableQuery.prototype, \"query\", {\n        get: function () {\n            return this.queryManager.transform(this.options.query).document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\n        get: function () {\n            return this.options.variables;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\n        var lastResult = this.getLastResult(true);\n        var networkStatus = this.queryInfo.networkStatus ||\n            (lastResult && lastResult.networkStatus) ||\n            NetworkStatus.ready;\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\n        if (skipCacheDataFor(fetchPolicy) ||\n            this.queryManager.transform(this.options.query).hasForcedResolvers) {\n        }\n        else if (this.waitForOwnResult) {\n            this.queryInfo['updateWatch']();\n        }\n        else {\n            var diff = this.queryInfo.getDiff();\n            if (diff.complete || this.options.returnPartialData) {\n                result.data = diff.result;\n            }\n            if (equal(result.data, {})) {\n                result.data = void 0;\n            }\n            if (diff.complete) {\n                delete result.partial;\n                if (diff.complete &&\n                    result.networkStatus === NetworkStatus.loading &&\n                    (fetchPolicy === 'cache-first' ||\n                        fetchPolicy === 'cache-only')) {\n                    result.networkStatus = NetworkStatus.ready;\n                    result.loading = false;\n                }\n            }\n            else {\n                result.partial = true;\n            }\n            if (__DEV__ &&\n                !diff.complete &&\n                !this.options.partialRefetch &&\n                !result.loading &&\n                !result.data &&\n                !result.error) {\n                logMissingFieldErrors(diff.missing);\n            }\n        }\n        if (saveAsLastResult) {\n            this.updateLastResult(result);\n        }\n        return result;\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult, variables) {\n        return (!this.last ||\n            !equal(this.last.result, newResult) ||\n            (variables && !equal(this.last.variables, variables)));\n    };\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\n        var last = this.last;\n        if (last &&\n            last[key] &&\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\n            return last[key];\n        }\n    };\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\n        return this.getLast(\"result\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\n        return this.getLast(\"error\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.last;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        this.queryManager.resetErrors(this.queryId);\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var _a;\n        var reobserveOptions = {\n            pollInterval: 0,\n        };\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-and-network') {\n            reobserveOptions.fetchPolicy = fetchPolicy;\n        }\n        else if (fetchPolicy === 'no-cache') {\n            reobserveOptions.fetchPolicy = 'no-cache';\n        }\n        else {\n            reobserveOptions.fetchPolicy = 'network-only';\n        }\n        if (__DEV__ && variables && hasOwnProperty.call(variables, \"variables\")) {\n            var queryDef = getQueryDefinition(this.query);\n            var vars = queryDef.variableDefinitions;\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\n                __DEV__ && invariant.warn(\"Called refetch(\".concat(JSON.stringify(variables), \") for query \").concat(((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || JSON.stringify(queryDef), \", which does not declare a $variables variable.\\nDid you mean to call refetch(variables) instead of refetch({ variables })?\"));\n            }\n        }\n        if (variables && !equal(this.options.variables, variables)) {\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\n        }\n        this.queryInfo.resetLastWrite();\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign(__assign({}, this.options), { query: this.query }), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\n        var qid = this.queryManager.generateQueryId();\n        var queryInfo = this.queryInfo;\n        var originalNetworkStatus = queryInfo.networkStatus;\n        queryInfo.networkStatus = NetworkStatus.fetchMore;\n        if (combinedOptions.notifyOnNetworkStatusChange) {\n            this.observe();\n        }\n        var updatedQuerySet = new Set();\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\n            _this.queryManager.removeQuery(qid);\n            if (queryInfo.networkStatus === NetworkStatus.fetchMore) {\n                queryInfo.networkStatus = originalNetworkStatus;\n            }\n            _this.queryManager.cache.batch({\n                update: function (cache) {\n                    var updateQuery = fetchMoreOptions.updateQuery;\n                    if (updateQuery) {\n                        cache.updateQuery({\n                            query: _this.query,\n                            variables: _this.variables,\n                            returnPartialData: true,\n                            optimistic: false,\n                        }, function (previous) { return updateQuery(previous, {\n                            fetchMoreResult: fetchMoreResult.data,\n                            variables: combinedOptions.variables,\n                        }); });\n                    }\n                    else {\n                        cache.writeQuery({\n                            query: combinedOptions.query,\n                            variables: combinedOptions.variables,\n                            data: fetchMoreResult.data,\n                        });\n                    }\n                },\n                onWatchUpdated: function (watch) {\n                    updatedQuerySet.add(watch.query);\n                },\n            });\n            return fetchMoreResult;\n        }).finally(function () {\n            if (!updatedQuerySet.has(_this.query)) {\n                reobserveCacheFirst(_this);\n            }\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n            context: options.context,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                __DEV__ && invariant.error('Unhandled GraphQL subscription error', err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (newOptions) {\n        return this.reobserve(newOptions);\n    };\n    ObservableQuery.prototype.setVariables = function (variables) {\n        if (equal(this.variables, variables)) {\n            return this.observers.size\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.reobserve({\n            fetchPolicy: this.options.initialFetchPolicy,\n            variables: variables,\n        }, NetworkStatus.setVariables);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var result = queryManager.cache.diff({\n            query: this.options.query,\n            variables: this.variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n        var newResult = mapFn(result, {\n            variables: this.variables,\n        });\n        if (newResult) {\n            queryManager.cache.writeQuery({\n                query: this.options.query,\n                data: newResult,\n                variables: this.variables,\n            });\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        this.options.pollInterval = pollInterval;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.options.pollInterval = 0;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.applyNextFetchPolicy = function (reason, options) {\n        if (options.nextFetchPolicy) {\n            var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.initialFetchPolicy, initialFetchPolicy = _b === void 0 ? fetchPolicy : _b;\n            if (fetchPolicy === \"standby\") {\n            }\n            else if (typeof options.nextFetchPolicy === \"function\") {\n                options.fetchPolicy = options.nextFetchPolicy(fetchPolicy, {\n                    reason: reason,\n                    options: options,\n                    observable: this,\n                    initialFetchPolicy: initialFetchPolicy,\n                });\n            }\n            else if (reason === \"variables-changed\") {\n                options.fetchPolicy = initialFetchPolicy;\n            }\n            else {\n                options.fetchPolicy = options.nextFetchPolicy;\n            }\n        }\n        return options.fetchPolicy;\n    };\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\n        this.queryManager.setObservableQuery(this);\n        return this.queryManager['fetchConcastWithInfo'](this.queryId, options, newNetworkStatus);\n    };\n    ObservableQuery.prototype.updatePolling = function () {\n        var _this = this;\n        if (this.queryManager.ssrMode) {\n            return;\n        }\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\n        if (!pollInterval) {\n            if (pollingInfo) {\n                clearTimeout(pollingInfo.timeout);\n                delete this.pollingInfo;\n            }\n            return;\n        }\n        if (pollingInfo &&\n            pollingInfo.interval === pollInterval) {\n            return;\n        }\n        __DEV__ ? invariant(pollInterval, 'Attempted to start a polling query without a polling interval.') : invariant(pollInterval, 13);\n        var info = pollingInfo || (this.pollingInfo = {});\n        info.interval = pollInterval;\n        var maybeFetch = function () {\n            if (_this.pollingInfo) {\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\n                    _this.reobserve({\n                        fetchPolicy: _this.options.initialFetchPolicy === 'no-cache' ? 'no-cache' : 'network-only',\n                    }, NetworkStatus.poll).then(poll, poll);\n                }\n                else {\n                    poll();\n                }\n            }\n            ;\n        };\n        var poll = function () {\n            var info = _this.pollingInfo;\n            if (info) {\n                clearTimeout(info.timeout);\n                info.timeout = setTimeout(maybeFetch, info.interval);\n            }\n        };\n        poll();\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\n        if (variables === void 0) { variables = this.variables; }\n        this.last = __assign(__assign({}, this.last), { result: this.queryManager.assumeImmutableResults\n                ? newResult\n                : cloneDeep(newResult), variables: variables });\n        if (!isNonEmptyArray(newResult.errors)) {\n            delete this.last.error;\n        }\n        return this.last;\n    };\n    ObservableQuery.prototype.reobserveAsConcast = function (newOptions, newNetworkStatus) {\n        var _this = this;\n        this.isTornDown = false;\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\n            newNetworkStatus === NetworkStatus.fetchMore ||\n            newNetworkStatus === NetworkStatus.poll;\n        var oldVariables = this.options.variables;\n        var oldFetchPolicy = this.options.fetchPolicy;\n        var mergedOptions = compact(this.options, newOptions || {});\n        var options = useDisposableConcast\n            ? mergedOptions\n            : assign(this.options, mergedOptions);\n        if (!useDisposableConcast) {\n            this.updatePolling();\n            if (newOptions &&\n                newOptions.variables &&\n                !equal(newOptions.variables, oldVariables) &&\n                options.fetchPolicy !== \"standby\" &&\n                options.fetchPolicy === oldFetchPolicy) {\n                this.applyNextFetchPolicy(\"variables-changed\", options);\n                if (newNetworkStatus === void 0) {\n                    newNetworkStatus = NetworkStatus.setVariables;\n                }\n            }\n        }\n        this.waitForOwnResult && (this.waitForOwnResult = skipCacheDataFor(options.fetchPolicy));\n        var finishWaitingForOwnResult = function () {\n            if (_this.concast === concast) {\n                _this.waitForOwnResult = false;\n            }\n        };\n        var variables = options.variables && __assign({}, options.variables);\n        var _a = this.fetch(options, newNetworkStatus), concast = _a.concast, fromLink = _a.fromLink;\n        var observer = {\n            next: function (result) {\n                finishWaitingForOwnResult();\n                _this.reportResult(result, variables);\n            },\n            error: function (error) {\n                finishWaitingForOwnResult();\n                _this.reportError(error, variables);\n            },\n        };\n        if (!useDisposableConcast && fromLink) {\n            if (this.concast && this.observer) {\n                this.concast.removeObserver(this.observer);\n            }\n            this.concast = concast;\n            this.observer = observer;\n        }\n        concast.addObserver(observer);\n        return concast;\n    };\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\n        return this.reobserveAsConcast(newOptions, newNetworkStatus).promise;\n    };\n    ObservableQuery.prototype.observe = function () {\n        this.reportResult(this.getCurrentResult(false), this.variables);\n    };\n    ObservableQuery.prototype.reportResult = function (result, variables) {\n        var lastError = this.getLastError();\n        if (lastError || this.isDifferentFromLastResult(result, variables)) {\n            if (lastError || !result.partial || this.options.returnPartialData) {\n                this.updateLastResult(result, variables);\n            }\n            iterateObserversSafely(this.observers, 'next', result);\n        }\n    };\n    ObservableQuery.prototype.reportError = function (error, variables) {\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\n        this.updateLastResult(errorResult, variables);\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\n    };\n    ObservableQuery.prototype.hasObservers = function () {\n        return this.observers.size > 0;\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        if (this.isTornDown)\n            return;\n        if (this.concast && this.observer) {\n            this.concast.removeObserver(this.observer);\n            delete this.concast;\n            delete this.observer;\n        }\n        this.stopPolling();\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        this.queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n        this.isTornDown = true;\n    };\n    return ObservableQuery;\n}(Observable));\nexport { ObservableQuery };\nfixObservableSubclass(ObservableQuery);\nexport function reobserveCacheFirst(obsQuery) {\n    var _a = obsQuery.options, fetchPolicy = _a.fetchPolicy, nextFetchPolicy = _a.nextFetchPolicy;\n    if (fetchPolicy === \"cache-and-network\" ||\n        fetchPolicy === \"network-only\") {\n        return obsQuery.reobserve({\n            fetchPolicy: \"cache-first\",\n            nextFetchPolicy: function () {\n                this.nextFetchPolicy = nextFetchPolicy;\n                if (typeof nextFetchPolicy === \"function\") {\n                    return nextFetchPolicy.apply(this, arguments);\n                }\n                return fetchPolicy;\n            },\n        });\n    }\n    return obsQuery.reobserve();\n}\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    __DEV__ && invariant.error('Unhandled error', error.message, error.stack);\n}\nexport function logMissingFieldErrors(missing) {\n    if (__DEV__ && missing) {\n        __DEV__ && invariant.debug(\"Missing cache result fields: \".concat(JSON.stringify(missing)), missing);\n    }\n}\nfunction skipCacheDataFor(fetchPolicy) {\n    return fetchPolicy === \"network-only\" || fetchPolicy === \"no-cache\" || fetchPolicy === \"standby\";\n}\n//# sourceMappingURL=ObservableQuery.js.map","import { Kind } from \"./kinds.mjs\";\nexport function isDefinitionNode(node) {\n  return isExecutableDefinitionNode(node) || isTypeSystemDefinitionNode(node) || isTypeSystemExtensionNode(node);\n}\nexport function isExecutableDefinitionNode(node) {\n  return node.kind === Kind.OPERATION_DEFINITION || node.kind === Kind.FRAGMENT_DEFINITION;\n}\nexport function isSelectionNode(node) {\n  return node.kind === Kind.FIELD || node.kind === Kind.FRAGMENT_SPREAD || node.kind === Kind.INLINE_FRAGMENT;\n}\nexport function isValueNode(node) {\n  return node.kind === Kind.VARIABLE || node.kind === Kind.INT || node.kind === Kind.FLOAT || node.kind === Kind.STRING || node.kind === Kind.BOOLEAN || node.kind === Kind.NULL || node.kind === Kind.ENUM || node.kind === Kind.LIST || node.kind === Kind.OBJECT;\n}\nexport function isTypeNode(node) {\n  return node.kind === Kind.NAMED_TYPE || node.kind === Kind.LIST_TYPE || node.kind === Kind.NON_NULL_TYPE;\n}\nexport function isTypeSystemDefinitionNode(node) {\n  return node.kind === Kind.SCHEMA_DEFINITION || isTypeDefinitionNode(node) || node.kind === Kind.DIRECTIVE_DEFINITION;\n}\nexport function isTypeDefinitionNode(node) {\n  return node.kind === Kind.SCALAR_TYPE_DEFINITION || node.kind === Kind.OBJECT_TYPE_DEFINITION || node.kind === Kind.INTERFACE_TYPE_DEFINITION || node.kind === Kind.UNION_TYPE_DEFINITION || node.kind === Kind.ENUM_TYPE_DEFINITION || node.kind === Kind.INPUT_OBJECT_TYPE_DEFINITION;\n}\nexport function isTypeSystemExtensionNode(node) {\n  return node.kind === Kind.SCHEMA_EXTENSION || isTypeExtensionNode(node);\n}\nexport function isTypeExtensionNode(node) {\n  return node.kind === Kind.SCALAR_TYPE_EXTENSION || node.kind === Kind.OBJECT_TYPE_EXTENSION || node.kind === Kind.INTERFACE_TYPE_EXTENSION || node.kind === Kind.UNION_TYPE_EXTENSION || node.kind === Kind.ENUM_TYPE_EXTENSION || node.kind === Kind.INPUT_OBJECT_TYPE_EXTENSION;\n}\n","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\r\n// object keys weakly, yet can also hold non-object keys, unlike the\r\n// native `WeakMap`.\r\n// If no makeData function is supplied, the looked-up data will be an empty,\r\n// null-prototype Object.\r\nvar defaultMakeData = function () { return Object.create(null); };\r\n// Useful for processing arguments objects as well as arrays.\r\nvar _a = Array.prototype, forEach = _a.forEach, slice = _a.slice;\r\nvar Trie = /** @class */ (function () {\r\n    function Trie(weakness, makeData) {\r\n        if (weakness === void 0) { weakness = true; }\r\n        if (makeData === void 0) { makeData = defaultMakeData; }\r\n        this.weakness = weakness;\r\n        this.makeData = makeData;\r\n    }\r\n    Trie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    Trie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        forEach.call(array, function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = this.makeData(slice.call(array)));\r\n    };\r\n    Trie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new Trie(this.weakness, this.makeData));\r\n        return child;\r\n    };\r\n    return Trie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\nexport { Trie };\n//# sourceMappingURL=trie.esm.js.map\n","// This currentContext variable will only be used if the makeSlotClass\n// function is called, which happens only if this is the first copy of the\n// @wry/context package to be imported.\nlet currentContext = null;\n// This unique internal object is used to denote the absence of a value\n// for a given Slot, and is never exposed to outside code.\nconst MISSING_VALUE = {};\nlet idCounter = 1;\n// Although we can't do anything about the cost of duplicated code from\n// accidentally bundling multiple copies of the @wry/context package, we can\n// avoid creating the Slot class more than once using makeSlotClass.\nconst makeSlotClass = () => class Slot {\n    constructor() {\n        // If you have a Slot object, you can find out its slot.id, but you cannot\n        // guess the slot.id of a Slot you don't have access to, thanks to the\n        // randomized suffix.\n        this.id = [\n            \"slot\",\n            idCounter++,\n            Date.now(),\n            Math.random().toString(36).slice(2),\n        ].join(\":\");\n    }\n    hasValue() {\n        for (let context = currentContext; context; context = context.parent) {\n            // We use the Slot object iself as a key to its value, which means the\n            // value cannot be obtained without a reference to the Slot object.\n            if (this.id in context.slots) {\n                const value = context.slots[this.id];\n                if (value === MISSING_VALUE)\n                    break;\n                if (context !== currentContext) {\n                    // Cache the value in currentContext.slots so the next lookup will\n                    // be faster. This caching is safe because the tree of contexts and\n                    // the values of the slots are logically immutable.\n                    currentContext.slots[this.id] = value;\n                }\n                return true;\n            }\n        }\n        if (currentContext) {\n            // If a value was not found for this Slot, it's never going to be found\n            // no matter how many times we look it up, so we might as well cache\n            // the absence of the value, too.\n            currentContext.slots[this.id] = MISSING_VALUE;\n        }\n        return false;\n    }\n    getValue() {\n        if (this.hasValue()) {\n            return currentContext.slots[this.id];\n        }\n    }\n    withValue(value, callback, \n    // Given the prevalence of arrow functions, specifying arguments is likely\n    // to be much more common than specifying `this`, hence this ordering:\n    args, thisArg) {\n        const slots = {\n            __proto__: null,\n            [this.id]: value,\n        };\n        const parent = currentContext;\n        currentContext = { parent, slots };\n        try {\n            // Function.prototype.apply allows the arguments array argument to be\n            // omitted or undefined, so args! is fine here.\n            return callback.apply(thisArg, args);\n        }\n        finally {\n            currentContext = parent;\n        }\n    }\n    // Capture the current context and wrap a callback function so that it\n    // reestablishes the captured context when called.\n    static bind(callback) {\n        const context = currentContext;\n        return function () {\n            const saved = currentContext;\n            try {\n                currentContext = context;\n                return callback.apply(this, arguments);\n            }\n            finally {\n                currentContext = saved;\n            }\n        };\n    }\n    // Immediately run a callback function without any captured context.\n    static noContext(callback, \n    // Given the prevalence of arrow functions, specifying arguments is likely\n    // to be much more common than specifying `this`, hence this ordering:\n    args, thisArg) {\n        if (currentContext) {\n            const saved = currentContext;\n            try {\n                currentContext = null;\n                // Function.prototype.apply allows the arguments array argument to be\n                // omitted or undefined, so args! is fine here.\n                return callback.apply(thisArg, args);\n            }\n            finally {\n                currentContext = saved;\n            }\n        }\n        else {\n            return callback.apply(thisArg, args);\n        }\n    }\n};\nfunction maybe(fn) {\n    try {\n        return fn();\n    }\n    catch (ignored) { }\n}\n// We store a single global implementation of the Slot class as a permanent\n// non-enumerable property of the globalThis object. This obfuscation does\n// nothing to prevent access to the Slot class, but at least it ensures the\n// implementation (i.e. currentContext) cannot be tampered with, and all copies\n// of the @wry/context package (hopefully just one) will share the same Slot\n// implementation. Since the first copy of the @wry/context package to be\n// imported wins, this technique imposes a steep cost for any future breaking\n// changes to the Slot class.\nconst globalKey = \"@wry/context:Slot\";\nconst host = \n// Prefer globalThis when available.\n// https://github.com/benjamn/wryware/issues/347\nmaybe(() => globalThis) ||\n    // Fall back to global, which works in Node.js and may be converted by some\n    // bundlers to the appropriate identifier (window, self, ...) depending on the\n    // bundling target. https://github.com/endojs/endo/issues/576#issuecomment-1178515224\n    maybe(() => global) ||\n    // Otherwise, use a dummy host that's local to this module. We used to fall\n    // back to using the Array constructor as a namespace, but that was flagged in\n    // https://github.com/benjamn/wryware/issues/347, and can be avoided.\n    Object.create(null);\n// Whichever globalHost we're using, make TypeScript happy about the additional\n// globalKey property.\nconst globalHost = host;\nexport const Slot = globalHost[globalKey] ||\n    // Earlier versions of this package stored the globalKey property on the Array\n    // constructor, so we check there as well, to prevent Slot class duplication.\n    Array[globalKey] ||\n    (function (Slot) {\n        try {\n            Object.defineProperty(globalHost, globalKey, {\n                value: Slot,\n                enumerable: false,\n                writable: false,\n                // When it was possible for globalHost to be the Array constructor (a\n                // legacy Slot dedup strategy), it was important for the property to be\n                // configurable:true so it could be deleted. That does not seem to be as\n                // important when globalHost is the global object, but I don't want to\n                // cause similar problems again, and configurable:true seems safest.\n                // https://github.com/endojs/endo/issues/576#issuecomment-1178274008\n                configurable: true\n            });\n        }\n        finally {\n            return Slot;\n        }\n    })(makeSlotClass());\n//# sourceMappingURL=slot.js.map","import { Slot } from \"./slot.js\";\nexport { Slot };\nexport const { bind, noContext } = Slot;\n// Like global.setTimeout, except the callback runs with captured context.\nexport { setTimeoutWithContext as setTimeout };\nfunction setTimeoutWithContext(callback, delay) {\n    return setTimeout(bind(callback), delay);\n}\n// Turn any generator function into an async function (using yield instead\n// of await), with context automatically preserved across yields.\nexport function asyncFromGen(genFn) {\n    return function () {\n        const gen = genFn.apply(this, arguments);\n        const boundNext = bind(gen.next);\n        const boundThrow = bind(gen.throw);\n        return new Promise((resolve, reject) => {\n            function invoke(method, argument) {\n                try {\n                    var result = method.call(gen, argument);\n                }\n                catch (error) {\n                    return reject(error);\n                }\n                const next = result.done ? resolve : invokeNext;\n                if (isPromiseLike(result.value)) {\n                    result.value.then(next, result.done ? reject : invokeThrow);\n                }\n                else {\n                    next(result.value);\n                }\n            }\n            const invokeNext = (value) => invoke(boundNext, value);\n            const invokeThrow = (error) => invoke(boundThrow, error);\n            invokeNext();\n        });\n    };\n}\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\n// If you use the fibers npm package to implement coroutines in Node.js,\n// you should call this function at least once to ensure context management\n// remains coherent across any yields.\nconst wrappedFibers = [];\nexport function wrapYieldingFiberMethods(Fiber) {\n    // There can be only one implementation of Fiber per process, so this array\n    // should never grow longer than one element.\n    if (wrappedFibers.indexOf(Fiber) < 0) {\n        const wrap = (obj, method) => {\n            const fn = obj[method];\n            obj[method] = function () {\n                return noContext(fn, arguments, this);\n            };\n        };\n        // These methods can yield, according to\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\n        wrap(Fiber, \"yield\");\n        wrap(Fiber.prototype, \"run\");\n        wrap(Fiber.prototype, \"throwInto\");\n        wrappedFibers.push(Fiber);\n    }\n    return Fiber;\n}\n//# sourceMappingURL=index.js.map","import { Trie } from '@wry/trie';\nexport { Trie as KeyTrie } from '@wry/trie';\nimport { Slot } from '@wry/context';\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\n\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var node = this.getNode(key);\r\n        return node && node.value;\r\n    };\r\n    Cache.prototype.getNode = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node && node !== this.newest) {\r\n            var older = node.older, newer = node.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            node.older = this.newest;\r\n            node.older.newer = node;\r\n            node.newer = null;\r\n            this.newest = node;\r\n            if (node === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var node = this.getNode(key);\r\n        if (node) {\r\n            return node.value = value;\r\n        }\r\n        node = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = node;\r\n        }\r\n        this.newest = node;\r\n        this.oldest = this.oldest || node;\r\n        this.map.set(key, node);\r\n        return node.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node) {\r\n            if (node === this.newest) {\r\n                this.newest = node.older;\r\n            }\r\n            if (node === this.oldest) {\r\n                this.oldest = node.newer;\r\n            }\r\n            if (node.newer) {\r\n                node.newer.older = node.older;\r\n            }\r\n            if (node.older) {\r\n                node.older.newer = node.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(node.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar _a;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar \r\n// This Array.from polyfill is restricted to working with Set<any> for now,\r\n// but we can improve the polyfill and add other input types, as needed. Note\r\n// that this fallback implementation will only be used if the host environment\r\n// does not support a native Array.from function. In most modern JS runtimes,\r\n// the toArray function exported here will be === Array.from.\r\ntoArray = (_a = Array.from, _a === void 0 ? function (collection) {\r\n    var array = [];\r\n    collection.forEach(function (item) { return array.push(item); });\r\n    return array;\r\n} : _a);\r\nfunction maybeUnsubscribe(entryOrDep) {\r\n    var unsubscribe = entryOrDep.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entryOrDep.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn) {\r\n        this.fn = fn;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        this.deps = null;\r\n        ++Entry.count;\r\n    }\r\n    Entry.prototype.peek = function () {\r\n        if (this.value.length === 1 && !mightBeDirty(this)) {\r\n            rememberParent(this);\r\n            return this.value[0];\r\n        }\r\n    };\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function (args) {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        rememberParent(this);\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this, args)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.setDirty();\r\n        // Sever any dependency relationships with our own children, so those\r\n        // children don't retain this parent Entry in their child.parents sets,\r\n        // thereby preventing it from being fully garbage collected.\r\n        forgetChildren(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        eachParent(this, function (parent, child) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.prototype.forget = function () {\r\n        // The code that creates Entry objects in index.ts will replace this method\r\n        // with one that actually removes the Entry from the cache, which will also\r\n        // trigger the entry.dispose method.\r\n        this.dispose();\r\n    };\r\n    Entry.prototype.dependOn = function (dep) {\r\n        dep.add(this);\r\n        if (!this.deps) {\r\n            this.deps = emptySetPool.pop() || new Set();\r\n        }\r\n        this.deps.add(dep);\r\n    };\r\n    Entry.prototype.forgetDeps = function () {\r\n        var _this = this;\r\n        if (this.deps) {\r\n            toArray(this.deps).forEach(function (dep) { return dep.delete(_this); });\r\n            this.deps.clear();\r\n            emptySetPool.push(this.deps);\r\n            this.deps = null;\r\n        }\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry, args) {\r\n    forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry, args]);\r\n    if (maybeSubscribe(entry, args)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry, args) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    eachParent(child, reportDirtyChild);\r\n}\r\nfunction reportClean(child) {\r\n    eachParent(child, reportCleanChild);\r\n}\r\nfunction eachParent(child, callback) {\r\n    var parentCount = child.parents.size;\r\n    if (parentCount) {\r\n        var parents = toArray(child.parents);\r\n        for (var i = 0; i < parentCount; ++i) {\r\n            callback(parents[i], child);\r\n        }\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    var parentWasClean = !mightBeDirty(parent);\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    // If parent was clean before, it just became (possibly) dirty (according to\r\n    // mightBeDirty), since we just added child to parent.dirtyChildren.\r\n    if (parentWasClean) {\r\n        reportDirty(parent);\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    if (parent.childValues.size > 0) {\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n        });\r\n    }\r\n    // Remove this parent Entry from any sets to which it was added by the\r\n    // addToSet method.\r\n    parent.forgetDeps();\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry, args) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\n\nvar EntryMethods = {\r\n    setDirty: true,\r\n    dispose: true,\r\n    forget: true, // Fully remove parent Entry from LRU cache and computation graph\r\n};\r\nfunction dep(options) {\r\n    var depsByKey = new Map();\r\n    var subscribe = options && options.subscribe;\r\n    function depend(key) {\r\n        var parent = parentEntrySlot.getValue();\r\n        if (parent) {\r\n            var dep_1 = depsByKey.get(key);\r\n            if (!dep_1) {\r\n                depsByKey.set(key, dep_1 = new Set);\r\n            }\r\n            parent.dependOn(dep_1);\r\n            if (typeof subscribe === \"function\") {\r\n                maybeUnsubscribe(dep_1);\r\n                dep_1.unsubscribe = subscribe(key);\r\n            }\r\n        }\r\n    }\r\n    depend.dirty = function dirty(key, entryMethodName) {\r\n        var dep = depsByKey.get(key);\r\n        if (dep) {\r\n            var m_1 = (entryMethodName &&\r\n                hasOwnProperty.call(EntryMethods, entryMethodName)) ? entryMethodName : \"setDirty\";\r\n            // We have to use toArray(dep).forEach instead of dep.forEach, because\r\n            // modifying a Set while iterating over it can cause elements in the Set\r\n            // to be removed from the Set before they've been iterated over.\r\n            toArray(dep).forEach(function (entry) { return entry[m_1](); });\r\n            depsByKey.delete(key);\r\n            maybeUnsubscribe(dep);\r\n        }\r\n    };\r\n    return depend;\r\n}\n\nfunction makeDefaultMakeCacheKeyFunction() {\r\n    var keyTrie = new Trie(typeof WeakMap === \"function\");\r\n    return function () {\r\n        return keyTrie.lookupArray(arguments);\r\n    };\r\n}\r\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar defaultMakeCacheKey = makeDefaultMakeCacheKeyFunction();\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var keyArgs = options.keyArgs;\r\n    var makeCacheKey = options.makeCacheKey ||\r\n        makeDefaultMakeCacheKeyFunction();\r\n    var optimistic = function () {\r\n        var key = makeCacheKey.apply(null, keyArgs ? keyArgs.apply(null, arguments) : arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var entry = cache.get(key);\r\n        if (!entry) {\r\n            cache.set(key, entry = new Entry(originalFunction));\r\n            entry.subscribe = options.subscribe;\r\n            // Give the Entry the ability to trigger cache.delete(key), even though\r\n            // the Entry itself does not know about key or cache.\r\n            entry.forget = function () { return cache.delete(key); };\r\n        }\r\n        var value = entry.recompute(Array.prototype.slice.call(arguments));\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(optimistic, \"size\", {\r\n        get: function () {\r\n            return cache[\"map\"].size;\r\n        },\r\n        configurable: false,\r\n        enumerable: false,\r\n    });\r\n    function dirtyKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.setDirty();\r\n        }\r\n    }\r\n    optimistic.dirtyKey = dirtyKey;\r\n    optimistic.dirty = function dirty() {\r\n        dirtyKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function peekKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            return entry.peek();\r\n        }\r\n    }\r\n    optimistic.peekKey = peekKey;\r\n    optimistic.peek = function peek() {\r\n        return peekKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function forgetKey(key) {\r\n        return cache.delete(key);\r\n    }\r\n    optimistic.forgetKey = forgetKey;\r\n    optimistic.forget = function forget() {\r\n        return forgetKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    optimistic.makeCacheKey = makeCacheKey;\r\n    optimistic.getKey = keyArgs ? function getKey() {\r\n        return makeCacheKey.apply(null, keyArgs.apply(null, arguments));\r\n    } : makeCacheKey;\r\n    return Object.freeze(optimistic);\r\n}\n\nexport { defaultMakeCacheKey, dep, wrap };\n//# sourceMappingURL=bundle.esm.js.map\n","import { dep } from \"optimism\";\nimport { Slot } from \"@wry/context\";\nexport var cacheSlot = new Slot();\nvar cacheInfoMap = new WeakMap();\nfunction getCacheInfo(cache) {\n    var info = cacheInfoMap.get(cache);\n    if (!info) {\n        cacheInfoMap.set(cache, info = {\n            vars: new Set,\n            dep: dep(),\n        });\n    }\n    return info;\n}\nexport function forgetCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\n}\nexport function recallCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\n}\nexport function makeVar(value) {\n    var caches = new Set();\n    var listeners = new Set();\n    var rv = function (newValue) {\n        if (arguments.length > 0) {\n            if (value !== newValue) {\n                value = newValue;\n                caches.forEach(function (cache) {\n                    getCacheInfo(cache).dep.dirty(rv);\n                    broadcast(cache);\n                });\n                var oldListeners = Array.from(listeners);\n                listeners.clear();\n                oldListeners.forEach(function (listener) { return listener(value); });\n            }\n        }\n        else {\n            var cache = cacheSlot.getValue();\n            if (cache) {\n                attach(cache);\n                getCacheInfo(cache).dep(rv);\n            }\n        }\n        return value;\n    };\n    rv.onNextChange = function (listener) {\n        listeners.add(listener);\n        return function () {\n            listeners.delete(listener);\n        };\n    };\n    var attach = rv.attachCache = function (cache) {\n        caches.add(cache);\n        getCacheInfo(cache).vars.add(rv);\n        return rv;\n    };\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\n    return rv;\n}\nfunction broadcast(cache) {\n    if (cache.broadcastWatches) {\n        cache.broadcastWatches();\n    }\n}\n//# sourceMappingURL=reactiveVars.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant } from \"../utilities/globals/index.js\";\nimport { visit, BREAK, isSelectionNode, } from 'graphql';\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from \"../utilities/index.js\";\nimport { cacheSlot } from \"../cache/index.js\";\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.selectionsToResolveCache = new WeakMap();\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return removeClientSetsFromDocument(document);\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        var cache = this.cache;\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\n                return cache.identify(obj);\n            } });\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, selectionsToResolve, definitionOperation, defaultOperationType, _a, cache, client, execContext, isClientFieldDescendant;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                selectionsToResolve = this.collectSelectionsToResolve(mainDefinition, fragmentMap);\n                definitionOperation = mainDefinition.operation;\n                defaultOperationType = definitionOperation\n                    ? definitionOperation.charAt(0).toUpperCase() +\n                        definitionOperation.slice(1)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    selectionsToResolve: selectionsToResolve,\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                isClientFieldDescendant = false;\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, isClientFieldDescendant, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, isClientFieldDescendant, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!isClientFieldDescendant && !execContext.selectionsToResolve.has(selection)) {\n                            return [2];\n                        }\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, isClientFieldDescendant, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            __DEV__ ? invariant(fragment, \"No fragment named \".concat(selection.name.value)) : invariant(fragment, 11);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, isClientFieldDescendant, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, isClientFieldDescendant, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (!rootValue) {\n                    return [2, null];\n                }\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\n                                rootValue,\n                                argumentsObjectFromField(field, variables),\n                                execContext.context,\n                                { field: field, fragmentMap: execContext.fragmentMap },\n                            ]));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        var _a, _b;\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        var isClientField = (_b = (_a = field.directives) === null || _a === void 0 ? void 0 : _a.some(function (d) { return d.name.value === 'client'; })) !== null && _b !== void 0 ? _b : false;\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, isClientFieldDescendant || isClientField, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, isClientFieldDescendant || isClientField, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, isClientFieldDescendant, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, isClientFieldDescendant, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, isClientFieldDescendant, item, execContext);\n            }\n        }));\n    };\n    LocalState.prototype.collectSelectionsToResolve = function (mainDefinition, fragmentMap) {\n        var isSingleASTNode = function (node) { return !Array.isArray(node); };\n        var selectionsToResolveCache = this.selectionsToResolveCache;\n        function collectByDefinition(definitionNode) {\n            if (!selectionsToResolveCache.has(definitionNode)) {\n                var matches_1 = new Set();\n                selectionsToResolveCache.set(definitionNode, matches_1);\n                visit(definitionNode, {\n                    Directive: function (node, _, __, ___, ancestors) {\n                        if (node.name.value === 'client') {\n                            ancestors.forEach(function (node) {\n                                if (isSingleASTNode(node) && isSelectionNode(node)) {\n                                    matches_1.add(node);\n                                }\n                            });\n                        }\n                    },\n                    FragmentSpread: function (spread, _, __, ___, ancestors) {\n                        var fragment = fragmentMap[spread.name.value];\n                        __DEV__ ? invariant(fragment, \"No fragment named \".concat(spread.name.value)) : invariant(fragment, 12);\n                        var fragmentSelections = collectByDefinition(fragment);\n                        if (fragmentSelections.size > 0) {\n                            ancestors.forEach(function (node) {\n                                if (isSingleASTNode(node) && isSelectionNode(node)) {\n                                    matches_1.add(node);\n                                }\n                            });\n                            matches_1.add(spread);\n                            fragmentSelections.forEach(function (selection) {\n                                matches_1.add(selection);\n                            });\n                        }\n                    }\n                });\n            }\n            return selectionsToResolveCache.get(definitionNode);\n        }\n        return collectByDefinition(mainDefinition);\n    };\n    return LocalState;\n}());\nexport { LocalState };\n//# sourceMappingURL=LocalState.js.map","import { __assign } from \"tslib\";\nimport { equal } from \"@wry/equality\";\nimport { DeepMerger } from \"../utilities/index.js\";\nimport { mergeIncrementalData } from \"../utilities/common/incrementalResult.js\";\nimport { reobserveCacheFirst } from \"./ObservableQuery.js\";\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from \"../utilities/index.js\";\nimport { NetworkStatus, isNetworkRequestInFlight, } from \"./networkStatus.js\";\n;\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\nfunction wrapDestructiveCacheMethod(cache, methodName) {\n    var original = cache[methodName];\n    if (typeof original === \"function\") {\n        cache[methodName] = function () {\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\n            return original.apply(this, arguments);\n        };\n    }\n}\nfunction cancelNotifyTimeout(info) {\n    if (info[\"notifyTimeout\"]) {\n        clearTimeout(info[\"notifyTimeout\"]);\n        info[\"notifyTimeout\"] = void 0;\n    }\n}\nvar QueryInfo = (function () {\n    function QueryInfo(queryManager, queryId) {\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\n        this.queryId = queryId;\n        this.listeners = new Set();\n        this.document = null;\n        this.lastRequestId = 1;\n        this.subscriptions = new Set();\n        this.stopped = false;\n        this.dirty = false;\n        this.observableQuery = null;\n        var cache = this.cache = queryManager.cache;\n        if (!destructiveMethodCounts.has(cache)) {\n            destructiveMethodCounts.set(cache, 0);\n            wrapDestructiveCacheMethod(cache, \"evict\");\n            wrapDestructiveCacheMethod(cache, \"modify\");\n            wrapDestructiveCacheMethod(cache, \"reset\");\n        }\n    }\n    QueryInfo.prototype.init = function (query) {\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\n        if (this.variables &&\n            this.networkStatus !== NetworkStatus.loading &&\n            !equal(this.variables, query.variables)) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        if (!equal(query.variables, this.variables)) {\n            this.lastDiff = void 0;\n        }\n        Object.assign(this, {\n            document: query.document,\n            variables: query.variables,\n            networkError: null,\n            graphQLErrors: this.graphQLErrors || [],\n            networkStatus: networkStatus,\n        });\n        if (query.observableQuery) {\n            this.setObservableQuery(query.observableQuery);\n        }\n        if (query.lastRequestId) {\n            this.lastRequestId = query.lastRequestId;\n        }\n        return this;\n    };\n    QueryInfo.prototype.reset = function () {\n        cancelNotifyTimeout(this);\n        this.dirty = false;\n    };\n    QueryInfo.prototype.getDiff = function (variables) {\n        if (variables === void 0) { variables = this.variables; }\n        var options = this.getDiffOptions(variables);\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\n            return this.lastDiff.diff;\n        }\n        this.updateWatch(this.variables = variables);\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return { complete: false };\n        }\n        var diff = this.cache.diff(options);\n        this.updateLastDiff(diff, options);\n        return diff;\n    };\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\n        this.lastDiff = diff ? {\n            diff: diff,\n            options: options || this.getDiffOptions(),\n        } : void 0;\n    };\n    QueryInfo.prototype.getDiffOptions = function (variables) {\n        var _a;\n        if (variables === void 0) { variables = this.variables; }\n        return {\n            query: this.document,\n            variables: variables,\n            returnPartialData: true,\n            optimistic: true,\n            canonizeResults: (_a = this.observableQuery) === null || _a === void 0 ? void 0 : _a.options.canonizeResults,\n        };\n    };\n    QueryInfo.prototype.setDiff = function (diff) {\n        var _this = this;\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\n        this.updateLastDiff(diff);\n        if (!this.dirty &&\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\n            this.dirty = true;\n            if (!this.notifyTimeout) {\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\n            }\n        }\n    };\n    QueryInfo.prototype.setObservableQuery = function (oq) {\n        var _this = this;\n        if (oq === this.observableQuery)\n            return;\n        if (this.oqListener) {\n            this.listeners.delete(this.oqListener);\n        }\n        this.observableQuery = oq;\n        if (oq) {\n            oq[\"queryInfo\"] = this;\n            this.listeners.add(this.oqListener = function () {\n                var diff = _this.getDiff();\n                if (diff.fromOptimisticTransaction) {\n                    oq[\"observe\"]();\n                }\n                else {\n                    reobserveCacheFirst(oq);\n                }\n            });\n        }\n        else {\n            delete this.oqListener;\n        }\n    };\n    QueryInfo.prototype.notify = function () {\n        var _this = this;\n        cancelNotifyTimeout(this);\n        if (this.shouldNotify()) {\n            this.listeners.forEach(function (listener) { return listener(_this); });\n        }\n        this.dirty = false;\n    };\n    QueryInfo.prototype.shouldNotify = function () {\n        if (!this.dirty || !this.listeners.size) {\n            return false;\n        }\n        if (isNetworkRequestInFlight(this.networkStatus) &&\n            this.observableQuery) {\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\n            if (fetchPolicy !== \"cache-only\" &&\n                fetchPolicy !== \"cache-and-network\") {\n                return false;\n            }\n        }\n        return true;\n    };\n    QueryInfo.prototype.stop = function () {\n        if (!this.stopped) {\n            this.stopped = true;\n            this.reset();\n            this.cancel();\n            this.cancel = QueryInfo.prototype.cancel;\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n            var oq = this.observableQuery;\n            if (oq)\n                oq.stopPolling();\n        }\n    };\n    QueryInfo.prototype.cancel = function () { };\n    QueryInfo.prototype.updateWatch = function (variables) {\n        var _this = this;\n        if (variables === void 0) { variables = this.variables; }\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return;\n        }\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\n        if (!this.lastWatch ||\n            !equal(watchOptions, this.lastWatch)) {\n            this.cancel();\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\n        }\n    };\n    QueryInfo.prototype.resetLastWrite = function () {\n        this.lastWrite = void 0;\n    };\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\n        var lastWrite = this.lastWrite;\n        return !(lastWrite &&\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\n            equal(variables, lastWrite.variables) &&\n            equal(result.data, lastWrite.result.data));\n    };\n    QueryInfo.prototype.markResult = function (result, document, options, cacheWriteBehavior) {\n        var _this = this;\n        var merger = new DeepMerger();\n        var graphQLErrors = isNonEmptyArray(result.errors)\n            ? result.errors.slice(0)\n            : [];\n        this.reset();\n        if ('incremental' in result && isNonEmptyArray(result.incremental)) {\n            var mergedData = mergeIncrementalData(this.getDiff().result, result);\n            result.data = mergedData;\n        }\n        else if ('hasNext' in result && result.hasNext) {\n            var diff = this.getDiff();\n            result.data = merger.merge(diff.result, result.data);\n        }\n        this.graphQLErrors = graphQLErrors;\n        if (options.fetchPolicy === 'no-cache') {\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\n        }\n        else if (cacheWriteBehavior !== 0) {\n            if (shouldWriteResult(result, options.errorPolicy)) {\n                this.cache.performTransaction(function (cache) {\n                    if (_this.shouldWrite(result, options.variables)) {\n                        cache.writeQuery({\n                            query: document,\n                            data: result.data,\n                            variables: options.variables,\n                            overwrite: cacheWriteBehavior === 1,\n                        });\n                        _this.lastWrite = {\n                            result: result,\n                            variables: options.variables,\n                            dmCount: destructiveMethodCounts.get(_this.cache),\n                        };\n                    }\n                    else {\n                        if (_this.lastDiff &&\n                            _this.lastDiff.diff.complete) {\n                            result.data = _this.lastDiff.diff.result;\n                            return;\n                        }\n                    }\n                    var diffOptions = _this.getDiffOptions(options.variables);\n                    var diff = cache.diff(diffOptions);\n                    if (!_this.stopped) {\n                        _this.updateWatch(options.variables);\n                    }\n                    _this.updateLastDiff(diff, diffOptions);\n                    if (diff.complete) {\n                        result.data = diff.result;\n                    }\n                });\n            }\n            else {\n                this.lastWrite = void 0;\n            }\n        }\n    };\n    QueryInfo.prototype.markReady = function () {\n        this.networkError = null;\n        return this.networkStatus = NetworkStatus.ready;\n    };\n    QueryInfo.prototype.markError = function (error) {\n        this.networkStatus = NetworkStatus.error;\n        this.lastWrite = void 0;\n        this.reset();\n        if (error.graphQLErrors) {\n            this.graphQLErrors = error.graphQLErrors;\n        }\n        if (error.networkError) {\n            this.networkError = error.networkError;\n        }\n        return error;\n    };\n    return QueryInfo;\n}());\nexport { QueryInfo };\nexport function shouldWriteResult(result, errorPolicy) {\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\n    var ignoreErrors = errorPolicy === \"ignore\" ||\n        errorPolicy === \"all\";\n    var writeWithErrors = !graphQLResultHasError(result);\n    if (!writeWithErrors && ignoreErrors && result.data) {\n        writeWithErrors = true;\n    }\n    return writeWithErrors;\n}\n//# sourceMappingURL=QueryInfo.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { execute } from \"../link/core/index.js\";\nimport { isExecutionPatchIncrementalResult, isExecutionPatchResult, } from \"../utilities/common/incrementalResult.js\";\nimport { canonicalStringify } from \"../cache/index.js\";\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, getGraphQLErrorsFromResult, removeConnectionDirectiveFromDocument, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, } from \"../utilities/index.js\";\nimport { mergeIncrementalData } from \"../utilities/common/incrementalResult.js\";\nimport { ApolloError, isApolloError, graphQLResultHasProtocolErrors } from \"../errors/index.js\";\nimport { ObservableQuery, logMissingFieldErrors } from \"./ObservableQuery.js\";\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\nimport { LocalState } from \"./LocalState.js\";\nimport { QueryInfo, shouldWriteResult, } from \"./QueryInfo.js\";\nimport { PROTOCOL_ERRORS_SYMBOL } from \"../errors/index.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var cache = _a.cache, link = _a.link, defaultOptions = _a.defaultOptions, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\n        this.clientAwareness = {};\n        this.queries = new Map();\n        this.fetchCancelFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.queryIdCounter = 1;\n        this.requestIdCounter = 1;\n        this.mutationIdCounter = 1;\n        this.inFlightLinkObservables = new Map();\n        this.cache = cache;\n        this.link = link;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.queryDeduplication = queryDeduplication;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: cache });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = !!assumeImmutableResults;\n        if ((this.onBroadcast = onBroadcast)) {\n            this.mutationStore = Object.create(null);\n        }\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('QueryManager stopped while query was in flight') : new InvariantError(14));\n    };\n    QueryManager.prototype.cancelPendingFetches = function (error) {\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\n        this.fetchCancelFns.clear();\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var _b, _c;\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _d = _a.refetchQueries, refetchQueries = _d === void 0 ? [] : _d, _e = _a.awaitRefetchQueries, awaitRefetchQueries = _e === void 0 ? false : _e, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _f = _a.fetchPolicy, fetchPolicy = _f === void 0 ? ((_b = this.defaultOptions.mutate) === null || _b === void 0 ? void 0 : _b.fetchPolicy) || \"network-only\" : _f, _g = _a.errorPolicy, errorPolicy = _g === void 0 ? ((_c = this.defaultOptions.mutate) === null || _c === void 0 ? void 0 : _c.errorPolicy) || \"none\" : _g, keepRootFields = _a.keepRootFields, context = _a.context;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, _h, document, hasClientExports, mutationStoreValue, self;\n            return __generator(this, function (_j) {\n                switch (_j.label) {\n                    case 0:\n                        __DEV__ ? invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.') : invariant(mutation, 15);\n                        __DEV__ ? invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', \"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.\") : invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', 16);\n                        mutationId = this.generateMutationId();\n                        _h = this.transform(mutation), document = _h.document, hasClientExports = _h.hasClientExports;\n                        mutation = this.cache.transformForLink(document);\n                        variables = this.getVariables(mutation, variables);\n                        if (!hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = (_j.sent());\n                        _j.label = 2;\n                    case 2:\n                        mutationStoreValue = this.mutationStore &&\n                            (this.mutationStore[mutationId] = {\n                                mutation: mutation,\n                                variables: variables,\n                                loading: true,\n                                error: null,\n                            });\n                        if (optimisticResponse) {\n                            this.markMutationOptimistic(optimisticResponse, {\n                                mutationId: mutationId,\n                                document: mutation,\n                                variables: variables,\n                                fetchPolicy: fetchPolicy,\n                                errorPolicy: errorPolicy,\n                                context: context,\n                                updateQueries: updateQueries,\n                                update: updateWithProxyFn,\n                                keepRootFields: keepRootFields,\n                            });\n                        }\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                        throw new ApolloError({\n                                            graphQLErrors: getGraphQLErrorsFromResult(result),\n                                        });\n                                    }\n                                    if (mutationStoreValue) {\n                                        mutationStoreValue.loading = false;\n                                        mutationStoreValue.error = null;\n                                    }\n                                    var storeResult = __assign({}, result);\n                                    if (typeof refetchQueries === \"function\") {\n                                        refetchQueries = refetchQueries(storeResult);\n                                    }\n                                    if (errorPolicy === 'ignore' &&\n                                        graphQLResultHasError(storeResult)) {\n                                        delete storeResult.errors;\n                                    }\n                                    return self.markMutationResult({\n                                        mutationId: mutationId,\n                                        result: storeResult,\n                                        document: mutation,\n                                        variables: variables,\n                                        fetchPolicy: fetchPolicy,\n                                        errorPolicy: errorPolicy,\n                                        context: context,\n                                        update: updateWithProxyFn,\n                                        updateQueries: updateQueries,\n                                        awaitRefetchQueries: awaitRefetchQueries,\n                                        refetchQueries: refetchQueries,\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\n                                        onQueryUpdated: onQueryUpdated,\n                                        keepRootFields: keepRootFields,\n                                    });\n                                }).subscribe({\n                                    next: function (storeResult) {\n                                        self.broadcastQueries();\n                                        if (!('hasNext' in storeResult) || storeResult.hasNext === false) {\n                                            resolve(storeResult);\n                                        }\n                                    },\n                                    error: function (err) {\n                                        if (mutationStoreValue) {\n                                            mutationStoreValue.loading = false;\n                                            mutationStoreValue.error = err;\n                                        }\n                                        if (optimisticResponse) {\n                                            self.cache.removeOptimistic(mutationId);\n                                        }\n                                        self.broadcastQueries();\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\n        var _this = this;\n        if (cache === void 0) { cache = this.cache; }\n        var result = mutation.result;\n        var cacheWrites = [];\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\n            if (!isExecutionPatchIncrementalResult(result)) {\n                cacheWrites.push({\n                    result: result.data,\n                    dataId: 'ROOT_MUTATION',\n                    query: mutation.document,\n                    variables: mutation.variables,\n                });\n            }\n            if (isExecutionPatchIncrementalResult(result) && isNonEmptyArray(result.incremental)) {\n                var diff = cache.diff({\n                    id: \"ROOT_MUTATION\",\n                    query: this.transform(mutation.document).asQuery,\n                    variables: mutation.variables,\n                    optimistic: false,\n                    returnPartialData: true,\n                });\n                var mergedData = void 0;\n                if (diff.result) {\n                    mergedData = mergeIncrementalData(diff.result, result);\n                }\n                if (typeof mergedData !== 'undefined') {\n                    result.data = mergedData;\n                    cacheWrites.push({\n                        result: mergedData,\n                        dataId: 'ROOT_MUTATION',\n                        query: mutation.document,\n                        variables: mutation.variables,\n                    });\n                }\n            }\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                this.queries.forEach(function (_a, queryId) {\n                    var observableQuery = _a.observableQuery;\n                    var queryName = observableQuery && observableQuery.queryName;\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\n                        return;\n                    }\n                    var updater = updateQueries_1[queryName];\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\n                    var _c = cache.diff({\n                        query: document,\n                        variables: variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _c.result, complete = _c.complete;\n                    if (complete && currentQueryResult) {\n                        var nextQueryResult = updater(currentQueryResult, {\n                            mutationResult: result,\n                            queryName: document && getOperationName(document) || void 0,\n                            queryVariables: variables,\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: document,\n                                variables: variables,\n                            });\n                        }\n                    }\n                });\n            }\n        }\n        if (cacheWrites.length > 0 ||\n            mutation.refetchQueries ||\n            mutation.update ||\n            mutation.onQueryUpdated ||\n            mutation.removeOptimistic) {\n            var results_1 = [];\n            this.refetchQueries({\n                updateCache: function (cache) {\n                    if (!skipCache) {\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\n                    }\n                    var update = mutation.update;\n                    var isFinalResult = !isExecutionPatchResult(result) ||\n                        (isExecutionPatchIncrementalResult(result) && !result.hasNext);\n                    if (update) {\n                        if (!skipCache) {\n                            var diff = cache.diff({\n                                id: \"ROOT_MUTATION\",\n                                query: _this.transform(mutation.document).asQuery,\n                                variables: mutation.variables,\n                                optimistic: false,\n                                returnPartialData: true,\n                            });\n                            if (diff.complete) {\n                                result = __assign(__assign({}, result), { data: diff.result });\n                                if ('incremental' in result) {\n                                    delete result.incremental;\n                                }\n                                if ('hasNext' in result) {\n                                    delete result.hasNext;\n                                }\n                            }\n                        }\n                        if (isFinalResult) {\n                            update(cache, result, {\n                                context: mutation.context,\n                                variables: mutation.variables,\n                            });\n                        }\n                    }\n                    if (!skipCache && !mutation.keepRootFields && isFinalResult) {\n                        cache.modify({\n                            id: 'ROOT_MUTATION',\n                            fields: function (value, _a) {\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\n                                return fieldName === \"__typename\" ? value : DELETE;\n                            },\n                        });\n                    }\n                },\n                include: mutation.refetchQueries,\n                optimistic: false,\n                removeOptimistic: mutation.removeOptimistic,\n                onQueryUpdated: mutation.onQueryUpdated || null,\n            }).forEach(function (result) { return results_1.push(result); });\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\n                return Promise.all(results_1).then(function () { return result; });\n            }\n        }\n        return Promise.resolve(result);\n    };\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\n        var _this = this;\n        var data = typeof optimisticResponse === \"function\"\n            ? optimisticResponse(mutation.variables)\n            : optimisticResponse;\n        return this.cache.recordOptimisticTransaction(function (cache) {\n            try {\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\n            }\n            catch (error) {\n                __DEV__ && invariant.error(error);\n            }\n        }, mutation.mutationId);\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\n        return this.fetchQueryObservable(queryId, options, networkStatus).promise;\n    };\n    QueryManager.prototype.getQueryStore = function () {\n        var store = Object.create(null);\n        this.queries.forEach(function (info, queryId) {\n            store[queryId] = {\n                variables: info.variables,\n                networkStatus: info.networkStatus,\n                networkError: info.networkError,\n                graphQLErrors: info.graphQLErrors,\n            };\n        });\n        return store;\n    };\n    QueryManager.prototype.resetErrors = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo) {\n            queryInfo.networkError = undefined;\n            queryInfo.graphQLErrors = [];\n        }\n    };\n    QueryManager.prototype.transform = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var transformed = this.cache.transformDocument(document);\n            var noConnection = removeConnectionDirectiveFromDocument(transformed);\n            var clientQuery = this.localState.clientQuery(transformed);\n            var serverQuery = noConnection && this.localState.serverQuery(noConnection);\n            var cacheEntry_1 = {\n                document: transformed,\n                hasClientExports: hasClientExports(transformed),\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\n                clientQuery: clientQuery,\n                serverQuery: serverQuery,\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\n                asQuery: __assign(__assign({}, transformed), { definitions: transformed.definitions.map(function (def) {\n                        if (def.kind === \"OperationDefinition\" &&\n                            def.operation !== \"query\") {\n                            return __assign(__assign({}, def), { operation: \"query\" });\n                        }\n                        return def;\n                    }) })\n            };\n            var add = function (doc) {\n                if (doc && !transformCache.has(doc)) {\n                    transformCache.set(doc, cacheEntry_1);\n                }\n            };\n            add(document);\n            add(transformed);\n            add(clientQuery);\n            add(serverQuery);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\n    };\n    QueryManager.prototype.watchQuery = function (options) {\n        options = __assign(__assign({}, options), { variables: this.getVariables(options.query, options.variables) });\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var queryInfo = new QueryInfo(this);\n        var observable = new ObservableQuery({\n            queryManager: this,\n            queryInfo: queryInfo,\n            options: options,\n        });\n        this.queries.set(observable.queryId, queryInfo);\n        queryInfo.init({\n            document: observable.query,\n            observableQuery: observable,\n            variables: observable.variables,\n        });\n        return observable;\n    };\n    QueryManager.prototype.query = function (options, queryId) {\n        var _this = this;\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\n        __DEV__ ? invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\n            'in the query option.') : invariant(options.query, 17);\n        __DEV__ ? invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.') : invariant(options.query.kind === 'Document', 18);\n        __DEV__ ? invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.') : invariant(!options.returnPartialData, 19);\n        __DEV__ ? invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.') : invariant(!options.pollInterval, 20);\n        return this.fetchQuery(queryId, options).finally(function () { return _this.stopQuery(queryId); });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.queryIdCounter++);\n    };\n    QueryManager.prototype.generateRequestId = function () {\n        return this.requestIdCounter++;\n    };\n    QueryManager.prototype.generateMutationId = function () {\n        return String(this.mutationIdCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo)\n            queryInfo.stop();\n    };\n    QueryManager.prototype.clearStore = function (options) {\n        if (options === void 0) { options = {\n            discardWatches: true,\n        }; }\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('Store reset while query was in flight (not completed in link chain)') : new InvariantError(21));\n        this.queries.forEach(function (queryInfo) {\n            if (queryInfo.observableQuery) {\n                queryInfo.networkStatus = NetworkStatus.loading;\n            }\n            else {\n                queryInfo.stop();\n            }\n        });\n        if (this.mutationStore) {\n            this.mutationStore = Object.create(null);\n        }\n        return this.cache.reset(options);\n    };\n    QueryManager.prototype.getObservableQueries = function (include) {\n        var _this = this;\n        if (include === void 0) { include = \"active\"; }\n        var queries = new Map();\n        var queryNamesAndDocs = new Map();\n        var legacyQueryOptions = new Set();\n        if (Array.isArray(include)) {\n            include.forEach(function (desc) {\n                if (typeof desc === \"string\") {\n                    queryNamesAndDocs.set(desc, false);\n                }\n                else if (isDocumentNode(desc)) {\n                    queryNamesAndDocs.set(_this.transform(desc).document, false);\n                }\n                else if (isNonNullObject(desc) && desc.query) {\n                    legacyQueryOptions.add(desc);\n                }\n            });\n        }\n        this.queries.forEach(function (_a, queryId) {\n            var oq = _a.observableQuery, document = _a.document;\n            if (oq) {\n                if (include === \"all\") {\n                    queries.set(queryId, oq);\n                    return;\n                }\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\n                if (fetchPolicy === \"standby\" ||\n                    (include === \"active\" && !oq.hasObservers())) {\n                    return;\n                }\n                if (include === \"active\" ||\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\n                    (document && queryNamesAndDocs.has(document))) {\n                    queries.set(queryId, oq);\n                    if (queryName)\n                        queryNamesAndDocs.set(queryName, true);\n                    if (document)\n                        queryNamesAndDocs.set(document, true);\n                }\n            }\n        });\n        if (legacyQueryOptions.size) {\n            legacyQueryOptions.forEach(function (options) {\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\n                var queryInfo = _this.getQuery(queryId).init({\n                    document: options.query,\n                    variables: options.variables,\n                });\n                var oq = new ObservableQuery({\n                    queryManager: _this,\n                    queryInfo: queryInfo,\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\n                });\n                invariant(oq.queryId === queryId);\n                queryInfo.setObservableQuery(oq);\n                queries.set(queryId, oq);\n            });\n        }\n        if (__DEV__ && queryNamesAndDocs.size) {\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\n                if (!included) {\n                    __DEV__ && invariant.warn(\"Unknown query \".concat(typeof nameOrDoc === \"string\" ? \"named \" : \"\").concat(JSON.stringify(nameOrDoc, null, 2), \" requested in refetchQueries options.include array\"));\n                }\n            });\n        }\n        return queries;\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\n            var fetchPolicy = observableQuery.options.fetchPolicy;\n            observableQuery.resetLastResults();\n            if (includeStandby ||\n                (fetchPolicy !== \"standby\" &&\n                    fetchPolicy !== \"cache-only\")) {\n                observableQueryPromises.push(observableQuery.refetch());\n            }\n            _this.getQuery(queryId).setDiff(null);\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\n        query = this.transform(query).document;\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\n                if (fetchPolicy !== 'no-cache') {\n                    if (shouldWriteResult(result, errorPolicy)) {\n                        _this.cache.write({\n                            query: query,\n                            result: result.data,\n                            dataId: 'ROOT_SUBSCRIPTION',\n                            variables: variables,\n                        });\n                    }\n                    _this.broadcastQueries();\n                }\n                var hasErrors = graphQLResultHasError(result);\n                var hasProtocolErrors = graphQLResultHasProtocolErrors(result);\n                if (hasErrors || hasProtocolErrors) {\n                    var errors = {};\n                    if (hasErrors) {\n                        errors.graphQLErrors = result.errors;\n                    }\n                    if (hasProtocolErrors) {\n                        errors.protocolErrors = result.extensions[PROTOCOL_ERRORS_SYMBOL];\n                    }\n                    throw new ApolloError(errors);\n                }\n                return result;\n            });\n        };\n        if (this.transform(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchCancelFns.delete(queryId);\n        if (this.queries.has(queryId)) {\n            this.getQuery(queryId).stop();\n            this.queries.delete(queryId);\n        }\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        if (this.onBroadcast)\n            this.onBroadcast();\n        this.queries.forEach(function (info) { return info.notify(); });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        var _a;\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\n        var observable;\n        var serverQuery = this.transform(query).serverQuery;\n        if (serverQuery) {\n            var _b = this, inFlightLinkObservables_1 = _b.inFlightLinkObservables, link = _b.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\n                var varJson_1 = canonicalStringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    var concast = new Concast([\n                        execute(link, operation)\n                    ]);\n                    byVariables_1.set(varJson_1, observable = concast);\n                    concast.beforeNext(function () {\n                        if (byVariables_1.delete(varJson_1) &&\n                            byVariables_1.size < 1) {\n                            inFlightLinkObservables_1.delete(serverQuery);\n                        }\n                    });\n                }\n            }\n            else {\n                observable = new Concast([\n                    execute(link, operation)\n                ]);\n            }\n        }\n        else {\n            observable = new Concast([\n                Observable.of({ data: {} })\n            ]);\n            context = this.prepareContext(context);\n        }\n        var clientQuery = this.transform(query).clientQuery;\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\n        var linkDocument = this.cache.transformForLink(this.transform(queryInfo.document).document);\n        return asyncMap(this.getObservableFromLink(linkDocument, options.context, options.variables), function (result) {\n            var graphQLErrors = getGraphQLErrorsFromResult(result);\n            var hasErrors = graphQLErrors.length > 0;\n            if (requestId >= queryInfo.lastRequestId) {\n                if (hasErrors && options.errorPolicy === \"none\") {\n                    throw queryInfo.markError(new ApolloError({\n                        graphQLErrors: graphQLErrors,\n                    }));\n                }\n                queryInfo.markResult(result, linkDocument, options, cacheWriteBehavior);\n                queryInfo.markReady();\n            }\n            var aqr = {\n                data: result.data,\n                loading: false,\n                networkStatus: NetworkStatus.ready,\n            };\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\n                aqr.errors = graphQLErrors;\n                aqr.networkStatus = NetworkStatus.error;\n            }\n            return aqr;\n        }, function (networkError) {\n            var error = isApolloError(networkError)\n                ? networkError\n                : new ApolloError({ networkError: networkError });\n            if (requestId >= queryInfo.lastRequestId) {\n                queryInfo.markError(error);\n            }\n            throw error;\n        });\n    };\n    QueryManager.prototype.fetchQueryObservable = function (queryId, options, networkStatus) {\n        return this.fetchConcastWithInfo(queryId, options, networkStatus).concast;\n    };\n    QueryManager.prototype.fetchConcastWithInfo = function (queryId, options, networkStatus) {\n        var _this = this;\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\n        var query = this.transform(options.query).document;\n        var variables = this.getVariables(query, options.variables);\n        var queryInfo = this.getQuery(queryId);\n        var defaults = this.defaultOptions.watchQuery;\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? defaults && defaults.fetchPolicy || \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? defaults && defaults.errorPolicy || \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\n        var normalized = Object.assign({}, options, {\n            query: query,\n            variables: variables,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n            returnPartialData: returnPartialData,\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            context: context,\n        });\n        var fromVariables = function (variables) {\n            normalized.variables = variables;\n            var sourcesWithInfo = _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\n            if (normalized.fetchPolicy !== \"standby\" &&\n                sourcesWithInfo.sources.length > 0 &&\n                queryInfo.observableQuery) {\n                queryInfo.observableQuery[\"applyNextFetchPolicy\"](\"after-fetch\", options);\n            }\n            return sourcesWithInfo;\n        };\n        var cleanupCancelFn = function () { return _this.fetchCancelFns.delete(queryId); };\n        this.fetchCancelFns.set(queryId, function (reason) {\n            cleanupCancelFn();\n            setTimeout(function () { return concast.cancel(reason); });\n        });\n        var concast, containsDataFromLink;\n        if (this.transform(normalized.query).hasClientExports) {\n            concast = new Concast(this.localState\n                .addExportedVariables(normalized.query, normalized.variables, normalized.context)\n                .then(fromVariables).then(function (sourcesWithInfo) { return sourcesWithInfo.sources; }));\n            containsDataFromLink = true;\n        }\n        else {\n            var sourcesWithInfo = fromVariables(normalized.variables);\n            containsDataFromLink = sourcesWithInfo.fromLink;\n            concast = new Concast(sourcesWithInfo.sources);\n        }\n        concast.promise.then(cleanupCancelFn, cleanupCancelFn);\n        return {\n            concast: concast,\n            fromLink: containsDataFromLink,\n        };\n    };\n    QueryManager.prototype.refetchQueries = function (_a) {\n        var _this = this;\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\n        var includedQueriesById = new Map();\n        if (include) {\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\n                includedQueriesById.set(queryId, {\n                    oq: oq,\n                    lastDiff: _this.getQuery(queryId).getDiff(),\n                });\n            });\n        }\n        var results = new Map;\n        if (updateCache) {\n            this.cache.batch({\n                update: updateCache,\n                optimistic: optimistic && removeOptimistic || false,\n                removeOptimistic: removeOptimistic,\n                onWatchUpdated: function (watch, diff, lastDiff) {\n                    var oq = watch.watcher instanceof QueryInfo &&\n                        watch.watcher.observableQuery;\n                    if (oq) {\n                        if (onQueryUpdated) {\n                            includedQueriesById.delete(oq.queryId);\n                            var result = onQueryUpdated(oq, diff, lastDiff);\n                            if (result === true) {\n                                result = oq.refetch();\n                            }\n                            if (result !== false) {\n                                results.set(oq, result);\n                            }\n                            return result;\n                        }\n                        if (onQueryUpdated !== null) {\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\n                        }\n                    }\n                },\n            });\n        }\n        if (includedQueriesById.size) {\n            includedQueriesById.forEach(function (_a, queryId) {\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\n                var result;\n                if (onQueryUpdated) {\n                    if (!diff) {\n                        var info = oq[\"queryInfo\"];\n                        info.reset();\n                        diff = info.getDiff();\n                    }\n                    result = onQueryUpdated(oq, diff, lastDiff);\n                }\n                if (!onQueryUpdated || result === true) {\n                    result = oq.refetch();\n                }\n                if (result !== false) {\n                    results.set(oq, result);\n                }\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\n                    _this.stopQueryNoBroadcast(queryId);\n                }\n            });\n        }\n        if (removeOptimistic) {\n            this.cache.removeOptimistic(removeOptimistic);\n        }\n        return results;\n    };\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\n        var _this = this;\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\n        var oldNetworkStatus = queryInfo.networkStatus;\n        queryInfo.init({\n            document: this.transform(query).document,\n            variables: variables,\n            networkStatus: networkStatus,\n        });\n        var readCache = function () { return queryInfo.getDiff(variables); };\n        var resultsFromCache = function (diff, networkStatus) {\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\n            var data = diff.result;\n            if (__DEV__ &&\n                !returnPartialData &&\n                !equal(data, {})) {\n                logMissingFieldErrors(diff.missing);\n            }\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\n            if (data && _this.transform(query).hasForcedResolvers) {\n                return _this.localState.runResolvers({\n                    document: query,\n                    remoteResult: { data: data },\n                    context: context,\n                    variables: variables,\n                    onlyRunForcedResolvers: true,\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\n            }\n            if (errorPolicy === 'none' &&\n                networkStatus === NetworkStatus.refetch &&\n                Array.isArray(diff.missing)) {\n                return fromData(void 0);\n            }\n            return fromData(data);\n        };\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\n            (networkStatus === NetworkStatus.refetch &&\n                refetchWritePolicy !== \"merge\") ? 1\n                : 2;\n        var resultsFromLink = function () { return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\n            variables: variables,\n            context: context,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n        }); };\n        var shouldNotify = notifyOnNetworkStatusChange &&\n            typeof oldNetworkStatus === \"number\" &&\n            oldNetworkStatus !== networkStatus &&\n            isNetworkRequestInFlight(networkStatus);\n        switch (fetchPolicy) {\n            default:\n            case \"cache-first\": {\n                var diff = readCache();\n                if (diff.complete) {\n                    return { fromLink: false, sources: [resultsFromCache(diff, queryInfo.markReady())] };\n                }\n                if (returnPartialData || shouldNotify) {\n                    return { fromLink: true, sources: [resultsFromCache(diff), resultsFromLink()] };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            }\n            case \"cache-and-network\": {\n                var diff = readCache();\n                if (diff.complete || returnPartialData || shouldNotify) {\n                    return { fromLink: true, sources: [resultsFromCache(diff), resultsFromLink()] };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            }\n            case \"cache-only\":\n                return { fromLink: false, sources: [resultsFromCache(readCache(), queryInfo.markReady())] };\n            case \"network-only\":\n                if (shouldNotify) {\n                    return { fromLink: true, sources: [resultsFromCache(readCache()), resultsFromLink()] };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            case \"no-cache\":\n                if (shouldNotify) {\n                    return {\n                        fromLink: true,\n                        sources: [\n                            resultsFromCache(queryInfo.getDiff()),\n                            resultsFromLink(),\n                        ],\n                    };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            case \"standby\":\n                return { fromLink: false, sources: [] };\n        }\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        if (queryId && !this.queries.has(queryId)) {\n            this.queries.set(queryId, new QueryInfo(this, queryId));\n        }\n        return this.queries.get(queryId);\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\n    };\n    return QueryManager;\n}());\nexport { QueryManager };\n//# sourceMappingURL=QueryManager.js.map","export var Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n//# sourceMappingURL=Cache.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { ApolloLink, execute } from \"../link/core/index.js\";\nimport { version } from \"../version.js\";\nimport { HttpLink } from \"../link/http/index.js\";\nimport { QueryManager } from \"./QueryManager.js\";\nimport { LocalState, } from \"./LocalState.js\";\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities/index.js\";\nexport { mergeOptions };\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\n            !window.__APOLLO_CLIENT__ &&\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link) {\n            link = uri\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\n                : ApolloLink.empty();\n        }\n        if (!cache) {\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\n                \"in the options object. \\n\" +\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(9);\n        }\n        this.link = link;\n        this.cache = cache;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        if (connectToDevTools && typeof window === 'object') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && connectToDevTools && __DEV__) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self &&\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n                var nav = window.navigator;\n                var ua = nav && nav.userAgent;\n                var url = void 0;\n                if (typeof ua === \"string\") {\n                    if (ua.indexOf(\"Chrome/\") > -1) {\n                        url = \"https://chrome.google.com/webstore/detail/\" +\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n                    }\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n                    }\n                }\n                if (url) {\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\n                        \"experience: \" + url);\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            cache: this.cache,\n            link: this.link,\n            defaultOptions: this.defaultOptions,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: connectToDevTools ? function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.getQueryStore(),\n                            mutations: _this.queryManager.mutationStore || {},\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            } : void 0,\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = mergeOptions(this.defaultOptions.query, options);\n        }\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 10);\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = mergeOptions(this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        var ref = this.cache.writeQuery(options);\n        if (options.broadcast !== false) {\n            this.queryManager.broadcastQueries();\n        }\n        return ref;\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        var ref = this.cache.writeFragment(options);\n        if (options.broadcast !== false) {\n            this.queryManager.broadcastQueries();\n        }\n        return ref;\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: false,\n        }); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: true,\n        }); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.refetchQueries = function (options) {\n        var map = this.queryManager.refetchQueries(options);\n        var queries = [];\n        var results = [];\n        map.forEach(function (result, obsQuery) {\n            queries.push(obsQuery);\n            results.push(result);\n        });\n        var result = Promise.all(results);\n        result.queries = queries;\n        result.results = results;\n        result.catch(function (error) {\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \".concat(error));\n        });\n        return result;\n    };\n    ApolloClient.prototype.getObservableQueries = function (include) {\n        if (include === void 0) { include = \"active\"; }\n        return this.queryManager.getObservableQueries(include);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    ApolloClient.prototype.setLink = function (newLink) {\n        this.link = this.queryManager.link = newLink;\n    };\n    return ApolloClient;\n}());\nexport { ApolloClient };\n//# sourceMappingURL=ApolloClient.js.map","export var version = '3.7.17';\n//# sourceMappingURL=version.js.map","import { __assign, __rest } from \"tslib\";\nimport { wrap } from 'optimism';\nimport { getFragmentQueryDocument, } from \"../../utilities/index.js\";\nvar ApolloCache = (function () {\n    function ApolloCache() {\n        this.getFragmentDoc = wrap(getFragmentQueryDocument);\n    }\n    ApolloCache.prototype.batch = function (options) {\n        var _this = this;\n        var optimisticId = typeof options.optimistic === \"string\" ? options.optimistic :\n            options.optimistic === false ? null : void 0;\n        var updateResult;\n        this.performTransaction(function () { return updateResult = options.update(_this); }, optimisticId);\n        return updateResult;\n    };\n    ApolloCache.prototype.recordOptimisticTransaction = function (transaction, optimisticId) {\n        this.performTransaction(transaction, optimisticId);\n    };\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.identify = function (object) {\n        return;\n    };\n    ApolloCache.prototype.gc = function () {\n        return [];\n    };\n    ApolloCache.prototype.modify = function (options) {\n        return false;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { rootId: options.id || 'ROOT_QUERY', optimistic: optimistic }));\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { query: this.getFragmentDoc(options.fragment, options.fragmentName), rootId: options.id, optimistic: optimistic }));\n    };\n    ApolloCache.prototype.writeQuery = function (_a) {\n        var id = _a.id, data = _a.data, options = __rest(_a, [\"id\", \"data\"]);\n        return this.write(Object.assign(options, {\n            dataId: id || 'ROOT_QUERY',\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.writeFragment = function (_a) {\n        var id = _a.id, data = _a.data, fragment = _a.fragment, fragmentName = _a.fragmentName, options = __rest(_a, [\"id\", \"data\", \"fragment\", \"fragmentName\"]);\n        return this.write(Object.assign(options, {\n            query: this.getFragmentDoc(fragment, fragmentName),\n            dataId: id,\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.updateQuery = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readQuery(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeQuery(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    ApolloCache.prototype.updateFragment = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readFragment(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeFragment(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    return ApolloCache;\n}());\nexport { ApolloCache };\n//# sourceMappingURL=cache.js.map","import { __extends } from \"tslib\";\nvar MissingFieldError = (function (_super) {\n    __extends(MissingFieldError, _super);\n    function MissingFieldError(message, path, query, variables) {\n        var _a;\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.path = path;\n        _this.query = query;\n        _this.variables = variables;\n        if (Array.isArray(_this.path)) {\n            _this.missing = _this.message;\n            for (var i = _this.path.length - 1; i >= 0; --i) {\n                _this.missing = (_a = {}, _a[_this.path[i]] = _this.missing, _a);\n            }\n        }\n        else {\n            _this.missing = _this.path;\n        }\n        _this.__proto__ = MissingFieldError.prototype;\n        return _this;\n    }\n    return MissingFieldError;\n}(Error));\nexport { MissingFieldError };\n//# sourceMappingURL=common.js.map","import { isReference, isField, DeepMerger, resultKeyNameFromField, shouldInclude, isNonNullObject, compact, createFragmentMap, getFragmentDefinitions, isArray, } from \"../../utilities/index.js\";\nexport var hasOwn = Object.prototype.hasOwnProperty;\nexport function isNullish(value) {\n    return value === null || value === void 0;\n}\nexport { isArray };\nexport function defaultDataIdFromObject(_a, context) {\n    var __typename = _a.__typename, id = _a.id, _id = _a._id;\n    if (typeof __typename === \"string\") {\n        if (context) {\n            context.keyObject =\n                !isNullish(id) ? { id: id } :\n                    !isNullish(_id) ? { _id: _id } :\n                        void 0;\n        }\n        if (isNullish(id) && !isNullish(_id)) {\n            id = _id;\n        }\n        if (!isNullish(id)) {\n            return \"\".concat(__typename, \":\").concat((typeof id === \"number\" ||\n                typeof id === \"string\") ? id : JSON.stringify(id));\n        }\n    }\n}\nvar defaultConfig = {\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    canonizeResults: false,\n};\nexport function normalizeConfig(config) {\n    return compact(defaultConfig, config);\n}\nexport function shouldCanonizeResults(config) {\n    var value = config.canonizeResults;\n    return value === void 0 ? defaultConfig.canonizeResults : value;\n}\nexport function getTypenameFromStoreObject(store, objectOrReference) {\n    return isReference(objectOrReference)\n        ? store.get(objectOrReference.__ref, \"__typename\")\n        : objectOrReference && objectOrReference.__typename;\n}\nexport var TypeOrFieldNameRegExp = /^[_a-z][_0-9a-z]*/i;\nexport function fieldNameFromStoreName(storeFieldName) {\n    var match = storeFieldName.match(TypeOrFieldNameRegExp);\n    return match ? match[0] : storeFieldName;\n}\nexport function selectionSetMatchesResult(selectionSet, result, variables) {\n    if (isNonNullObject(result)) {\n        return isArray(result)\n            ? result.every(function (item) { return selectionSetMatchesResult(selectionSet, item, variables); })\n            : selectionSet.selections.every(function (field) {\n                if (isField(field) && shouldInclude(field, variables)) {\n                    var key = resultKeyNameFromField(field);\n                    return hasOwn.call(result, key) &&\n                        (!field.selectionSet ||\n                            selectionSetMatchesResult(field.selectionSet, result[key], variables));\n                }\n                return true;\n            });\n    }\n    return false;\n}\nexport function storeValueIsStoreObject(value) {\n    return isNonNullObject(value) &&\n        !isReference(value) &&\n        !isArray(value);\n}\nexport function makeProcessedFieldsMerger() {\n    return new DeepMerger;\n}\nexport function extractFragmentContext(document, fragments) {\n    var fragmentMap = createFragmentMap(getFragmentDefinitions(document));\n    return {\n        fragmentMap: fragmentMap,\n        lookupFragment: function (name) {\n            var def = fragmentMap[name];\n            if (!def && fragments) {\n                def = fragments.lookup(name);\n            }\n            return def || null;\n        },\n    };\n}\n//# sourceMappingURL=helpers.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { dep } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { isReference, makeReference, DeepMerger, maybeDeepFreeze, canUseWeakMap, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, fieldNameFromStoreName } from \"./helpers.js\";\nvar DELETE = Object.create(null);\nvar delModifier = function () { return DELETE; };\nvar INVALIDATE = Object.create(null);\nvar EntityStore = (function () {\n    function EntityStore(policies, group) {\n        var _this = this;\n        this.policies = policies;\n        this.group = group;\n        this.data = Object.create(null);\n        this.rootIds = Object.create(null);\n        this.refs = Object.create(null);\n        this.getFieldValue = function (objectOrReference, storeFieldName) { return maybeDeepFreeze(isReference(objectOrReference)\n            ? _this.get(objectOrReference.__ref, storeFieldName)\n            : objectOrReference && objectOrReference[storeFieldName]); };\n        this.canRead = function (objOrRef) {\n            return isReference(objOrRef)\n                ? _this.has(objOrRef.__ref)\n                : typeof objOrRef === \"object\";\n        };\n        this.toReference = function (objOrIdOrRef, mergeIntoStore) {\n            if (typeof objOrIdOrRef === \"string\") {\n                return makeReference(objOrIdOrRef);\n            }\n            if (isReference(objOrIdOrRef)) {\n                return objOrIdOrRef;\n            }\n            var id = _this.policies.identify(objOrIdOrRef)[0];\n            if (id) {\n                var ref = makeReference(id);\n                if (mergeIntoStore) {\n                    _this.merge(id, objOrIdOrRef);\n                }\n                return ref;\n            }\n        };\n    }\n    EntityStore.prototype.toObject = function () {\n        return __assign({}, this.data);\n    };\n    EntityStore.prototype.has = function (dataId) {\n        return this.lookup(dataId, true) !== void 0;\n    };\n    EntityStore.prototype.get = function (dataId, fieldName) {\n        this.group.depend(dataId, fieldName);\n        if (hasOwn.call(this.data, dataId)) {\n            var storeObject = this.data[dataId];\n            if (storeObject && hasOwn.call(storeObject, fieldName)) {\n                return storeObject[fieldName];\n            }\n        }\n        if (fieldName === \"__typename\" &&\n            hasOwn.call(this.policies.rootTypenamesById, dataId)) {\n            return this.policies.rootTypenamesById[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.get(dataId, fieldName);\n        }\n    };\n    EntityStore.prototype.lookup = function (dataId, dependOnExistence) {\n        if (dependOnExistence)\n            this.group.depend(dataId, \"__exists\");\n        if (hasOwn.call(this.data, dataId)) {\n            return this.data[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.lookup(dataId, dependOnExistence);\n        }\n        if (this.policies.rootTypenamesById[dataId]) {\n            return Object.create(null);\n        }\n    };\n    EntityStore.prototype.merge = function (older, newer) {\n        var _this = this;\n        var dataId;\n        if (isReference(older))\n            older = older.__ref;\n        if (isReference(newer))\n            newer = newer.__ref;\n        var existing = typeof older === \"string\"\n            ? this.lookup(dataId = older)\n            : older;\n        var incoming = typeof newer === \"string\"\n            ? this.lookup(dataId = newer)\n            : newer;\n        if (!incoming)\n            return;\n        __DEV__ ? invariant(typeof dataId === \"string\", \"store.merge expects a string ID\") : invariant(typeof dataId === \"string\", 1);\n        var merged = new DeepMerger(storeObjectReconciler).merge(existing, incoming);\n        this.data[dataId] = merged;\n        if (merged !== existing) {\n            delete this.refs[dataId];\n            if (this.group.caching) {\n                var fieldsToDirty_1 = Object.create(null);\n                if (!existing)\n                    fieldsToDirty_1.__exists = 1;\n                Object.keys(incoming).forEach(function (storeFieldName) {\n                    if (!existing || existing[storeFieldName] !== merged[storeFieldName]) {\n                        fieldsToDirty_1[storeFieldName] = 1;\n                        var fieldName = fieldNameFromStoreName(storeFieldName);\n                        if (fieldName !== storeFieldName &&\n                            !_this.policies.hasKeyArgs(merged.__typename, fieldName)) {\n                            fieldsToDirty_1[fieldName] = 1;\n                        }\n                        if (merged[storeFieldName] === void 0 && !(_this instanceof Layer)) {\n                            delete merged[storeFieldName];\n                        }\n                    }\n                });\n                if (fieldsToDirty_1.__typename &&\n                    !(existing && existing.__typename) &&\n                    this.policies.rootTypenamesById[dataId] === merged.__typename) {\n                    delete fieldsToDirty_1.__typename;\n                }\n                Object.keys(fieldsToDirty_1).forEach(function (fieldName) { return _this.group.dirty(dataId, fieldName); });\n            }\n        }\n    };\n    EntityStore.prototype.modify = function (dataId, fields) {\n        var _this = this;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var changedFields_1 = Object.create(null);\n            var needToMerge_1 = false;\n            var allDeleted_1 = true;\n            var sharedDetails_1 = {\n                DELETE: DELETE,\n                INVALIDATE: INVALIDATE,\n                isReference: isReference,\n                toReference: this.toReference,\n                canRead: this.canRead,\n                readField: function (fieldNameOrOptions, from) { return _this.policies.readField(typeof fieldNameOrOptions === \"string\" ? {\n                    fieldName: fieldNameOrOptions,\n                    from: from || makeReference(dataId),\n                } : fieldNameOrOptions, { store: _this }); },\n            };\n            Object.keys(storeObject).forEach(function (storeFieldName) {\n                var fieldName = fieldNameFromStoreName(storeFieldName);\n                var fieldValue = storeObject[storeFieldName];\n                if (fieldValue === void 0)\n                    return;\n                var modify = typeof fields === \"function\"\n                    ? fields\n                    : fields[storeFieldName] || fields[fieldName];\n                if (modify) {\n                    var newValue = modify === delModifier ? DELETE :\n                        modify(maybeDeepFreeze(fieldValue), __assign(__assign({}, sharedDetails_1), { fieldName: fieldName, storeFieldName: storeFieldName, storage: _this.getStorage(dataId, storeFieldName) }));\n                    if (newValue === INVALIDATE) {\n                        _this.group.dirty(dataId, storeFieldName);\n                    }\n                    else {\n                        if (newValue === DELETE)\n                            newValue = void 0;\n                        if (newValue !== fieldValue) {\n                            changedFields_1[storeFieldName] = newValue;\n                            needToMerge_1 = true;\n                            fieldValue = newValue;\n                        }\n                    }\n                }\n                if (fieldValue !== void 0) {\n                    allDeleted_1 = false;\n                }\n            });\n            if (needToMerge_1) {\n                this.merge(dataId, changedFields_1);\n                if (allDeleted_1) {\n                    if (this instanceof Layer) {\n                        this.data[dataId] = void 0;\n                    }\n                    else {\n                        delete this.data[dataId];\n                    }\n                    this.group.dirty(dataId, \"__exists\");\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    EntityStore.prototype.delete = function (dataId, fieldName, args) {\n        var _a;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var typename = this.getFieldValue(storeObject, \"__typename\");\n            var storeFieldName = fieldName && args\n                ? this.policies.getStoreFieldName({ typename: typename, fieldName: fieldName, args: args })\n                : fieldName;\n            return this.modify(dataId, storeFieldName ? (_a = {},\n                _a[storeFieldName] = delModifier,\n                _a) : delModifier);\n        }\n        return false;\n    };\n    EntityStore.prototype.evict = function (options, limit) {\n        var evicted = false;\n        if (options.id) {\n            if (hasOwn.call(this.data, options.id)) {\n                evicted = this.delete(options.id, options.fieldName, options.args);\n            }\n            if (this instanceof Layer && this !== limit) {\n                evicted = this.parent.evict(options, limit) || evicted;\n            }\n            if (options.fieldName || evicted) {\n                this.group.dirty(options.id, options.fieldName || \"__exists\");\n            }\n        }\n        return evicted;\n    };\n    EntityStore.prototype.clear = function () {\n        this.replace(null);\n    };\n    EntityStore.prototype.extract = function () {\n        var _this = this;\n        var obj = this.toObject();\n        var extraRootIds = [];\n        this.getRootIdSet().forEach(function (id) {\n            if (!hasOwn.call(_this.policies.rootTypenamesById, id)) {\n                extraRootIds.push(id);\n            }\n        });\n        if (extraRootIds.length) {\n            obj.__META = { extraRootIds: extraRootIds.sort() };\n        }\n        return obj;\n    };\n    EntityStore.prototype.replace = function (newData) {\n        var _this = this;\n        Object.keys(this.data).forEach(function (dataId) {\n            if (!(newData && hasOwn.call(newData, dataId))) {\n                _this.delete(dataId);\n            }\n        });\n        if (newData) {\n            var __META = newData.__META, rest_1 = __rest(newData, [\"__META\"]);\n            Object.keys(rest_1).forEach(function (dataId) {\n                _this.merge(dataId, rest_1[dataId]);\n            });\n            if (__META) {\n                __META.extraRootIds.forEach(this.retain, this);\n            }\n        }\n    };\n    EntityStore.prototype.retain = function (rootId) {\n        return this.rootIds[rootId] = (this.rootIds[rootId] || 0) + 1;\n    };\n    EntityStore.prototype.release = function (rootId) {\n        if (this.rootIds[rootId] > 0) {\n            var count = --this.rootIds[rootId];\n            if (!count)\n                delete this.rootIds[rootId];\n            return count;\n        }\n        return 0;\n    };\n    EntityStore.prototype.getRootIdSet = function (ids) {\n        if (ids === void 0) { ids = new Set(); }\n        Object.keys(this.rootIds).forEach(ids.add, ids);\n        if (this instanceof Layer) {\n            this.parent.getRootIdSet(ids);\n        }\n        else {\n            Object.keys(this.policies.rootTypenamesById).forEach(ids.add, ids);\n        }\n        return ids;\n    };\n    EntityStore.prototype.gc = function () {\n        var _this = this;\n        var ids = this.getRootIdSet();\n        var snapshot = this.toObject();\n        ids.forEach(function (id) {\n            if (hasOwn.call(snapshot, id)) {\n                Object.keys(_this.findChildRefIds(id)).forEach(ids.add, ids);\n                delete snapshot[id];\n            }\n        });\n        var idsToRemove = Object.keys(snapshot);\n        if (idsToRemove.length) {\n            var root_1 = this;\n            while (root_1 instanceof Layer)\n                root_1 = root_1.parent;\n            idsToRemove.forEach(function (id) { return root_1.delete(id); });\n        }\n        return idsToRemove;\n    };\n    EntityStore.prototype.findChildRefIds = function (dataId) {\n        if (!hasOwn.call(this.refs, dataId)) {\n            var found_1 = this.refs[dataId] = Object.create(null);\n            var root = this.data[dataId];\n            if (!root)\n                return found_1;\n            var workSet_1 = new Set([root]);\n            workSet_1.forEach(function (obj) {\n                if (isReference(obj)) {\n                    found_1[obj.__ref] = true;\n                }\n                if (isNonNullObject(obj)) {\n                    Object.keys(obj).forEach(function (key) {\n                        var child = obj[key];\n                        if (isNonNullObject(child)) {\n                            workSet_1.add(child);\n                        }\n                    });\n                }\n            });\n        }\n        return this.refs[dataId];\n    };\n    EntityStore.prototype.makeCacheKey = function () {\n        return this.group.keyMaker.lookupArray(arguments);\n    };\n    return EntityStore;\n}());\nexport { EntityStore };\nvar CacheGroup = (function () {\n    function CacheGroup(caching, parent) {\n        if (parent === void 0) { parent = null; }\n        this.caching = caching;\n        this.parent = parent;\n        this.d = null;\n        this.resetCaching();\n    }\n    CacheGroup.prototype.resetCaching = function () {\n        this.d = this.caching ? dep() : null;\n        this.keyMaker = new Trie(canUseWeakMap);\n    };\n    CacheGroup.prototype.depend = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d(makeDepKey(dataId, storeFieldName));\n            var fieldName = fieldNameFromStoreName(storeFieldName);\n            if (fieldName !== storeFieldName) {\n                this.d(makeDepKey(dataId, fieldName));\n            }\n            if (this.parent) {\n                this.parent.depend(dataId, storeFieldName);\n            }\n        }\n    };\n    CacheGroup.prototype.dirty = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d.dirty(makeDepKey(dataId, storeFieldName), storeFieldName === \"__exists\" ? \"forget\" : \"setDirty\");\n        }\n    };\n    return CacheGroup;\n}());\nfunction makeDepKey(dataId, storeFieldName) {\n    return storeFieldName + '#' + dataId;\n}\nexport function maybeDependOnExistenceOfEntity(store, entityId) {\n    if (supportsResultCaching(store)) {\n        store.group.depend(entityId, \"__exists\");\n    }\n}\n(function (EntityStore) {\n    var Root = (function (_super) {\n        __extends(Root, _super);\n        function Root(_a) {\n            var policies = _a.policies, _b = _a.resultCaching, resultCaching = _b === void 0 ? true : _b, seed = _a.seed;\n            var _this = _super.call(this, policies, new CacheGroup(resultCaching)) || this;\n            _this.stump = new Stump(_this);\n            _this.storageTrie = new Trie(canUseWeakMap);\n            if (seed)\n                _this.replace(seed);\n            return _this;\n        }\n        Root.prototype.addLayer = function (layerId, replay) {\n            return this.stump.addLayer(layerId, replay);\n        };\n        Root.prototype.removeLayer = function () {\n            return this;\n        };\n        Root.prototype.getStorage = function () {\n            return this.storageTrie.lookupArray(arguments);\n        };\n        return Root;\n    }(EntityStore));\n    EntityStore.Root = Root;\n})(EntityStore || (EntityStore = {}));\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, parent, replay, group) {\n        var _this = _super.call(this, parent.policies, group) || this;\n        _this.id = id;\n        _this.parent = parent;\n        _this.replay = replay;\n        _this.group = group;\n        replay(_this);\n        return _this;\n    }\n    Layer.prototype.addLayer = function (layerId, replay) {\n        return new Layer(layerId, this, replay, this.group);\n    };\n    Layer.prototype.removeLayer = function (layerId) {\n        var _this = this;\n        var parent = this.parent.removeLayer(layerId);\n        if (layerId === this.id) {\n            if (this.group.caching) {\n                Object.keys(this.data).forEach(function (dataId) {\n                    var ownStoreObject = _this.data[dataId];\n                    var parentStoreObject = parent[\"lookup\"](dataId);\n                    if (!parentStoreObject) {\n                        _this.delete(dataId);\n                    }\n                    else if (!ownStoreObject) {\n                        _this.group.dirty(dataId, \"__exists\");\n                        Object.keys(parentStoreObject).forEach(function (storeFieldName) {\n                            _this.group.dirty(dataId, storeFieldName);\n                        });\n                    }\n                    else if (ownStoreObject !== parentStoreObject) {\n                        Object.keys(ownStoreObject).forEach(function (storeFieldName) {\n                            if (!equal(ownStoreObject[storeFieldName], parentStoreObject[storeFieldName])) {\n                                _this.group.dirty(dataId, storeFieldName);\n                            }\n                        });\n                    }\n                });\n            }\n            return parent;\n        }\n        if (parent === this.parent)\n            return this;\n        return parent.addLayer(this.id, this.replay);\n    };\n    Layer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    Layer.prototype.findChildRefIds = function (dataId) {\n        var fromParent = this.parent.findChildRefIds(dataId);\n        return hasOwn.call(this.data, dataId) ? __assign(__assign({}, fromParent), _super.prototype.findChildRefIds.call(this, dataId)) : fromParent;\n    };\n    Layer.prototype.getStorage = function () {\n        var p = this.parent;\n        while (p.parent)\n            p = p.parent;\n        return p.getStorage.apply(p, arguments);\n    };\n    return Layer;\n}(EntityStore));\nvar Stump = (function (_super) {\n    __extends(Stump, _super);\n    function Stump(root) {\n        return _super.call(this, \"EntityStore.Stump\", root, function () { }, new CacheGroup(root.group.caching, root.group)) || this;\n    }\n    Stump.prototype.removeLayer = function () {\n        return this;\n    };\n    Stump.prototype.merge = function () {\n        return this.parent.merge.apply(this.parent, arguments);\n    };\n    return Stump;\n}(Layer));\nfunction storeObjectReconciler(existingObject, incomingObject, property) {\n    var existingValue = existingObject[property];\n    var incomingValue = incomingObject[property];\n    return equal(existingValue, incomingValue) ? existingValue : incomingValue;\n}\nexport function supportsResultCaching(store) {\n    return !!(store instanceof EntityStore && store.group.caching);\n}\n//# sourceMappingURL=entityStore.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { Kind, } from 'graphql';\nimport { wrap } from 'optimism';\nimport { isField, resultKeyNameFromField, isReference, makeReference, shouldInclude, addTypenameToDocument, getDefaultValues, getMainDefinition, getQueryDefinition, getFragmentFromSelection, maybeDeepFreeze, mergeDeepArray, DeepMerger, isNonNullObject, canUseWeakMap, compact, } from \"../../utilities/index.js\";\nimport { maybeDependOnExistenceOfEntity, supportsResultCaching } from \"./entityStore.js\";\nimport { isArray, extractFragmentContext, getTypenameFromStoreObject, shouldCanonizeResults } from \"./helpers.js\";\nimport { MissingFieldError } from \"../core/types/common.js\";\nimport { canonicalStringify, ObjectCanon } from \"./object-canon.js\";\n;\nfunction execSelectionSetKeyArgs(options) {\n    return [\n        options.selectionSet,\n        options.objectOrReference,\n        options.context,\n        options.context.canonizeResults,\n    ];\n}\nvar StoreReader = (function () {\n    function StoreReader(config) {\n        var _this = this;\n        this.knownResults = new (canUseWeakMap ? WeakMap : Map)();\n        this.config = compact(config, {\n            addTypename: config.addTypename !== false,\n            canonizeResults: shouldCanonizeResults(config),\n        });\n        this.canon = config.canon || new ObjectCanon;\n        this.executeSelectionSet = wrap(function (options) {\n            var _a;\n            var canonizeResults = options.context.canonizeResults;\n            var peekArgs = execSelectionSetKeyArgs(options);\n            peekArgs[3] = !canonizeResults;\n            var other = (_a = _this.executeSelectionSet).peek.apply(_a, peekArgs);\n            if (other) {\n                if (canonizeResults) {\n                    return __assign(__assign({}, other), { result: _this.canon.admit(other.result) });\n                }\n                return other;\n            }\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSelectionSetImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            keyArgs: execSelectionSetKeyArgs,\n            makeCacheKey: function (selectionSet, parent, context, canonizeResults) {\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(selectionSet, isReference(parent) ? parent.__ref : parent, context.varString, canonizeResults);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSubSelectedArrayImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, context = _a.context;\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(field, array, context.varString);\n                }\n            }\n        });\n    }\n    StoreReader.prototype.resetCanon = function () {\n        this.canon = new ObjectCanon;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, _b = _a.rootId, rootId = _b === void 0 ? 'ROOT_QUERY' : _b, variables = _a.variables, _c = _a.returnPartialData, returnPartialData = _c === void 0 ? true : _c, _d = _a.canonizeResults, canonizeResults = _d === void 0 ? this.config.canonizeResults : _d;\n        var policies = this.config.cache.policies;\n        variables = __assign(__assign({}, getDefaultValues(getQueryDefinition(query))), variables);\n        var rootRef = makeReference(rootId);\n        var execResult = this.executeSelectionSet({\n            selectionSet: getMainDefinition(query).selectionSet,\n            objectOrReference: rootRef,\n            enclosingRef: rootRef,\n            context: __assign({ store: store, query: query, policies: policies, variables: variables, varString: canonicalStringify(variables), canonizeResults: canonizeResults }, extractFragmentContext(query, this.config.fragments)),\n        });\n        var missing;\n        if (execResult.missing) {\n            missing = [new MissingFieldError(firstMissing(execResult.missing), execResult.missing, query, variables)];\n            if (!returnPartialData) {\n                throw missing[0];\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !missing,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.isFresh = function (result, parent, selectionSet, context) {\n        if (supportsResultCaching(context.store) &&\n            this.knownResults.get(result) === selectionSet) {\n            var latest = this.executeSelectionSet.peek(selectionSet, parent, context, this.canon.isKnown(result));\n            if (latest && result === latest.result) {\n                return true;\n            }\n        }\n        return false;\n    };\n    StoreReader.prototype.execSelectionSetImpl = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, objectOrReference = _a.objectOrReference, enclosingRef = _a.enclosingRef, context = _a.context;\n        if (isReference(objectOrReference) &&\n            !context.policies.rootTypenamesById[objectOrReference.__ref] &&\n            !context.store.has(objectOrReference.__ref)) {\n            return {\n                result: this.canon.empty,\n                missing: \"Dangling reference to missing \".concat(objectOrReference.__ref, \" object\"),\n            };\n        }\n        var variables = context.variables, policies = context.policies, store = context.store;\n        var typename = store.getFieldValue(objectOrReference, \"__typename\");\n        var objectsToMerge = [];\n        var missing;\n        var missingMerger = new DeepMerger();\n        if (this.config.addTypename &&\n            typeof typename === \"string\" &&\n            !policies.rootIdsByTypename[typename]) {\n            objectsToMerge.push({ __typename: typename });\n        }\n        function handleMissing(result, resultName) {\n            var _a;\n            if (result.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[resultName] = result.missing, _a));\n            }\n            return result.result;\n        }\n        var workSet = new Set(selectionSet.selections);\n        workSet.forEach(function (selection) {\n            var _a, _b;\n            if (!shouldInclude(selection, variables))\n                return;\n            if (isField(selection)) {\n                var fieldValue = policies.readField({\n                    fieldName: selection.name.value,\n                    field: selection,\n                    variables: context.variables,\n                    from: objectOrReference,\n                }, context);\n                var resultName = resultKeyNameFromField(selection);\n                if (fieldValue === void 0) {\n                    if (!addTypenameToDocument.added(selection)) {\n                        missing = missingMerger.merge(missing, (_a = {},\n                            _a[resultName] = \"Can't find field '\".concat(selection.name.value, \"' on \").concat(isReference(objectOrReference)\n                                ? objectOrReference.__ref + \" object\"\n                                : \"object \" + JSON.stringify(objectOrReference, null, 2)),\n                            _a));\n                    }\n                }\n                else if (isArray(fieldValue)) {\n                    fieldValue = handleMissing(_this.executeSubSelectedArray({\n                        field: selection,\n                        array: fieldValue,\n                        enclosingRef: enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                else if (!selection.selectionSet) {\n                    if (context.canonizeResults) {\n                        fieldValue = _this.canon.pass(fieldValue);\n                    }\n                }\n                else if (fieldValue != null) {\n                    fieldValue = handleMissing(_this.executeSelectionSet({\n                        selectionSet: selection.selectionSet,\n                        objectOrReference: fieldValue,\n                        enclosingRef: isReference(fieldValue) ? fieldValue : enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                if (fieldValue !== void 0) {\n                    objectsToMerge.push((_b = {}, _b[resultName] = fieldValue, _b));\n                }\n            }\n            else {\n                var fragment = getFragmentFromSelection(selection, context.lookupFragment);\n                if (!fragment && selection.kind === Kind.FRAGMENT_SPREAD) {\n                    throw __DEV__ ? new InvariantError(\"No fragment named \".concat(selection.name.value)) : new InvariantError(5);\n                }\n                if (fragment && policies.fragmentMatches(fragment, typename)) {\n                    fragment.selectionSet.selections.forEach(workSet.add, workSet);\n                }\n            }\n        });\n        var result = mergeDeepArray(objectsToMerge);\n        var finalResult = { result: result, missing: missing };\n        var frozen = context.canonizeResults\n            ? this.canon.admit(finalResult)\n            : maybeDeepFreeze(finalResult);\n        if (frozen.result) {\n            this.knownResults.set(frozen.result, selectionSet);\n        }\n        return frozen;\n    };\n    StoreReader.prototype.execSubSelectedArrayImpl = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, enclosingRef = _a.enclosingRef, context = _a.context;\n        var missing;\n        var missingMerger = new DeepMerger();\n        function handleMissing(childResult, i) {\n            var _a;\n            if (childResult.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[i] = childResult.missing, _a));\n            }\n            return childResult.result;\n        }\n        if (field.selectionSet) {\n            array = array.filter(context.store.canRead);\n        }\n        array = array.map(function (item, i) {\n            if (item === null) {\n                return null;\n            }\n            if (isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    enclosingRef: enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    objectOrReference: item,\n                    enclosingRef: isReference(item) ? item : enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (__DEV__) {\n                assertSelectionSetForIdValue(context.store, field, item);\n            }\n            return item;\n        });\n        return {\n            result: context.canonizeResults ? this.canon.admit(array) : array,\n            missing: missing,\n        };\n    };\n    return StoreReader;\n}());\nexport { StoreReader };\nfunction firstMissing(tree) {\n    try {\n        JSON.stringify(tree, function (_, value) {\n            if (typeof value === \"string\")\n                throw value;\n            return value;\n        });\n    }\n    catch (result) {\n        return result;\n    }\n}\nfunction assertSelectionSetForIdValue(store, field, fieldValue) {\n    if (!field.selectionSet) {\n        var workSet_1 = new Set([fieldValue]);\n        workSet_1.forEach(function (value) {\n            if (isNonNullObject(value)) {\n                __DEV__ ? invariant(!isReference(value), \"Missing selection set for object of type \".concat(getTypenameFromStoreObject(store, value), \" returned for query field \").concat(field.name.value)) : invariant(!isReference(value), 6);\n                Object.values(value).forEach(workSet_1.add, workSet_1);\n            }\n        });\n    }\n}\n//# sourceMappingURL=readFromStore.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport { argumentsObjectFromField, DeepMerger, isNonEmptyArray, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, isArray } from \"./helpers.js\";\nvar specifierInfoCache = Object.create(null);\nfunction lookupSpecifierInfo(spec) {\n    var cacheKey = JSON.stringify(spec);\n    return specifierInfoCache[cacheKey] ||\n        (specifierInfoCache[cacheKey] = Object.create(null));\n}\nexport function keyFieldsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyFieldsFn || (info.keyFieldsFn = function (object, context) {\n        var extract = function (from, key) { return context.readField(key, from); };\n        var keyObject = context.keyObject = collectSpecifierPaths(specifier, function (schemaKeyPath) {\n            var extracted = extractKeyPath(context.storeObject, schemaKeyPath, extract);\n            if (extracted === void 0 &&\n                object !== context.storeObject &&\n                hasOwn.call(object, schemaKeyPath[0])) {\n                extracted = extractKeyPath(object, schemaKeyPath, extractKey);\n            }\n            __DEV__ ? invariant(extracted !== void 0, \"Missing field '\".concat(schemaKeyPath.join('.'), \"' while extracting keyFields from \").concat(JSON.stringify(object))) : invariant(extracted !== void 0, 2);\n            return extracted;\n        });\n        return \"\".concat(context.typename, \":\").concat(JSON.stringify(keyObject));\n    });\n}\nexport function keyArgsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyArgsFn || (info.keyArgsFn = function (args, _a) {\n        var field = _a.field, variables = _a.variables, fieldName = _a.fieldName;\n        var collected = collectSpecifierPaths(specifier, function (keyPath) {\n            var firstKey = keyPath[0];\n            var firstChar = firstKey.charAt(0);\n            if (firstChar === \"@\") {\n                if (field && isNonEmptyArray(field.directives)) {\n                    var directiveName_1 = firstKey.slice(1);\n                    var d = field.directives.find(function (d) { return d.name.value === directiveName_1; });\n                    var directiveArgs = d && argumentsObjectFromField(d, variables);\n                    return directiveArgs && extractKeyPath(directiveArgs, keyPath.slice(1));\n                }\n                return;\n            }\n            if (firstChar === \"$\") {\n                var variableName = firstKey.slice(1);\n                if (variables && hasOwn.call(variables, variableName)) {\n                    var varKeyPath = keyPath.slice(0);\n                    varKeyPath[0] = variableName;\n                    return extractKeyPath(variables, varKeyPath);\n                }\n                return;\n            }\n            if (args) {\n                return extractKeyPath(args, keyPath);\n            }\n        });\n        var suffix = JSON.stringify(collected);\n        if (args || suffix !== \"{}\") {\n            fieldName += \":\" + suffix;\n        }\n        return fieldName;\n    });\n}\nexport function collectSpecifierPaths(specifier, extractor) {\n    var merger = new DeepMerger;\n    return getSpecifierPaths(specifier).reduce(function (collected, path) {\n        var _a;\n        var toMerge = extractor(path);\n        if (toMerge !== void 0) {\n            for (var i = path.length - 1; i >= 0; --i) {\n                toMerge = (_a = {}, _a[path[i]] = toMerge, _a);\n            }\n            collected = merger.merge(collected, toMerge);\n        }\n        return collected;\n    }, Object.create(null));\n}\nexport function getSpecifierPaths(spec) {\n    var info = lookupSpecifierInfo(spec);\n    if (!info.paths) {\n        var paths_1 = info.paths = [];\n        var currentPath_1 = [];\n        spec.forEach(function (s, i) {\n            if (isArray(s)) {\n                getSpecifierPaths(s).forEach(function (p) { return paths_1.push(currentPath_1.concat(p)); });\n                currentPath_1.length = 0;\n            }\n            else {\n                currentPath_1.push(s);\n                if (!isArray(spec[i + 1])) {\n                    paths_1.push(currentPath_1.slice(0));\n                    currentPath_1.length = 0;\n                }\n            }\n        });\n    }\n    return info.paths;\n}\nfunction extractKey(object, key) {\n    return object[key];\n}\nexport function extractKeyPath(object, path, extract) {\n    extract = extract || extractKey;\n    return normalize(path.reduce(function reducer(obj, key) {\n        return isArray(obj)\n            ? obj.map(function (child) { return reducer(child, key); })\n            : obj && extract(obj, key);\n    }, object));\n}\nfunction normalize(value) {\n    if (isNonNullObject(value)) {\n        if (isArray(value)) {\n            return value.map(normalize);\n        }\n        return collectSpecifierPaths(Object.keys(value).sort(), function (path) { return extractKeyPath(value, path); });\n    }\n    return value;\n}\n//# sourceMappingURL=key-extractor.js.map","import { __assign, __rest } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { storeKeyNameFromField, argumentsObjectFromField, isReference, getStoreKeyName, isNonNullObject, stringifyForDisplay, } from \"../../utilities/index.js\";\nimport { hasOwn, fieldNameFromStoreName, storeValueIsStoreObject, selectionSetMatchesResult, TypeOrFieldNameRegExp, defaultDataIdFromObject, isArray, } from \"./helpers.js\";\nimport { cacheSlot } from \"./reactiveVars.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nimport { keyArgsFnFromSpecifier, keyFieldsFnFromSpecifier } from \"./key-extractor.js\";\ngetStoreKeyName.setStringify(canonicalStringify);\nfunction argsFromFieldSpecifier(spec) {\n    return spec.args !== void 0 ? spec.args :\n        spec.field ? argumentsObjectFromField(spec.field, spec.variables) : null;\n}\nvar nullKeyFieldsFn = function () { return void 0; };\nvar simpleKeyArgsFn = function (_args, context) { return context.fieldName; };\nvar mergeTrueFn = function (existing, incoming, _a) {\n    var mergeObjects = _a.mergeObjects;\n    return mergeObjects(existing, incoming);\n};\nvar mergeFalseFn = function (_, incoming) { return incoming; };\nvar Policies = (function () {\n    function Policies(config) {\n        this.config = config;\n        this.typePolicies = Object.create(null);\n        this.toBeAdded = Object.create(null);\n        this.supertypeMap = new Map();\n        this.fuzzySubtypes = new Map();\n        this.rootIdsByTypename = Object.create(null);\n        this.rootTypenamesById = Object.create(null);\n        this.usingPossibleTypes = false;\n        this.config = __assign({ dataIdFromObject: defaultDataIdFromObject }, config);\n        this.cache = this.config.cache;\n        this.setRootTypename(\"Query\");\n        this.setRootTypename(\"Mutation\");\n        this.setRootTypename(\"Subscription\");\n        if (config.possibleTypes) {\n            this.addPossibleTypes(config.possibleTypes);\n        }\n        if (config.typePolicies) {\n            this.addTypePolicies(config.typePolicies);\n        }\n    }\n    Policies.prototype.identify = function (object, partialContext) {\n        var _a;\n        var policies = this;\n        var typename = partialContext && (partialContext.typename ||\n            ((_a = partialContext.storeObject) === null || _a === void 0 ? void 0 : _a.__typename)) || object.__typename;\n        if (typename === this.rootTypenamesById.ROOT_QUERY) {\n            return [\"ROOT_QUERY\"];\n        }\n        var storeObject = partialContext && partialContext.storeObject || object;\n        var context = __assign(__assign({}, partialContext), { typename: typename, storeObject: storeObject, readField: partialContext && partialContext.readField || function () {\n                var options = normalizeReadFieldOptions(arguments, storeObject);\n                return policies.readField(options, {\n                    store: policies.cache[\"data\"],\n                    variables: options.variables,\n                });\n            } });\n        var id;\n        var policy = typename && this.getTypePolicy(typename);\n        var keyFn = policy && policy.keyFn || this.config.dataIdFromObject;\n        while (keyFn) {\n            var specifierOrId = keyFn(__assign(__assign({}, object), storeObject), context);\n            if (isArray(specifierOrId)) {\n                keyFn = keyFieldsFnFromSpecifier(specifierOrId);\n            }\n            else {\n                id = specifierOrId;\n                break;\n            }\n        }\n        id = id ? String(id) : void 0;\n        return context.keyObject ? [id, context.keyObject] : [id];\n    };\n    Policies.prototype.addTypePolicies = function (typePolicies) {\n        var _this = this;\n        Object.keys(typePolicies).forEach(function (typename) {\n            var _a = typePolicies[typename], queryType = _a.queryType, mutationType = _a.mutationType, subscriptionType = _a.subscriptionType, incoming = __rest(_a, [\"queryType\", \"mutationType\", \"subscriptionType\"]);\n            if (queryType)\n                _this.setRootTypename(\"Query\", typename);\n            if (mutationType)\n                _this.setRootTypename(\"Mutation\", typename);\n            if (subscriptionType)\n                _this.setRootTypename(\"Subscription\", typename);\n            if (hasOwn.call(_this.toBeAdded, typename)) {\n                _this.toBeAdded[typename].push(incoming);\n            }\n            else {\n                _this.toBeAdded[typename] = [incoming];\n            }\n        });\n    };\n    Policies.prototype.updateTypePolicy = function (typename, incoming) {\n        var _this = this;\n        var existing = this.getTypePolicy(typename);\n        var keyFields = incoming.keyFields, fields = incoming.fields;\n        function setMerge(existing, merge) {\n            existing.merge =\n                typeof merge === \"function\" ? merge :\n                    merge === true ? mergeTrueFn :\n                        merge === false ? mergeFalseFn :\n                            existing.merge;\n        }\n        setMerge(existing, incoming.merge);\n        existing.keyFn =\n            keyFields === false ? nullKeyFieldsFn :\n                isArray(keyFields) ? keyFieldsFnFromSpecifier(keyFields) :\n                    typeof keyFields === \"function\" ? keyFields :\n                        existing.keyFn;\n        if (fields) {\n            Object.keys(fields).forEach(function (fieldName) {\n                var existing = _this.getFieldPolicy(typename, fieldName, true);\n                var incoming = fields[fieldName];\n                if (typeof incoming === \"function\") {\n                    existing.read = incoming;\n                }\n                else {\n                    var keyArgs = incoming.keyArgs, read = incoming.read, merge = incoming.merge;\n                    existing.keyFn =\n                        keyArgs === false ? simpleKeyArgsFn :\n                            isArray(keyArgs) ? keyArgsFnFromSpecifier(keyArgs) :\n                                typeof keyArgs === \"function\" ? keyArgs :\n                                    existing.keyFn;\n                    if (typeof read === \"function\") {\n                        existing.read = read;\n                    }\n                    setMerge(existing, merge);\n                }\n                if (existing.read && existing.merge) {\n                    existing.keyFn = existing.keyFn || simpleKeyArgsFn;\n                }\n            });\n        }\n    };\n    Policies.prototype.setRootTypename = function (which, typename) {\n        if (typename === void 0) { typename = which; }\n        var rootId = \"ROOT_\" + which.toUpperCase();\n        var old = this.rootTypenamesById[rootId];\n        if (typename !== old) {\n            __DEV__ ? invariant(!old || old === which, \"Cannot change root \".concat(which, \" __typename more than once\")) : invariant(!old || old === which, 3);\n            if (old)\n                delete this.rootIdsByTypename[old];\n            this.rootIdsByTypename[typename] = rootId;\n            this.rootTypenamesById[rootId] = typename;\n        }\n    };\n    Policies.prototype.addPossibleTypes = function (possibleTypes) {\n        var _this = this;\n        this.usingPossibleTypes = true;\n        Object.keys(possibleTypes).forEach(function (supertype) {\n            _this.getSupertypeSet(supertype, true);\n            possibleTypes[supertype].forEach(function (subtype) {\n                _this.getSupertypeSet(subtype, true).add(supertype);\n                var match = subtype.match(TypeOrFieldNameRegExp);\n                if (!match || match[0] !== subtype) {\n                    _this.fuzzySubtypes.set(subtype, new RegExp(subtype));\n                }\n            });\n        });\n    };\n    Policies.prototype.getTypePolicy = function (typename) {\n        var _this = this;\n        if (!hasOwn.call(this.typePolicies, typename)) {\n            var policy_1 = this.typePolicies[typename] = Object.create(null);\n            policy_1.fields = Object.create(null);\n            var supertypes = this.supertypeMap.get(typename);\n            if (supertypes && supertypes.size) {\n                supertypes.forEach(function (supertype) {\n                    var _a = _this.getTypePolicy(supertype), fields = _a.fields, rest = __rest(_a, [\"fields\"]);\n                    Object.assign(policy_1, rest);\n                    Object.assign(policy_1.fields, fields);\n                });\n            }\n        }\n        var inbox = this.toBeAdded[typename];\n        if (inbox && inbox.length) {\n            inbox.splice(0).forEach(function (policy) {\n                _this.updateTypePolicy(typename, policy);\n            });\n        }\n        return this.typePolicies[typename];\n    };\n    Policies.prototype.getFieldPolicy = function (typename, fieldName, createIfMissing) {\n        if (typename) {\n            var fieldPolicies = this.getTypePolicy(typename).fields;\n            return fieldPolicies[fieldName] || (createIfMissing && (fieldPolicies[fieldName] = Object.create(null)));\n        }\n    };\n    Policies.prototype.getSupertypeSet = function (subtype, createIfMissing) {\n        var supertypeSet = this.supertypeMap.get(subtype);\n        if (!supertypeSet && createIfMissing) {\n            this.supertypeMap.set(subtype, supertypeSet = new Set());\n        }\n        return supertypeSet;\n    };\n    Policies.prototype.fragmentMatches = function (fragment, typename, result, variables) {\n        var _this = this;\n        if (!fragment.typeCondition)\n            return true;\n        if (!typename)\n            return false;\n        var supertype = fragment.typeCondition.name.value;\n        if (typename === supertype)\n            return true;\n        if (this.usingPossibleTypes &&\n            this.supertypeMap.has(supertype)) {\n            var typenameSupertypeSet = this.getSupertypeSet(typename, true);\n            var workQueue_1 = [typenameSupertypeSet];\n            var maybeEnqueue_1 = function (subtype) {\n                var supertypeSet = _this.getSupertypeSet(subtype, false);\n                if (supertypeSet &&\n                    supertypeSet.size &&\n                    workQueue_1.indexOf(supertypeSet) < 0) {\n                    workQueue_1.push(supertypeSet);\n                }\n            };\n            var needToCheckFuzzySubtypes = !!(result && this.fuzzySubtypes.size);\n            var checkingFuzzySubtypes = false;\n            for (var i = 0; i < workQueue_1.length; ++i) {\n                var supertypeSet = workQueue_1[i];\n                if (supertypeSet.has(supertype)) {\n                    if (!typenameSupertypeSet.has(supertype)) {\n                        if (checkingFuzzySubtypes) {\n                            __DEV__ && invariant.warn(\"Inferring subtype \".concat(typename, \" of supertype \").concat(supertype));\n                        }\n                        typenameSupertypeSet.add(supertype);\n                    }\n                    return true;\n                }\n                supertypeSet.forEach(maybeEnqueue_1);\n                if (needToCheckFuzzySubtypes &&\n                    i === workQueue_1.length - 1 &&\n                    selectionSetMatchesResult(fragment.selectionSet, result, variables)) {\n                    needToCheckFuzzySubtypes = false;\n                    checkingFuzzySubtypes = true;\n                    this.fuzzySubtypes.forEach(function (regExp, fuzzyString) {\n                        var match = typename.match(regExp);\n                        if (match && match[0] === typename) {\n                            maybeEnqueue_1(fuzzyString);\n                        }\n                    });\n                }\n            }\n        }\n        return false;\n    };\n    Policies.prototype.hasKeyArgs = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return !!(policy && policy.keyFn);\n    };\n    Policies.prototype.getStoreFieldName = function (fieldSpec) {\n        var typename = fieldSpec.typename, fieldName = fieldSpec.fieldName;\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        var storeFieldName;\n        var keyFn = policy && policy.keyFn;\n        if (keyFn && typename) {\n            var context = {\n                typename: typename,\n                fieldName: fieldName,\n                field: fieldSpec.field || null,\n                variables: fieldSpec.variables,\n            };\n            var args = argsFromFieldSpecifier(fieldSpec);\n            while (keyFn) {\n                var specifierOrString = keyFn(args, context);\n                if (isArray(specifierOrString)) {\n                    keyFn = keyArgsFnFromSpecifier(specifierOrString);\n                }\n                else {\n                    storeFieldName = specifierOrString || fieldName;\n                    break;\n                }\n            }\n        }\n        if (storeFieldName === void 0) {\n            storeFieldName = fieldSpec.field\n                ? storeKeyNameFromField(fieldSpec.field, fieldSpec.variables)\n                : getStoreKeyName(fieldName, argsFromFieldSpecifier(fieldSpec));\n        }\n        if (storeFieldName === false) {\n            return fieldName;\n        }\n        return fieldName === fieldNameFromStoreName(storeFieldName)\n            ? storeFieldName\n            : fieldName + \":\" + storeFieldName;\n    };\n    Policies.prototype.readField = function (options, context) {\n        var objectOrReference = options.from;\n        if (!objectOrReference)\n            return;\n        var nameOrField = options.field || options.fieldName;\n        if (!nameOrField)\n            return;\n        if (options.typename === void 0) {\n            var typename = context.store.getFieldValue(objectOrReference, \"__typename\");\n            if (typename)\n                options.typename = typename;\n        }\n        var storeFieldName = this.getStoreFieldName(options);\n        var fieldName = fieldNameFromStoreName(storeFieldName);\n        var existing = context.store.getFieldValue(objectOrReference, storeFieldName);\n        var policy = this.getFieldPolicy(options.typename, fieldName, false);\n        var read = policy && policy.read;\n        if (read) {\n            var readOptions = makeFieldFunctionOptions(this, objectOrReference, options, context, context.store.getStorage(isReference(objectOrReference)\n                ? objectOrReference.__ref\n                : objectOrReference, storeFieldName));\n            return cacheSlot.withValue(this.cache, read, [existing, readOptions]);\n        }\n        return existing;\n    };\n    Policies.prototype.getReadFunction = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return policy && policy.read;\n    };\n    Policies.prototype.getMergeFunction = function (parentTypename, fieldName, childTypename) {\n        var policy = this.getFieldPolicy(parentTypename, fieldName, false);\n        var merge = policy && policy.merge;\n        if (!merge && childTypename) {\n            policy = this.getTypePolicy(childTypename);\n            merge = policy && policy.merge;\n        }\n        return merge;\n    };\n    Policies.prototype.runMergeFunction = function (existing, incoming, _a, context, storage) {\n        var field = _a.field, typename = _a.typename, merge = _a.merge;\n        if (merge === mergeTrueFn) {\n            return makeMergeObjectsFunction(context.store)(existing, incoming);\n        }\n        if (merge === mergeFalseFn) {\n            return incoming;\n        }\n        if (context.overwrite) {\n            existing = void 0;\n        }\n        return merge(existing, incoming, makeFieldFunctionOptions(this, void 0, { typename: typename, fieldName: field.name.value, field: field, variables: context.variables }, context, storage || Object.create(null)));\n    };\n    return Policies;\n}());\nexport { Policies };\nfunction makeFieldFunctionOptions(policies, objectOrReference, fieldSpec, context, storage) {\n    var storeFieldName = policies.getStoreFieldName(fieldSpec);\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var variables = fieldSpec.variables || context.variables;\n    var _a = context.store, toReference = _a.toReference, canRead = _a.canRead;\n    return {\n        args: argsFromFieldSpecifier(fieldSpec),\n        field: fieldSpec.field || null,\n        fieldName: fieldName,\n        storeFieldName: storeFieldName,\n        variables: variables,\n        isReference: isReference,\n        toReference: toReference,\n        storage: storage,\n        cache: policies.cache,\n        canRead: canRead,\n        readField: function () {\n            return policies.readField(normalizeReadFieldOptions(arguments, objectOrReference, variables), context);\n        },\n        mergeObjects: makeMergeObjectsFunction(context.store),\n    };\n}\nexport function normalizeReadFieldOptions(readFieldArgs, objectOrReference, variables) {\n    var fieldNameOrOptions = readFieldArgs[0], from = readFieldArgs[1], argc = readFieldArgs.length;\n    var options;\n    if (typeof fieldNameOrOptions === \"string\") {\n        options = {\n            fieldName: fieldNameOrOptions,\n            from: argc > 1 ? from : objectOrReference,\n        };\n    }\n    else {\n        options = __assign({}, fieldNameOrOptions);\n        if (!hasOwn.call(options, \"from\")) {\n            options.from = objectOrReference;\n        }\n    }\n    if (__DEV__ && options.from === void 0) {\n        __DEV__ && invariant.warn(\"Undefined 'from' passed to readField with arguments \".concat(stringifyForDisplay(Array.from(readFieldArgs))));\n    }\n    if (void 0 === options.variables) {\n        options.variables = variables;\n    }\n    return options;\n}\nfunction makeMergeObjectsFunction(store) {\n    return function mergeObjects(existing, incoming) {\n        if (isArray(existing) || isArray(incoming)) {\n            throw __DEV__ ? new InvariantError(\"Cannot automatically merge arrays\") : new InvariantError(4);\n        }\n        if (isNonNullObject(existing) &&\n            isNonNullObject(incoming)) {\n            var eType = store.getFieldValue(existing, \"__typename\");\n            var iType = store.getFieldValue(incoming, \"__typename\");\n            var typesDiffer = eType && iType && eType !== iType;\n            if (typesDiffer) {\n                return incoming;\n            }\n            if (isReference(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                store.merge(existing.__ref, incoming);\n                return existing;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                isReference(incoming)) {\n                store.merge(existing, incoming.__ref);\n                return incoming;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                return __assign(__assign({}, existing), incoming);\n            }\n        }\n        return incoming;\n    };\n}\n//# sourceMappingURL=policies.js.map","import { makeUniqueId } from \"./makeUniqueId.js\";\nexport function stringifyForDisplay(value) {\n    var undefId = makeUniqueId(\"stringifyForDisplay\");\n    return JSON.stringify(value, function (key, value) {\n        return value === void 0 ? undefId : value;\n    }).split(JSON.stringify(undefId)).join(\"<undefined>\");\n}\n//# sourceMappingURL=stringifyForDisplay.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { Kind, } from 'graphql';\nimport { getFragmentFromSelection, getDefaultValues, getOperationDefinition, getTypenameFromResult, makeReference, isField, resultKeyNameFromField, isReference, shouldInclude, cloneDeep, addTypenameToDocument, isNonEmptyArray, argumentsObjectFromField, } from \"../../utilities/index.js\";\nimport { isArray, makeProcessedFieldsMerger, fieldNameFromStoreName, storeValueIsStoreObject, extractFragmentContext } from \"./helpers.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nimport { normalizeReadFieldOptions } from \"./policies.js\";\n;\nfunction getContextFlavor(context, clientOnly, deferred) {\n    var key = \"\".concat(clientOnly).concat(deferred);\n    var flavored = context.flavors.get(key);\n    if (!flavored) {\n        context.flavors.set(key, flavored = (context.clientOnly === clientOnly &&\n            context.deferred === deferred) ? context : __assign(__assign({}, context), { clientOnly: clientOnly, deferred: deferred }));\n    }\n    return flavored;\n}\nvar StoreWriter = (function () {\n    function StoreWriter(cache, reader, fragments) {\n        this.cache = cache;\n        this.reader = reader;\n        this.fragments = fragments;\n    }\n    StoreWriter.prototype.writeToStore = function (store, _a) {\n        var _this = this;\n        var query = _a.query, result = _a.result, dataId = _a.dataId, variables = _a.variables, overwrite = _a.overwrite;\n        var operationDefinition = getOperationDefinition(query);\n        var merger = makeProcessedFieldsMerger();\n        variables = __assign(__assign({}, getDefaultValues(operationDefinition)), variables);\n        var context = __assign(__assign({ store: store, written: Object.create(null), merge: function (existing, incoming) {\n                return merger.merge(existing, incoming);\n            }, variables: variables, varString: canonicalStringify(variables) }, extractFragmentContext(query, this.fragments)), { overwrite: !!overwrite, incomingById: new Map, clientOnly: false, deferred: false, flavors: new Map });\n        var ref = this.processSelectionSet({\n            result: result || Object.create(null),\n            dataId: dataId,\n            selectionSet: operationDefinition.selectionSet,\n            mergeTree: { map: new Map },\n            context: context,\n        });\n        if (!isReference(ref)) {\n            throw __DEV__ ? new InvariantError(\"Could not identify object \".concat(JSON.stringify(result))) : new InvariantError(7);\n        }\n        context.incomingById.forEach(function (_a, dataId) {\n            var storeObject = _a.storeObject, mergeTree = _a.mergeTree, fieldNodeSet = _a.fieldNodeSet;\n            var entityRef = makeReference(dataId);\n            if (mergeTree && mergeTree.map.size) {\n                var applied = _this.applyMerges(mergeTree, entityRef, storeObject, context);\n                if (isReference(applied)) {\n                    return;\n                }\n                storeObject = applied;\n            }\n            if (__DEV__ && !context.overwrite) {\n                var fieldsWithSelectionSets_1 = Object.create(null);\n                fieldNodeSet.forEach(function (field) {\n                    if (field.selectionSet) {\n                        fieldsWithSelectionSets_1[field.name.value] = true;\n                    }\n                });\n                var hasSelectionSet_1 = function (storeFieldName) {\n                    return fieldsWithSelectionSets_1[fieldNameFromStoreName(storeFieldName)] === true;\n                };\n                var hasMergeFunction_1 = function (storeFieldName) {\n                    var childTree = mergeTree && mergeTree.map.get(storeFieldName);\n                    return Boolean(childTree && childTree.info && childTree.info.merge);\n                };\n                Object.keys(storeObject).forEach(function (storeFieldName) {\n                    if (hasSelectionSet_1(storeFieldName) &&\n                        !hasMergeFunction_1(storeFieldName)) {\n                        warnAboutDataLoss(entityRef, storeObject, storeFieldName, context.store);\n                    }\n                });\n            }\n            store.merge(dataId, storeObject);\n        });\n        store.retain(ref.__ref);\n        return ref;\n    };\n    StoreWriter.prototype.processSelectionSet = function (_a) {\n        var _this = this;\n        var dataId = _a.dataId, result = _a.result, selectionSet = _a.selectionSet, context = _a.context, mergeTree = _a.mergeTree;\n        var policies = this.cache.policies;\n        var incoming = Object.create(null);\n        var typename = (dataId && policies.rootTypenamesById[dataId]) ||\n            getTypenameFromResult(result, selectionSet, context.fragmentMap) ||\n            (dataId && context.store.get(dataId, \"__typename\"));\n        if (\"string\" === typeof typename) {\n            incoming.__typename = typename;\n        }\n        var readField = function () {\n            var options = normalizeReadFieldOptions(arguments, incoming, context.variables);\n            if (isReference(options.from)) {\n                var info = context.incomingById.get(options.from.__ref);\n                if (info) {\n                    var result_1 = policies.readField(__assign(__assign({}, options), { from: info.storeObject }), context);\n                    if (result_1 !== void 0) {\n                        return result_1;\n                    }\n                }\n            }\n            return policies.readField(options, context);\n        };\n        var fieldNodeSet = new Set();\n        this.flattenFields(selectionSet, result, context, typename).forEach(function (context, field) {\n            var _a;\n            var resultFieldKey = resultKeyNameFromField(field);\n            var value = result[resultFieldKey];\n            fieldNodeSet.add(field);\n            if (value !== void 0) {\n                var storeFieldName = policies.getStoreFieldName({\n                    typename: typename,\n                    fieldName: field.name.value,\n                    field: field,\n                    variables: context.variables,\n                });\n                var childTree = getChildMergeTree(mergeTree, storeFieldName);\n                var incomingValue = _this.processFieldValue(value, field, field.selectionSet\n                    ? getContextFlavor(context, false, false)\n                    : context, childTree);\n                var childTypename = void 0;\n                if (field.selectionSet &&\n                    (isReference(incomingValue) ||\n                        storeValueIsStoreObject(incomingValue))) {\n                    childTypename = readField(\"__typename\", incomingValue);\n                }\n                var merge = policies.getMergeFunction(typename, field.name.value, childTypename);\n                if (merge) {\n                    childTree.info = {\n                        field: field,\n                        typename: typename,\n                        merge: merge,\n                    };\n                }\n                else {\n                    maybeRecycleChildMergeTree(mergeTree, storeFieldName);\n                }\n                incoming = context.merge(incoming, (_a = {},\n                    _a[storeFieldName] = incomingValue,\n                    _a));\n            }\n            else if (__DEV__ &&\n                !context.clientOnly &&\n                !context.deferred &&\n                !addTypenameToDocument.added(field) &&\n                !policies.getReadFunction(typename, field.name.value)) {\n                __DEV__ && invariant.error(\"Missing field '\".concat(resultKeyNameFromField(field), \"' while writing result \").concat(JSON.stringify(result, null, 2)).substring(0, 1000));\n            }\n        });\n        try {\n            var _b = policies.identify(result, {\n                typename: typename,\n                selectionSet: selectionSet,\n                fragmentMap: context.fragmentMap,\n                storeObject: incoming,\n                readField: readField,\n            }), id = _b[0], keyObject = _b[1];\n            dataId = dataId || id;\n            if (keyObject) {\n                incoming = context.merge(incoming, keyObject);\n            }\n        }\n        catch (e) {\n            if (!dataId)\n                throw e;\n        }\n        if (\"string\" === typeof dataId) {\n            var dataRef = makeReference(dataId);\n            var sets = context.written[dataId] || (context.written[dataId] = []);\n            if (sets.indexOf(selectionSet) >= 0)\n                return dataRef;\n            sets.push(selectionSet);\n            if (this.reader && this.reader.isFresh(result, dataRef, selectionSet, context)) {\n                return dataRef;\n            }\n            var previous_1 = context.incomingById.get(dataId);\n            if (previous_1) {\n                previous_1.storeObject = context.merge(previous_1.storeObject, incoming);\n                previous_1.mergeTree = mergeMergeTrees(previous_1.mergeTree, mergeTree);\n                fieldNodeSet.forEach(function (field) { return previous_1.fieldNodeSet.add(field); });\n            }\n            else {\n                context.incomingById.set(dataId, {\n                    storeObject: incoming,\n                    mergeTree: mergeTreeIsEmpty(mergeTree) ? void 0 : mergeTree,\n                    fieldNodeSet: fieldNodeSet,\n                });\n            }\n            return dataRef;\n        }\n        return incoming;\n    };\n    StoreWriter.prototype.processFieldValue = function (value, field, context, mergeTree) {\n        var _this = this;\n        if (!field.selectionSet || value === null) {\n            return __DEV__ ? cloneDeep(value) : value;\n        }\n        if (isArray(value)) {\n            return value.map(function (item, i) {\n                var value = _this.processFieldValue(item, field, context, getChildMergeTree(mergeTree, i));\n                maybeRecycleChildMergeTree(mergeTree, i);\n                return value;\n            });\n        }\n        return this.processSelectionSet({\n            result: value,\n            selectionSet: field.selectionSet,\n            context: context,\n            mergeTree: mergeTree,\n        });\n    };\n    StoreWriter.prototype.flattenFields = function (selectionSet, result, context, typename) {\n        if (typename === void 0) { typename = getTypenameFromResult(result, selectionSet, context.fragmentMap); }\n        var fieldMap = new Map();\n        var policies = this.cache.policies;\n        var limitingTrie = new Trie(false);\n        (function flatten(selectionSet, inheritedContext) {\n            var visitedNode = limitingTrie.lookup(selectionSet, inheritedContext.clientOnly, inheritedContext.deferred);\n            if (visitedNode.visited)\n                return;\n            visitedNode.visited = true;\n            selectionSet.selections.forEach(function (selection) {\n                if (!shouldInclude(selection, context.variables))\n                    return;\n                var clientOnly = inheritedContext.clientOnly, deferred = inheritedContext.deferred;\n                if (!(clientOnly && deferred) &&\n                    isNonEmptyArray(selection.directives)) {\n                    selection.directives.forEach(function (dir) {\n                        var name = dir.name.value;\n                        if (name === \"client\")\n                            clientOnly = true;\n                        if (name === \"defer\") {\n                            var args = argumentsObjectFromField(dir, context.variables);\n                            if (!args || args.if !== false) {\n                                deferred = true;\n                            }\n                        }\n                    });\n                }\n                if (isField(selection)) {\n                    var existing = fieldMap.get(selection);\n                    if (existing) {\n                        clientOnly = clientOnly && existing.clientOnly;\n                        deferred = deferred && existing.deferred;\n                    }\n                    fieldMap.set(selection, getContextFlavor(context, clientOnly, deferred));\n                }\n                else {\n                    var fragment = getFragmentFromSelection(selection, context.lookupFragment);\n                    if (!fragment && selection.kind === Kind.FRAGMENT_SPREAD) {\n                        throw __DEV__ ? new InvariantError(\"No fragment named \".concat(selection.name.value)) : new InvariantError(8);\n                    }\n                    if (fragment &&\n                        policies.fragmentMatches(fragment, typename, result, context.variables)) {\n                        flatten(fragment.selectionSet, getContextFlavor(context, clientOnly, deferred));\n                    }\n                }\n            });\n        })(selectionSet, context);\n        return fieldMap;\n    };\n    StoreWriter.prototype.applyMerges = function (mergeTree, existing, incoming, context, getStorageArgs) {\n        var _a;\n        var _this = this;\n        if (mergeTree.map.size && !isReference(incoming)) {\n            var e_1 = (!isArray(incoming) &&\n                (isReference(existing) || storeValueIsStoreObject(existing))) ? existing : void 0;\n            var i_1 = incoming;\n            if (e_1 && !getStorageArgs) {\n                getStorageArgs = [isReference(e_1) ? e_1.__ref : e_1];\n            }\n            var changedFields_1;\n            var getValue_1 = function (from, name) {\n                return isArray(from)\n                    ? (typeof name === \"number\" ? from[name] : void 0)\n                    : context.store.getFieldValue(from, String(name));\n            };\n            mergeTree.map.forEach(function (childTree, storeFieldName) {\n                var eVal = getValue_1(e_1, storeFieldName);\n                var iVal = getValue_1(i_1, storeFieldName);\n                if (void 0 === iVal)\n                    return;\n                if (getStorageArgs) {\n                    getStorageArgs.push(storeFieldName);\n                }\n                var aVal = _this.applyMerges(childTree, eVal, iVal, context, getStorageArgs);\n                if (aVal !== iVal) {\n                    changedFields_1 = changedFields_1 || new Map;\n                    changedFields_1.set(storeFieldName, aVal);\n                }\n                if (getStorageArgs) {\n                    invariant(getStorageArgs.pop() === storeFieldName);\n                }\n            });\n            if (changedFields_1) {\n                incoming = (isArray(i_1) ? i_1.slice(0) : __assign({}, i_1));\n                changedFields_1.forEach(function (value, name) {\n                    incoming[name] = value;\n                });\n            }\n        }\n        if (mergeTree.info) {\n            return this.cache.policies.runMergeFunction(existing, incoming, mergeTree.info, context, getStorageArgs && (_a = context.store).getStorage.apply(_a, getStorageArgs));\n        }\n        return incoming;\n    };\n    return StoreWriter;\n}());\nexport { StoreWriter };\nvar emptyMergeTreePool = [];\nfunction getChildMergeTree(_a, name) {\n    var map = _a.map;\n    if (!map.has(name)) {\n        map.set(name, emptyMergeTreePool.pop() || { map: new Map });\n    }\n    return map.get(name);\n}\nfunction mergeMergeTrees(left, right) {\n    if (left === right || !right || mergeTreeIsEmpty(right))\n        return left;\n    if (!left || mergeTreeIsEmpty(left))\n        return right;\n    var info = left.info && right.info ? __assign(__assign({}, left.info), right.info) : left.info || right.info;\n    var needToMergeMaps = left.map.size && right.map.size;\n    var map = needToMergeMaps ? new Map :\n        left.map.size ? left.map : right.map;\n    var merged = { info: info, map: map };\n    if (needToMergeMaps) {\n        var remainingRightKeys_1 = new Set(right.map.keys());\n        left.map.forEach(function (leftTree, key) {\n            merged.map.set(key, mergeMergeTrees(leftTree, right.map.get(key)));\n            remainingRightKeys_1.delete(key);\n        });\n        remainingRightKeys_1.forEach(function (key) {\n            merged.map.set(key, mergeMergeTrees(right.map.get(key), left.map.get(key)));\n        });\n    }\n    return merged;\n}\nfunction mergeTreeIsEmpty(tree) {\n    return !tree || !(tree.info || tree.map.size);\n}\nfunction maybeRecycleChildMergeTree(_a, name) {\n    var map = _a.map;\n    var childTree = map.get(name);\n    if (childTree && mergeTreeIsEmpty(childTree)) {\n        emptyMergeTreePool.push(childTree);\n        map.delete(name);\n    }\n}\nvar warnings = new Set();\nfunction warnAboutDataLoss(existingRef, incomingObj, storeFieldName, store) {\n    var getChild = function (objOrRef) {\n        var child = store.getFieldValue(objOrRef, storeFieldName);\n        return typeof child === \"object\" && child;\n    };\n    var existing = getChild(existingRef);\n    if (!existing)\n        return;\n    var incoming = getChild(incomingObj);\n    if (!incoming)\n        return;\n    if (isReference(existing))\n        return;\n    if (equal(existing, incoming))\n        return;\n    if (Object.keys(existing).every(function (key) { return store.getFieldValue(incoming, key) !== void 0; })) {\n        return;\n    }\n    var parentType = store.getFieldValue(existingRef, \"__typename\") ||\n        store.getFieldValue(incomingObj, \"__typename\");\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var typeDotName = \"\".concat(parentType, \".\").concat(fieldName);\n    if (warnings.has(typeDotName))\n        return;\n    warnings.add(typeDotName);\n    var childTypenames = [];\n    if (!isArray(existing) &&\n        !isArray(incoming)) {\n        [existing, incoming].forEach(function (child) {\n            var typename = store.getFieldValue(child, \"__typename\");\n            if (typeof typename === \"string\" &&\n                !childTypenames.includes(typename)) {\n                childTypenames.push(typename);\n            }\n        });\n    }\n    __DEV__ && invariant.warn(\"Cache data may be lost when replacing the \".concat(fieldName, \" field of a \").concat(parentType, \" object.\\n\\nThis could cause additional (usually avoidable) network requests to fetch data that were otherwise cached.\\n\\nTo address this problem (which is not a bug in Apollo Client), \").concat(childTypenames.length\n        ? \"either ensure all objects of type \" +\n            childTypenames.join(\" and \") + \" have an ID or a custom merge function, or \"\n        : \"\", \"define a custom merge function for the \").concat(typeDotName, \" field, so InMemoryCache can safely merge these objects:\\n\\n  existing: \").concat(JSON.stringify(existing).slice(0, 1000), \"\\n  incoming: \").concat(JSON.stringify(incoming).slice(0, 1000), \"\\n\\nFor more information about these options, please refer to the documentation:\\n\\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\\n\"));\n}\n//# sourceMappingURL=writeToStore.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport \"./fixPolyfills.js\";\nimport { wrap } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { ApolloCache } from \"../core/cache.js\";\nimport { MissingFieldError } from \"../core/types/common.js\";\nimport { addTypenameToDocument, isReference, } from \"../../utilities/index.js\";\nimport { StoreReader } from \"./readFromStore.js\";\nimport { StoreWriter } from \"./writeToStore.js\";\nimport { EntityStore, supportsResultCaching } from \"./entityStore.js\";\nimport { makeVar, forgetCache, recallCache } from \"./reactiveVars.js\";\nimport { Policies } from \"./policies.js\";\nimport { hasOwn, normalizeConfig, shouldCanonizeResults } from \"./helpers.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.makeVar = makeVar;\n        _this.txCount = 0;\n        _this.config = normalizeConfig(config);\n        _this.addTypename = !!_this.config.addTypename;\n        _this.policies = new Policies({\n            cache: _this,\n            dataIdFromObject: _this.config.dataIdFromObject,\n            possibleTypes: _this.config.possibleTypes,\n            typePolicies: _this.config.typePolicies,\n        });\n        _this.init();\n        return _this;\n    }\n    InMemoryCache.prototype.init = function () {\n        var rootStore = this.data = new EntityStore.Root({\n            policies: this.policies,\n            resultCaching: this.config.resultCaching,\n        });\n        this.optimisticData = rootStore.stump;\n        this.resetResultCache();\n    };\n    InMemoryCache.prototype.resetResultCache = function (resetResultIdentities) {\n        var _this = this;\n        var previousReader = this.storeReader;\n        var fragments = this.config.fragments;\n        this.storeWriter = new StoreWriter(this, this.storeReader = new StoreReader({\n            cache: this,\n            addTypename: this.addTypename,\n            resultCacheMaxSize: this.config.resultCacheMaxSize,\n            canonizeResults: shouldCanonizeResults(this.config),\n            canon: resetResultIdentities\n                ? void 0\n                : previousReader && previousReader.canon,\n            fragments: fragments,\n        }), fragments);\n        this.maybeBroadcastWatch = wrap(function (c, options) {\n            return _this.broadcastWatch(c, options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (c) {\n                var store = c.optimistic ? _this.optimisticData : _this.data;\n                if (supportsResultCaching(store)) {\n                    var optimistic = c.optimistic, id = c.id, variables = c.variables;\n                    return store.makeCacheKey(c.query, c.callback, canonicalStringify({ optimistic: optimistic, id: id, variables: variables }));\n                }\n            }\n        });\n        new Set([\n            this.data.group,\n            this.optimisticData.group,\n        ]).forEach(function (group) { return group.resetCaching(); });\n    };\n    InMemoryCache.prototype.restore = function (data) {\n        this.init();\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).extract();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        var _a = options.returnPartialData, returnPartialData = _a === void 0 ? false : _a;\n        try {\n            return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, config: this.config, returnPartialData: returnPartialData })).result || null;\n        }\n        catch (e) {\n            if (e instanceof MissingFieldError) {\n                return null;\n            }\n            throw e;\n        }\n    };\n    InMemoryCache.prototype.write = function (options) {\n        try {\n            ++this.txCount;\n            return this.storeWriter.writeToStore(this.data, options);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.modify = function (options) {\n        if (hasOwn.call(options, \"id\") && !options.id) {\n            return false;\n        }\n        var store = options.optimistic\n            ? this.optimisticData\n            : this.data;\n        try {\n            ++this.txCount;\n            return store.modify(options.id || \"ROOT_QUERY\", options.fields);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.diff = function (options) {\n        return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, rootId: options.id || \"ROOT_QUERY\", config: this.config }));\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        if (!this.watches.size) {\n            recallCache(this);\n        }\n        this.watches.add(watch);\n        if (watch.immediate) {\n            this.maybeBroadcastWatch(watch);\n        }\n        return function () {\n            if (_this.watches.delete(watch) && !_this.watches.size) {\n                forgetCache(_this);\n            }\n            _this.maybeBroadcastWatch.forget(watch);\n        };\n    };\n    InMemoryCache.prototype.gc = function (options) {\n        canonicalStringify.reset();\n        var ids = this.optimisticData.gc();\n        if (options && !this.txCount) {\n            if (options.resetResultCache) {\n                this.resetResultCache(options.resetResultIdentities);\n            }\n            else if (options.resetResultIdentities) {\n                this.storeReader.resetCanon();\n            }\n        }\n        return ids;\n    };\n    InMemoryCache.prototype.retain = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).retain(rootId);\n    };\n    InMemoryCache.prototype.release = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).release(rootId);\n    };\n    InMemoryCache.prototype.identify = function (object) {\n        if (isReference(object))\n            return object.__ref;\n        try {\n            return this.policies.identify(object)[0];\n        }\n        catch (e) {\n            __DEV__ && invariant.warn(e);\n        }\n    };\n    InMemoryCache.prototype.evict = function (options) {\n        if (!options.id) {\n            if (hasOwn.call(options, \"id\")) {\n                return false;\n            }\n            options = __assign(__assign({}, options), { id: \"ROOT_QUERY\" });\n        }\n        try {\n            ++this.txCount;\n            return this.optimisticData.evict(options, this.data);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.reset = function (options) {\n        var _this = this;\n        this.init();\n        canonicalStringify.reset();\n        if (options && options.discardWatches) {\n            this.watches.forEach(function (watch) { return _this.maybeBroadcastWatch.forget(watch); });\n            this.watches.clear();\n            forgetCache(this);\n        }\n        else {\n            this.broadcastWatches();\n        }\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var newOptimisticData = this.optimisticData.removeLayer(idToRemove);\n        if (newOptimisticData !== this.optimisticData) {\n            this.optimisticData = newOptimisticData;\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.batch = function (options) {\n        var _this = this;\n        var update = options.update, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, removeOptimistic = options.removeOptimistic, onWatchUpdated = options.onWatchUpdated;\n        var updateResult;\n        var perform = function (layer) {\n            var _a = _this, data = _a.data, optimisticData = _a.optimisticData;\n            ++_this.txCount;\n            if (layer) {\n                _this.data = _this.optimisticData = layer;\n            }\n            try {\n                return updateResult = update(_this);\n            }\n            finally {\n                --_this.txCount;\n                _this.data = data;\n                _this.optimisticData = optimisticData;\n            }\n        };\n        var alreadyDirty = new Set();\n        if (onWatchUpdated && !this.txCount) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch) {\n                    alreadyDirty.add(watch);\n                    return false;\n                } }));\n        }\n        if (typeof optimistic === 'string') {\n            this.optimisticData = this.optimisticData.addLayer(optimistic, perform);\n        }\n        else if (optimistic === false) {\n            perform(this.data);\n        }\n        else {\n            perform();\n        }\n        if (typeof removeOptimistic === \"string\") {\n            this.optimisticData = this.optimisticData.removeLayer(removeOptimistic);\n        }\n        if (onWatchUpdated && alreadyDirty.size) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch, diff) {\n                    var result = onWatchUpdated.call(this, watch, diff);\n                    if (result !== false) {\n                        alreadyDirty.delete(watch);\n                    }\n                    return result;\n                } }));\n            if (alreadyDirty.size) {\n                alreadyDirty.forEach(function (watch) { return _this.maybeBroadcastWatch.dirty(watch); });\n            }\n        }\n        else {\n            this.broadcastWatches(options);\n        }\n        return updateResult;\n    };\n    InMemoryCache.prototype.performTransaction = function (update, optimisticId) {\n        return this.batch({\n            update: update,\n            optimistic: optimisticId || (optimisticId !== null),\n        });\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.transformForLink = function (document) {\n        var fragments = this.config.fragments;\n        return fragments\n            ? fragments.transform(document)\n            : document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function (options) {\n        var _this = this;\n        if (!this.txCount) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c, options); });\n        }\n    };\n    InMemoryCache.prototype.broadcastWatch = function (c, options) {\n        var lastDiff = c.lastDiff;\n        var diff = this.diff(c);\n        if (options) {\n            if (c.optimistic &&\n                typeof options.optimistic === \"string\") {\n                diff.fromOptimisticTransaction = true;\n            }\n            if (options.onWatchUpdated &&\n                options.onWatchUpdated.call(this, c, diff, lastDiff) === false) {\n                return;\n            }\n        }\n        if (!lastDiff || !equal(lastDiff.result, diff.result)) {\n            c.callback(c.lastDiff = diff, lastDiff);\n        }\n    };\n    return InMemoryCache;\n}(ApolloCache));\nexport { InMemoryCache };\n//# sourceMappingURL=inMemoryCache.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var empty = ApolloLink.empty;\n//# sourceMappingURL=empty.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var from = ApolloLink.from;\n//# sourceMappingURL=from.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var split = ApolloLink.split;\n//# sourceMappingURL=split.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var concat = ApolloLink.concat;\n//# sourceMappingURL=concat.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nexport function toPromise(observable) {\n    var completed = false;\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            next: function (data) {\n                if (completed) {\n                    __DEV__ && invariant.warn(\"Promise Wrapper does not support multiple results from Observable\");\n                }\n                else {\n                    completed = true;\n                    resolve(data);\n                }\n            },\n            error: reject,\n        });\n    });\n}\n//# sourceMappingURL=toPromise.js.map","import { Observable } from \"../../utilities/index.js\";\nexport function fromPromise(promise) {\n    return new Observable(function (observer) {\n        promise\n            .then(function (value) {\n            observer.next(value);\n            observer.complete();\n        })\n            .catch(observer.error.bind(observer));\n    });\n}\n//# sourceMappingURL=fromPromise.js.map","import { DEV } from \"../utilities/globals/index.js\";\nexport { ApolloClient, mergeOptions, } from \"./ApolloClient.js\";\nexport { ObservableQuery, } from \"./ObservableQuery.js\";\nexport { NetworkStatus } from \"./networkStatus.js\";\nexport * from \"./types.js\";\nexport { isApolloError, ApolloError } from \"../errors/index.js\";\nexport { Cache, ApolloCache, InMemoryCache, MissingFieldError, defaultDataIdFromObject, makeVar, } from \"../cache/index.js\";\nexport * from \"../cache/inmemory/types.js\";\nexport * from \"../link/core/index.js\";\nexport * from \"../link/http/index.js\";\nexport { fromError, toPromise, fromPromise, throwServerError, } from \"../link/utils/index.js\";\nexport { Observable, isReference, makeReference, } from \"../utilities/index.js\";\nimport { setVerbosity } from \"ts-invariant\";\nexport { setVerbosity as setLogVerbosity };\nsetVerbosity(DEV ? \"log\" : \"silent\");\nexport { gql, resetCaches, disableFragmentWarnings, enableExperimentalFragmentVariables, disableExperimentalFragmentVariables, } from 'graphql-tag';\n//# sourceMappingURL=index.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloProvider = function (_a) {\n    var client = _a.client, children = _a.children;\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        if (context === void 0) { context = {}; }\n        if (client && context.client !== client) {\n            context = Object.assign({}, context, { client: client });\n        }\n        __DEV__ ? invariant(context.client, 'ApolloProvider was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.') : invariant(context.client, 29);\n        return (React.createElement(ApolloContext.Provider, { value: context }, children));\n    }));\n};\n//# sourceMappingURL=ApolloProvider.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloConsumer = function (props) {\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        __DEV__ ? invariant(context && context.client, 'Could not find \"client\" in the context of ApolloConsumer. ' +\n            'Wrap the root component in an <ApolloProvider>.') : invariant(context && context.client, 28);\n        return props.children(context.client);\n    }));\n};\n//# sourceMappingURL=ApolloConsumer.js.map","import { __assign } from \"tslib\";\nimport { useCallback, useMemo, useRef } from 'react';\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { useInternalState } from \"./useQuery.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nvar EAGER_METHODS = [\n    'refetch',\n    'reobserve',\n    'fetchMore',\n    'updateQuery',\n    'startPolling',\n    'subscribeToMore',\n];\nexport function useLazyQuery(query, options) {\n    var _a;\n    var execOptionsRef = useRef();\n    var optionsRef = useRef();\n    var queryRef = useRef();\n    var merged = execOptionsRef.current ? mergeOptions(options, execOptionsRef.current) : options;\n    var document = (_a = merged === null || merged === void 0 ? void 0 : merged.query) !== null && _a !== void 0 ? _a : query;\n    optionsRef.current = merged;\n    queryRef.current = document;\n    var internalState = useInternalState(useApolloClient(options && options.client), document);\n    var useQueryResult = internalState.useQuery(__assign(__assign({}, merged), { skip: !execOptionsRef.current }));\n    var initialFetchPolicy = useQueryResult.observable.options.initialFetchPolicy ||\n        internalState.getDefaultFetchPolicy();\n    var result = Object.assign(useQueryResult, {\n        called: !!execOptionsRef.current,\n    });\n    var eagerMethods = useMemo(function () {\n        var eagerMethods = {};\n        var _loop_1 = function (key) {\n            var method = result[key];\n            eagerMethods[key] = function () {\n                if (!execOptionsRef.current) {\n                    execOptionsRef.current = Object.create(null);\n                    internalState.forceUpdate();\n                }\n                return method.apply(this, arguments);\n            };\n        };\n        for (var _i = 0, EAGER_METHODS_1 = EAGER_METHODS; _i < EAGER_METHODS_1.length; _i++) {\n            var key = EAGER_METHODS_1[_i];\n            _loop_1(key);\n        }\n        return eagerMethods;\n    }, []);\n    Object.assign(result, eagerMethods);\n    var execute = useCallback(function (executeOptions) {\n        execOptionsRef.current = executeOptions ? __assign(__assign({}, executeOptions), { fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy }) : {\n            fetchPolicy: initialFetchPolicy,\n        };\n        var options = mergeOptions(optionsRef.current, __assign({ query: queryRef.current }, execOptionsRef.current));\n        var promise = internalState\n            .executeQuery(__assign(__assign({}, options), { skip: false }))\n            .then(function (queryResult) { return Object.assign(queryResult, eagerMethods); });\n        promise.catch(function () { });\n        return promise;\n    }, []);\n    return [execute, result];\n}\n//# sourceMappingURL=useLazyQuery.js.map","import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { mergeOptions, } from \"../../core/index.js\";\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useMutation(mutation, options) {\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(mutation, DocumentType.Mutation);\n    var _a = useState({\n        called: false,\n        loading: false,\n        client: client,\n    }), result = _a[0], setResult = _a[1];\n    var ref = useRef({\n        result: result,\n        mutationId: 0,\n        isMounted: true,\n        client: client,\n        mutation: mutation,\n        options: options,\n    });\n    {\n        Object.assign(ref.current, { client: client, options: options, mutation: mutation });\n    }\n    var execute = useCallback(function (executeOptions) {\n        if (executeOptions === void 0) { executeOptions = {}; }\n        var _a = ref.current, options = _a.options, mutation = _a.mutation;\n        var baseOptions = __assign(__assign({}, options), { mutation: mutation });\n        var client = executeOptions.client || ref.current.client;\n        if (!ref.current.result.loading && !baseOptions.ignoreResults && ref.current.isMounted) {\n            setResult(ref.current.result = {\n                loading: true,\n                error: void 0,\n                data: void 0,\n                called: true,\n                client: client,\n            });\n        }\n        var mutationId = ++ref.current.mutationId;\n        var clientOptions = mergeOptions(baseOptions, executeOptions);\n        return client.mutate(clientOptions).then(function (response) {\n            var _a;\n            var data = response.data, errors = response.errors;\n            var error = errors && errors.length > 0\n                ? new ApolloError({ graphQLErrors: errors })\n                : void 0;\n            if (mutationId === ref.current.mutationId &&\n                !clientOptions.ignoreResults) {\n                var result_1 = {\n                    called: true,\n                    loading: false,\n                    data: data,\n                    error: error,\n                    client: client,\n                };\n                if (ref.current.isMounted && !equal(ref.current.result, result_1)) {\n                    setResult(ref.current.result = result_1);\n                }\n            }\n            var onCompleted = executeOptions.onCompleted || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onCompleted);\n            onCompleted === null || onCompleted === void 0 ? void 0 : onCompleted(response.data, clientOptions);\n            return response;\n        }).catch(function (error) {\n            var _a;\n            if (mutationId === ref.current.mutationId &&\n                ref.current.isMounted) {\n                var result_2 = {\n                    loading: false,\n                    error: error,\n                    data: void 0,\n                    called: true,\n                    client: client,\n                };\n                if (!equal(ref.current.result, result_2)) {\n                    setResult(ref.current.result = result_2);\n                }\n            }\n            var onError = executeOptions.onError || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError);\n            if (onError) {\n                onError(error, clientOptions);\n                return { data: void 0, errors: error };\n            }\n            throw error;\n        });\n    }, []);\n    var reset = useCallback(function () {\n        if (ref.current.isMounted) {\n            setResult({ called: false, loading: false, client: client });\n        }\n    }, []);\n    useEffect(function () {\n        ref.current.isMounted = true;\n        return function () {\n            ref.current.isMounted = false;\n        };\n    }, []);\n    return [execute, __assign({ reset: reset }, result)];\n}\n//# sourceMappingURL=useMutation.js.map","import \"../../utilities/globals/index.js\";\nimport { useState, useRef, useEffect } from 'react';\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useSubscription(subscription, options) {\n    var hasIssuedDeprecationWarningRef = useRef(false);\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(subscription, DocumentType.Subscription);\n    var _a = useState({\n        loading: !(options === null || options === void 0 ? void 0 : options.skip),\n        error: void 0,\n        data: void 0,\n        variables: options === null || options === void 0 ? void 0 : options.variables,\n    }), result = _a[0], setResult = _a[1];\n    if (!hasIssuedDeprecationWarningRef.current) {\n        hasIssuedDeprecationWarningRef.current = true;\n        if (options === null || options === void 0 ? void 0 : options.onSubscriptionData) {\n            __DEV__ && invariant.warn(options.onData\n                ? \"'useSubscription' supports only the 'onSubscriptionData' or 'onData' option, but not both. Only the 'onData' option will be used.\"\n                : \"'onSubscriptionData' is deprecated and will be removed in a future major version. Please use the 'onData' option instead.\");\n        }\n        if (options === null || options === void 0 ? void 0 : options.onSubscriptionComplete) {\n            __DEV__ && invariant.warn(options.onComplete\n                ? \"'useSubscription' supports only the 'onSubscriptionComplete' or 'onComplete' option, but not both. Only the 'onComplete' option will be used.\"\n                : \"'onSubscriptionComplete' is deprecated and will be removed in a future major version. Please use the 'onComplete' option instead.\");\n        }\n    }\n    var _b = useState(function () {\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            return null;\n        }\n        return client.subscribe({\n            query: subscription,\n            variables: options === null || options === void 0 ? void 0 : options.variables,\n            fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n            context: options === null || options === void 0 ? void 0 : options.context,\n        });\n    }), observable = _b[0], setObservable = _b[1];\n    var canResetObservableRef = useRef(false);\n    useEffect(function () {\n        return function () {\n            canResetObservableRef.current = true;\n        };\n    }, []);\n    var ref = useRef({ client: client, subscription: subscription, options: options });\n    useEffect(function () {\n        var _a, _b, _c, _d;\n        var shouldResubscribe = options === null || options === void 0 ? void 0 : options.shouldResubscribe;\n        if (typeof shouldResubscribe === 'function') {\n            shouldResubscribe = !!shouldResubscribe(options);\n        }\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            if (!(options === null || options === void 0 ? void 0 : options.skip) !== !((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.skip) || canResetObservableRef.current) {\n                setResult({\n                    loading: false,\n                    data: void 0,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                });\n                setObservable(null);\n                canResetObservableRef.current = false;\n            }\n        }\n        else if ((shouldResubscribe !== false &&\n            (client !== ref.current.client ||\n                subscription !== ref.current.subscription ||\n                (options === null || options === void 0 ? void 0 : options.fetchPolicy) !== ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.fetchPolicy) ||\n                !(options === null || options === void 0 ? void 0 : options.skip) !== !((_c = ref.current.options) === null || _c === void 0 ? void 0 : _c.skip) ||\n                !equal(options === null || options === void 0 ? void 0 : options.variables, (_d = ref.current.options) === null || _d === void 0 ? void 0 : _d.variables))) ||\n            canResetObservableRef.current) {\n            setResult({\n                loading: true,\n                data: void 0,\n                error: void 0,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n            });\n            setObservable(client.subscribe({\n                query: subscription,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n                fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n                context: options === null || options === void 0 ? void 0 : options.context,\n            }));\n            canResetObservableRef.current = false;\n        }\n        Object.assign(ref.current, { client: client, subscription: subscription, options: options });\n    }, [client, subscription, options, canResetObservableRef.current]);\n    useEffect(function () {\n        if (!observable) {\n            return;\n        }\n        var subscriptionStopped = false;\n        var subscription = observable.subscribe({\n            next: function (fetchResult) {\n                var _a, _b;\n                if (subscriptionStopped) {\n                    return;\n                }\n                var result = {\n                    loading: false,\n                    data: fetchResult.data,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                };\n                setResult(result);\n                if ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onData) {\n                    ref.current.options.onData({\n                        client: client,\n                        data: result\n                    });\n                }\n                else if ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onSubscriptionData) {\n                    ref.current.options.onSubscriptionData({\n                        client: client,\n                        subscriptionData: result\n                    });\n                }\n            },\n            error: function (error) {\n                var _a, _b;\n                if (!subscriptionStopped) {\n                    setResult({\n                        loading: false,\n                        data: void 0,\n                        error: error,\n                        variables: options === null || options === void 0 ? void 0 : options.variables,\n                    });\n                    (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError) === null || _b === void 0 ? void 0 : _b.call(_a, error);\n                }\n                ;\n            },\n            complete: function () {\n                var _a, _b;\n                if (!subscriptionStopped) {\n                    if ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onComplete) {\n                        ref.current.options.onComplete();\n                    }\n                    else if ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onSubscriptionComplete) {\n                        ref.current.options.onSubscriptionComplete();\n                    }\n                }\n            },\n        });\n        return function () {\n            subscriptionStopped = true;\n            setTimeout(function () {\n                subscription.unsubscribe();\n            });\n        };\n    }, [observable]);\n    return result;\n}\n//# sourceMappingURL=useSubscription.js.map","import { useEffect, useState } from 'react';\nexport function useReactiveVar(rv) {\n    var value = rv();\n    var setValue = useState(value)[1];\n    useEffect(function () {\n        var probablySameValue = rv();\n        if (value !== probablySameValue) {\n            setValue(probablySameValue);\n        }\n        else {\n            return rv.onNextChange(setValue);\n        }\n    }, [value]);\n    return value;\n}\n//# sourceMappingURL=useReactiveVar.js.map","import { __assign, __rest } from \"tslib\";\nimport { useRef } from \"react\";\nimport { equal } from \"@wry/equality\";\nimport { mergeDeepArray } from \"../../utilities/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore.js\";\nexport function useFragment_experimental(options) {\n    var cache = useApolloClient().cache;\n    var fragment = options.fragment, fragmentName = options.fragmentName, from = options.from, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, rest = __rest(options, [\"fragment\", \"fragmentName\", \"from\", \"optimistic\"]);\n    var diffOptions = __assign(__assign({}, rest), { id: typeof from === \"string\" ? from : cache.identify(from), query: cache[\"getFragmentDoc\"](fragment, fragmentName), optimistic: optimistic });\n    var resultRef = useRef();\n    var latestDiff = cache.diff(diffOptions);\n    var getSnapshot = function () {\n        var latestDiffToResult = diffToResult(latestDiff);\n        return resultRef.current &&\n            equal(resultRef.current.data, latestDiffToResult.data)\n            ? resultRef.current\n            : (resultRef.current = latestDiffToResult);\n    };\n    return useSyncExternalStore(function (forceUpdate) {\n        return cache.watch(__assign(__assign({}, diffOptions), { immediate: true, callback: function (diff) {\n                if (!equal(diff, latestDiff)) {\n                    resultRef.current = diffToResult((latestDiff = diff));\n                    forceUpdate();\n                }\n            } }));\n    }, getSnapshot, getSnapshot);\n}\nfunction diffToResult(diff) {\n    var result = {\n        data: diff.result,\n        complete: !!diff.complete,\n    };\n    if (diff.missing) {\n        result.missing = mergeDeepArray(diff.missing.map(function (error) { return error.missing; }));\n    }\n    return result;\n}\n//# sourceMappingURL=useFragment.js.map","import { __rest } from \"tslib\";\nimport * as PropTypes from 'prop-types';\nimport { useQuery } from \"../hooks/index.js\";\nexport function Query(props) {\n    var children = props.children, query = props.query, options = __rest(props, [\"children\", \"query\"]);\n    var result = useQuery(query, options);\n    return result ? children(result) : null;\n}\nQuery.propTypes = {\n    client: PropTypes.object,\n    children: PropTypes.func.isRequired,\n    fetchPolicy: PropTypes.string,\n    notifyOnNetworkStatusChange: PropTypes.bool,\n    onCompleted: PropTypes.func,\n    onError: PropTypes.func,\n    pollInterval: PropTypes.number,\n    query: PropTypes.object.isRequired,\n    variables: PropTypes.object,\n    ssr: PropTypes.bool,\n    partialRefetch: PropTypes.bool,\n    returnPartialData: PropTypes.bool\n};\n//# sourceMappingURL=Query.js.map","import * as PropTypes from 'prop-types';\nimport { useMutation } from \"../hooks/index.js\";\nexport function Mutation(props) {\n    var _a = useMutation(props.mutation, props), runMutation = _a[0], result = _a[1];\n    return props.children ? props.children(runMutation, result) : null;\n}\nMutation.propTypes = {\n    mutation: PropTypes.object.isRequired,\n    variables: PropTypes.object,\n    optimisticResponse: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    refetchQueries: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])),\n        PropTypes.func\n    ]),\n    awaitRefetchQueries: PropTypes.bool,\n    update: PropTypes.func,\n    children: PropTypes.func.isRequired,\n    onCompleted: PropTypes.func,\n    onError: PropTypes.func,\n    fetchPolicy: PropTypes.string,\n};\n//# sourceMappingURL=Mutation.js.map","import * as PropTypes from 'prop-types';\nimport { useSubscription } from \"../hooks/index.js\";\nexport function Subscription(props) {\n    var result = useSubscription(props.subscription, props);\n    return props.children && result ? props.children(result) : null;\n}\nSubscription.propTypes = {\n    subscription: PropTypes.object.isRequired,\n    variables: PropTypes.object,\n    children: PropTypes.func,\n    onSubscriptionData: PropTypes.func,\n    onData: PropTypes.func,\n    onSubscriptionComplete: PropTypes.func,\n    onComplete: PropTypes.func,\n    shouldResubscribe: PropTypes.oneOfType([PropTypes.func, PropTypes.bool])\n};\n//# sourceMappingURL=Subscription.js.map"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","hasSymbols","Symbol","hasSymbol","name","Boolean","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","obj","value","TypeError","getSpecies","ctor","constructor","undefined","Observable","isObservable","x","hostReportError","e","log","setTimeout","enqueue","fn","Promise","resolve","then","cleanupSubscription","subscription","cleanup","_cleanup","unsubscribe","call","closeSubscription","_observer","_queue","_state","notifySubscription","type","observer","m","onNotify","queue","flushSubscription","push","Subscription","subscriber","this","subscriptionObserver","SubscriptionObserver","error","get","_subscription","_proto2","next","complete","_subscriber","_proto3","subscribe","arguments","forEach","_this","reject","done","map","_this2","filter","_this3","reduce","_this4","C","hasSeed","hasValue","acc","first","concat","_this5","_len","sources","_key","index","startNext","v","from","flatMap","_this6","subscriptions","outer","inner","indexOf","splice","completeIfDone","closed","s","method","_step","_iterator","o","allowArrayLike","it","iterator","bind","isArray","minLen","n","toString","slice","test","_unsupportedIterableToArray","_createForOfIteratorHelperLoose","item","of","_len2","items","_key2","symbol","getFragmentQueryDocument","document","fragmentName","actualFragmentName","fragments","definitions","definition","kind","__DEV__","operation","selectionSet","selections","createFragmentMap","symTable","fragment","getFragmentFromSelection","selection","fragmentMap","makeReference","id","__ref","String","isReference","valueToObjectRepresentation","argObj","variables","isIntValue","isFloatValue","Number","isBooleanValue","isStringValue","isObjectValue","nestedArgObj_1","fields","isVariable","variableValue","isListValue","values","listValue","nestedArgArrayObj","isEnumValue","isNullValue","KNOWN_DIRECTIVES","getStoreKeyName","assign","fieldName","args","directives","filterKeys","sort","filteredArgs_1","stringify","completeFieldName","stringifiedArgs","keys","setStringify","previous","JSON","stringifyReplacer","copy","argumentsObjectFromField","field","argObj_1","_a","resultKeyNameFromField","alias","getTypenameFromResult","result","_i","__typename","_b","fragments_1","typename","checkDocument","doc","operations","d","getOperationDefinition","getOperationName","getFragmentDefinitions","getQueryDefinition","queryDef","getMainDefinition","queryDoc","fragmentDefinition","getDefaultValues","defaultValues","create","defs","variableDefinitions","def","defaultValue","variable","passthrough","op","forward","toLink","handler","ApolloLink","isTerminating","link","request","LinkError","_super","message","Error","empty","links","y","split","left","right","leftLink","rightLink","execute","starting","context","createOperation","transformedOperation","extensions","operationName","query","transformOperation","OPERATION_FIELDS","validateOperation","second","firstLink","warn","nextLink","onError","setOnError","QueryDocumentKeys","Name","Document","OperationDefinition","VariableDefinition","Variable","SelectionSet","Field","Argument","FragmentSpread","InlineFragment","FragmentDefinition","IntValue","FloatValue","StringValue","BooleanValue","NullValue","EnumValue","ListValue","ObjectValue","ObjectField","Directive","NamedType","ListType","NonNullType","SchemaDefinition","OperationTypeDefinition","ScalarTypeDefinition","ObjectTypeDefinition","FieldDefinition","InputValueDefinition","InterfaceTypeDefinition","UnionTypeDefinition","EnumTypeDefinition","EnumValueDefinition","InputObjectTypeDefinition","DirectiveDefinition","SchemaExtension","ScalarTypeExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","BREAK","freeze","root","visitor","visitorKeys","stack","inArray","edits","node","parent","path","ancestors","newRoot","isLeaving","isEdited","pop","clone","_i2","_Object$keys2","k","editOffset","ii","editKey","editValue","prev","_visitorKeys$node$kin","inspect","visitFn","getVisitFn","kindVisitor","kindSpecificVisitor","leave","enter","specificVisitor","specificKindVisitor","shouldInclude","directive","isInclusionDirective","directiveArguments","directiveName","ifArgument","ifValue","getInclusionDirectives","every","evaledValue","hasDirectives","names","all","nameSet","Set","uniqueCount","size","delete","hasClientExports","serializeFetchParameter","p","label","serialized","parseError","selectURI","fallbackURI","getContext","uri","readerIterator","reader","read","canUse","asyncIterator","responseIterator","response","promise","resolved","body","source","getReader","isReadableStream","stream","isStreamableBlob","arrayBuffer","isBlob","catch","pipe","isNodeReadableStream","data","waiting","onData","chunk","shiftedArr","shift","err","pair","onEnd","removeListener","on","nodeStreamIterator","throwServerError","statusCode","status","hasOwnProperty","mergeDeep","mergeDeepArray","count","merger","DeepMerger","merge","defaultReconciler","property","reconciler","isObject","pastCopies","sourceKey","targetValue","apply","shallowCopyForMerge","has","__proto__","getPrototypeOf","add","isExecutionPatchIncrementalResult","isApolloPayloadResult","mergeIncrementalData","prevResult","mergedData","incremental","parent_1","isNaN","parseHeaders","headerText","headersInit","line","name_1","trim","toLowerCase","parseJsonBody","bodyText","parse","getResult","handleError","errors","parseAndCheckHttpResponse","text","checkFetcher","fetcher","fetch","print","ast","printDocASTReducer","join","varDefs","wrap","_ref","_ref2","block","_ref3","prefix","argsLine","indent","_ref4","_ref5","_ref6","typeCondition","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","addDescription","_ref20","operationTypes","_ref21","_ref22","_ref23","interfaces","_ref24","hasMultilineItems","_ref25","_ref26","_ref27","types","_ref28","_ref29","_ref30","_ref31","repeatable","locations","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","cb","description","maybeArray","_maybeArray$filter$jo","separator","array","start","maybeString","str","replace","isMultiline","some","fallbackHttpConfig","http","includeQuery","includeExtensions","preserveHeaderCase","headers","accept","options","defaultPrinter","printer","selectHttpOptionsAndBody","fallbackConfig","configs","unshift","selectHttpOptionsAndBodyInternal","config","credentials","normalizedHeaders_1","headerData","originalName","normalizedHeaders","removeDuplicateHeaders","createSignalIfSupported","AbortController","controller","signal","rewriteURIForGET","chosenURI","queryParams","addQueryParam","encodeURIComponent","serializedVariables","serializedExtensions","preFragment","fragmentStart","substr","queryParamsPrefix","newURI","fromError","errorValue","backupFetch","createHttpLink","linkOptions","preferredFetch","useGETForQueries","_c","includeUnusedVariables","requestOptions","linkConfig","fetchOptions","clientAwarenessHeaders","clientAwareness","version","contextHeaders","contextConfig","unusedNames_1","_controller","isSubscription","hasDefer","acceptHeader","_d","setContext","ctype","_e","decoder","contentType","delimiter","boundaryVal","boundary","buffer","running","_f","searchFrom","bi","contentType_1","_g","_h","_j","TextDecoder","includes","substring","sent","decode","payload","hasNext","readMultipartBody","readJsonBody","abort","HttpLink","defaultMakeData","Trie","weakness","makeData","lookup","lookupArray","getChildTrie","peek","peekArray","isObjRef","weak","strong","WeakMap","Map","child","set","stringifyCanon","stringifyCache","ObjectCanon","known","WeakSet","pool","passes","keysByJSON","admit","isKnown","pass","shallowCopy","original","proto_1","array_1","sortedKeys","json","firstValueIndex_1","sorted","object","obj_1","canonicalStringify","resetCanonicalStringify","canonical","reset","asyncMap","mapFn","catchFn","activeCallbackCount","completed","promiseQueue","callback","makeCallback","examiner","delegate","arg","both","caught","sub","graphQLResultHasError","getGraphQLErrorsFromResult","graphQLErrors","incrementalResult","TYPENAME_FIELD","FIELD","NAME","isEmpty","FRAGMENT_SPREAD","nullIfDocIsEmpty","fragmentDef","getFragmentDefinition","makeInUseGetterFunction","defaultKey","inUse","fragmentSpreads","removeDirectivesFromDocument","getInUseByOperationName","getInUseByFragmentName","getInUse","ancestor","OPERATION_DEFINITION","FRAGMENT_DEFINITION","operationCount","directiveMatcher","tests","getDirectiveMatcher","hasRemoveDirective","remove","shouldRemoveField","nodeDirectives","originalFragmentDefsByPath","firstVisitMadeChanges","fieldOrInlineFragmentVisitor","docWithoutDirectiveSubtrees","_parent","_path","removed","populateTransitiveVars","transitiveVars","childFragmentName","varName","allFragmentNamesUsed","enterVisitor","usedVariableNames_1","varDef","addTypenameToDocument","lastIndexOf","added","connectionRemoveConfig","willRemove","buildQueryFromSelectionSet","prefixCounts","makeUniqueId","Math","random","iterateObserversSafely","observers","argument","observersWithMethod","obs","fixObservableSubclass","subclass","species","isPromiseLike","Concast","addObserver","removeObserver","handlers","latest","notify","nextResultListeners","cancel","reason","_","iterable","deliverLastMessage","nextOrError","listener","beforeNext","called","cloneDeep","cloneDeepHelper","val","seen","copy_1","copy_2","ObservableQuery","queryManager","queryInfo","subObserver","defaultSubscriptionObserverErrorCallback","last","reobserve","tearDownQuery","waitForOwnResult","skipCacheDataFor","fetchPolicy","isTornDown","defaultOptions","watchQuery","defaultFetchPolicy","initialFetchPolicy","queryId","generateQueryId","opDef","queryName","transform","removeQuery","getCurrentResult","saveAsLastResult","lastResult","getLastResult","networkStatus","ready","loading","hasForcedResolvers","diff","getDiff","returnPartialData","partial","partialRefetch","logMissingFieldErrors","missing","updateLastResult","isDifferentFromLastResult","newResult","getLast","variablesMustMatch","getLastError","resetLastResults","resetQueryStoreErrors","resetErrors","refetch","reobserveOptions","pollInterval","vars","resetLastWrite","fetchMore","fetchMoreOptions","combinedOptions","qid","originalNetworkStatus","notifyOnNetworkStatusChange","observe","updatedQuerySet","fetchQuery","fetchMoreResult","cache","batch","update","updateQuery","optimistic","writeQuery","onWatchUpdated","watch","finally","reobserveCacheFirst","subscribeToMore","startGraphQLSubscription","subscriptionData","setOptions","newOptions","setVariables","broadcastQueries","startPolling","updatePolling","stopPolling","applyNextFetchPolicy","nextFetchPolicy","newNetworkStatus","setObservableQuery","ssrMode","pollingInfo","interval","maybeFetch","poll","info","clearTimeout","timeout","assumeImmutableResults","reobserveAsConcast","useDisposableConcast","oldVariables","oldFetchPolicy","mergedOptions","compact","finishWaitingForOwnResult","concast","fromLink","reportResult","reportError","lastError","errorResult","hasObservers","clear","stopQuery","obsQuery","debug","isSelectionNode","INLINE_FRAGMENT","currentContext","MISSING_VALUE","idCounter","maybe","ignored","globalKey","globalHost","globalThis","g","Slot","Date","now","slots","getValue","withValue","thisArg","saved","noContext","defaultDispose","Cache","max","dispose","Infinity","newest","oldest","getNode","older","newer","clean","parentEntrySlot","toArray","collection","maybeUnsubscribe","entryOrDep","emptySetPool","POOL_TARGET_SIZE","assert","condition","optionalMessage","valueGet","Entry","parents","childValues","dirtyChildren","dirty","recomputing","deps","mightBeDirty","rememberParent","recompute","entry","forgetChildren","recomputeNewValue","setDirty","maybeSubscribe","reportClean","setClean","reallyRecompute","reportDirty","eachParent","forgetChild","forget","dependOn","dep","forgetDeps","reportDirtyChild","reportCleanChild","parentCount","parentWasClean","a","b","childValue","removeDirtyChild","dc","_value","EntryMethods","depsByKey","depend","dep_1","entryMethodName","m_1","makeDefaultMakeCacheKeyFunction","keyTrie","caches","originalFunction","pow","keyArgs","makeCacheKey","dirtyKey","peekKey","forgetKey","getKey","cacheSlot","cacheInfoMap","getCacheInfo","forgetCache","rv","makeVar","listeners","newValue","broadcastWatches","broadcast","oldListeners","attach","onNextChange","attachCache","LocalState","client","resolvers","fragmentMatcher","selectionsToResolveCache","addResolvers","setFragmentMatcher","resolverGroup","setResolvers","getResolvers","runResolvers","remoteResult","onlyRunForcedResolvers","resolveDocument","localResult","getFragmentMatcher","clientQuery","serverQuery","removeClientSetsFromDocument","prepareContext","getCacheKey","identify","addExportedVariables","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","rootValue","mainDefinition","selectionsToResolve","definitionOperation","defaultOperationType","execContext","collectSelectionsToResolve","charAt","toUpperCase","resolveSelectionSet","isClientFieldDescendant","resultsToMerge","resolveField","fieldResult","isInlineFragment","fragmentResult","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","isClientField","resolveSubSelectedArray","isSingleASTNode","collectByDefinition","definitionNode","matches_1","__","___","spread","fragmentSelections","destructiveMethodCounts","wrapDestructiveCacheMethod","methodName","cancelNotifyTimeout","QueryInfo","lastRequestId","stopped","observableQuery","init","lastDiff","networkError","getDiffOptions","updateWatch","oq","updateLastDiff","canonizeResults","setDiff","oldDiff","notifyTimeout","oqListener","fromOptimisticTransaction","shouldNotify","stop","watchOptions","watcher","lastWatch","lastWrite","shouldWrite","dmCount","markResult","cacheWriteBehavior","shouldWriteResult","errorPolicy","performTransaction","overwrite","diffOptions","markReady","markError","ignoreErrors","writeWithErrors","QueryManager","queryDeduplication","onBroadcast","localState","queries","fetchCancelFns","transformCache","queryIdCounter","requestIdCounter","mutationIdCounter","inFlightLinkObservables","mutationStore","_info","stopQueryNoBroadcast","cancelPendingFetches","mutate","mutation","optimisticResponse","updateQueries","refetchQueries","awaitRefetchQueries","updateWithProxyFn","onQueryUpdated","keepRootFields","mutationId","mutationStoreValue","self","generateMutationId","transformForLink","getVariables","markMutationOptimistic","getObservableFromLink","storeResult","markMutationResult","removeOptimistic","cacheWrites","skipCache","dataId","asQuery","updateQueries_1","updater","currentQueryResult","nextQueryResult","mutationResult","queryVariables","results_1","updateCache","write","isFinalResult","isExecutionPatchInitialResult","modify","DELETE","include","recordOptimisticTransaction","fetchQueryObservable","getQueryStore","store","transformed","transformDocument","noConnection","cacheEntry_1","defaultVars","generateRequestId","stopQueryInStore","stopQueryInStoreNoBroadcast","clearStore","discardWatches","getObservableQueries","queryNamesAndDocs","legacyQueryOptions","desc","getQuery","included","nameOrDoc","reFetchObservableQueries","includeStandby","observableQueryPromises","makeObservable","hasErrors","hasProtocolErrors","protocolErrors","observablePromise_1","getLocalState","deduplication","inFlightLinkObservables_1","forceFetch","byVariables_1","varJson_1","getResultsFromLink","requestId","linkDocument","aqr","fetchConcastWithInfo","containsDataFromLink","defaults","normalized","fromVariables","sourcesWithInfo","fetchQueryByPolicy","cleanupCancelFn","includedQueriesById","results","refetchWritePolicy","oldNetworkStatus","readCache","resultsFromCache","fromData","resultsFromLink","newContext","hasSuggestedDevtools","ApolloClient","resetStoreCallbacks","clearStoreCallbacks","ssrForceFetchDelay","connectToDevTools","window","__APOLLO_CLIENT__","typeDefs","clientAwarenessName","clientAwarenessVersion","disableNetworkFetches","resetStore","top","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","navigator","ua","userAgent","url","devToolsHookCb","action","state","mutations","dataWithOptimisticResults","extract","mergeOptions","readQuery","readFragment","ref","writeFragment","__actionHookForDevTools","__requestRaw","onResetStore","c","onClearStore","restore","serializedState","setLocalStateFragmentMatcher","setLink","newLink","ApolloCache","getFragmentDoc","updateResult","optimisticId","transaction","gc","rootId","updateFragment","MissingFieldError","hasOwn","isNullish","defaultDataIdFromObject","_id","keyObject","defaultConfig","dataIdFromObject","addTypename","resultCaching","shouldCanonizeResults","TypeOrFieldNameRegExp","fieldNameFromStoreName","storeFieldName","match","selectionSetMatchesResult","storeValueIsStoreObject","extractFragmentContext","lookupFragment","delModifier","INVALIDATE","EntityStore","policies","group","rootIds","refs","getFieldValue","objectOrReference","maybeDeepFreeze","canRead","objOrRef","toReference","objOrIdOrRef","mergeIntoStore","toObject","storeObject","rootTypenamesById","Layer","dependOnExistence","existing","incoming","merged","storeObjectReconciler","caching","fieldsToDirty_1","__exists","hasKeyArgs","changedFields_1","needToMerge_1","allDeleted_1","sharedDetails_1","readField","fieldNameOrOptions","fieldValue","storage","getStorage","getStoreFieldName","evict","limit","evicted","extraRootIds","getRootIdSet","__META","newData","rest_1","retain","release","ids","snapshot","findChildRefIds","idsToRemove","root_1","found_1","workSet_1","keyMaker","CacheGroup","resetCaching","makeDepKey","maybeDependOnExistenceOfEntity","entityId","supportsResultCaching","Root","seed","stump","Stump","storageTrie","addLayer","layerId","replay","removeLayer","ownStoreObject","parentStoreObject","fromParent","existingObject","incomingObject","existingValue","incomingValue","execSelectionSetKeyArgs","StoreReader","knownResults","canon","executeSelectionSet","peekArgs","other","enclosingRef","execSelectionSetImpl","resultCacheMaxSize","varString","executeSubSelectedArray","execSubSelectedArrayImpl","resetCanon","diffQueryAgainstStore","rootRef","execResult","firstMissing","isFresh","objectsToMerge","missingMerger","handleMissing","resultName","rootIdsByTypename","workSet","fragmentMatches","finalResult","frozen","childResult","getTypenameFromStoreObject","assertSelectionSetForIdValue","tree","specifierInfoCache","lookupSpecifierInfo","spec","cacheKey","keyFieldsFnFromSpecifier","specifier","keyFieldsFn","collectSpecifierPaths","schemaKeyPath","extracted","extractKeyPath","extractKey","keyArgsFnFromSpecifier","keyArgsFn","collected","keyPath","firstKey","firstChar","variableName","varKeyPath","directiveName_1","find","directiveArgs","suffix","extractor","getSpecifierPaths","toMerge","paths","paths_1","currentPath_1","normalize","reducer","argsFromFieldSpecifier","nullKeyFieldsFn","simpleKeyArgsFn","_args","mergeTrueFn","mergeObjects","mergeFalseFn","Policies","typePolicies","toBeAdded","supertypeMap","fuzzySubtypes","usingPossibleTypes","setRootTypename","possibleTypes","addPossibleTypes","addTypePolicies","partialContext","ROOT_QUERY","normalizeReadFieldOptions","policy","getTypePolicy","keyFn","specifierOrId","queryType","mutationType","subscriptionType","updateTypePolicy","keyFields","setMerge","getFieldPolicy","which","old","supertype","getSupertypeSet","subtype","RegExp","policy_1","supertypes","rest","inbox","createIfMissing","fieldPolicies","supertypeSet","typenameSupertypeSet","workQueue_1","maybeEnqueue_1","needToCheckFuzzySubtypes","checkingFuzzySubtypes","regExp","fuzzyString","fieldSpec","specifierOrString","directivesObj","storeKeyNameFromField","readOptions","makeFieldFunctionOptions","getReadFunction","getMergeFunction","parentTypename","childTypename","runMergeFunction","makeMergeObjectsFunction","readFieldArgs","undefId","argc","eType","iType","getContextFlavor","clientOnly","deferred","flavored","flavors","StoreWriter","writeToStore","operationDefinition","written","incomingById","processSelectionSet","mergeTree","fieldNodeSet","entityRef","applied","applyMerges","fieldsWithSelectionSets_1","hasSelectionSet_1","childTree","hasMergeFunction_1","existingRef","incomingObj","getChild","parentType","typeDotName","warnings","childTypenames","warnAboutDataLoss","result_1","flattenFields","resultFieldKey","getChildMergeTree","processFieldValue","maybeRecycleChildMergeTree","dataRef","sets","previous_1","mergeMergeTrees","mergeTreeIsEmpty","fieldMap","limitingTrie","flatten","inheritedContext","visitedNode","visited","dir","if","getStorageArgs","e_1","i_1","getValue_1","eVal","iVal","aVal","emptyMergeTreePool","needToMergeMaps","remainingRightKeys_1","leftTree","InMemoryCache","watches","typenameDocumentCache","txCount","normalizeConfig","rootStore","optimisticData","resetResultCache","resetResultIdentities","previousReader","storeReader","storeWriter","maybeBroadcastWatch","broadcastWatch","immediate","idToRemove","newOptimisticData","perform","layer","alreadyDirty","toPromise","fromPromise","ApolloProvider","children","ApolloContext","Consumer","Provider","ApolloConsumer","EAGER_METHODS","useLazyQuery","execOptionsRef","useRef","optionsRef","queryRef","current","internalState","useApolloClient","useQueryResult","useQuery","skip","getDefaultFetchPolicy","eagerMethods","useMemo","_loop_1","forceUpdate","EAGER_METHODS_1","useCallback","executeOptions","executeQuery","queryResult","useMutation","Mutation","useState","setResult","isMounted","baseOptions","ignoreResults","clientOptions","onCompleted","result_2","useEffect","useSubscription","hasIssuedDeprecationWarningRef","onSubscriptionData","onSubscriptionComplete","onComplete","setObservable","canResetObservableRef","shouldResubscribe","subscriptionStopped","fetchResult","useReactiveVar","setValue","probablySameValue","useFragment_experimental","resultRef","latestDiff","getSnapshot","latestDiffToResult","diffToResult","useSyncExternalStore","Query","runMutation","propTypes","isRequired","ssr"],"sourceRoot":""}