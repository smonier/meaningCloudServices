{"version":3,"file":"679.jahia.774057.js","mappings":"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","sources":["webpack://@jahia/meaningCloudServices/./node_modules/zen-observable-ts/module.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/fragments.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/storeUtils.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/getFromAST.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/ApolloLink.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/createOperation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/transformOperation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/validateOperation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/execute.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/directives.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/serializeFetchParameter.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/selectURI.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/reader.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/responseIterator.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/async.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/promise.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/iterators/nodeStream.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/throwServerError.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/mergeDeep.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/incrementalResult.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/checkFetcher.js","webpack://@jahia/meaningCloudServices/./node_modules/graphql/language/printer.mjs","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/print.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/rewriteURIForGET.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/fromError.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/transform.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/createHttpLink.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/filterOperationVariables.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/HttpLink.js","webpack://@jahia/meaningCloudServices/./node_modules/@wry/trie/lib/index.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/object-canon.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/graphql/DocumentTransform.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/asyncMap.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/errorHandling.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/iteration.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/subclassing.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/observables/Concast.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/common/cloneDeep.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/equalByQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/ObservableQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/graphql/language/predicates.mjs","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/cache.js","webpack://@jahia/meaningCloudServices/./node_modules/@wry/context/lib/slot.js","webpack://@jahia/meaningCloudServices/./node_modules/@wry/context/lib/index.js","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/context.js","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/helpers.js","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/entry.js","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/dep.js","webpack://@jahia/meaningCloudServices/./node_modules/optimism/lib/index.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/reactiveVars.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/LocalState.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/QueryInfo.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/QueryManager.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/core/types/Cache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/ApolloClient.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/core/cache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/core/types/common.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/helpers.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/entityStore.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/readFromStore.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/key-extractor.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/policies.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/writeToStore.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/empty.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/from.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/split.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/core/concat.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/http/createSignalIfSupported.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/toPromise.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/link/utils/fromPromise.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/core/index.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/context/ApolloProvider.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/context/ApolloConsumer.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useLazyQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useMutation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useSubscription.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useReactiveVar.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useFragment.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/utilities/promises/decoration.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/internal/__use.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/cache/QueryReference.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/cache/SuspenseCache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/cache/getSuspenseCache.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/constants.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useSuspenseQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/internal/useDeepMemo.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useBackgroundQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/hooks/useReadQuery.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/cache/index.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/components/Query.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/components/Mutation.js","webpack://@jahia/meaningCloudServices/./node_modules/@apollo/client/react/components/Subscription.js","webpack://@jahia/meaningCloudServices/./node_modules/graphql/language/visitor.mjs"],"sourcesContent":["function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(observer, subscriber) {\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.unsubscribe = function unsubscribe() {\n    if (this._state !== 'closed') {\n      closeSubscription(this);\n      cleanupSubscription(this);\n    }\n  };\n\n  _createClass(Subscription, [{\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = /*#__PURE__*/function () {\n  function SubscriptionObserver(subscription) {\n    this._subscription = subscription;\n  }\n\n  var _proto2 = SubscriptionObserver.prototype;\n\n  _proto2.next = function next(value) {\n    onNotify(this._subscription, 'next', value);\n  };\n\n  _proto2.error = function error(value) {\n    onNotify(this._subscription, 'error', value);\n  };\n\n  _proto2.complete = function complete() {\n    onNotify(this._subscription, 'complete');\n  };\n\n  _createClass(SubscriptionObserver, [{\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = /*#__PURE__*/function () {\n  function Observable(subscriber) {\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  var _proto3 = Observable.prototype;\n\n  _proto3.subscribe = function subscribe(observer) {\n    if (typeof observer !== 'object' || observer === null) {\n      observer = {\n        next: observer,\n        error: arguments[1],\n        complete: arguments[2]\n      };\n    }\n\n    return new Subscription(observer, this._subscriber);\n  };\n\n  _proto3.forEach = function forEach(fn) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      if (typeof fn !== 'function') {\n        reject(new TypeError(fn + ' is not a function'));\n        return;\n      }\n\n      function done() {\n        subscription.unsubscribe();\n        resolve();\n      }\n\n      var subscription = _this.subscribe({\n        next: function (value) {\n          try {\n            fn(value, done);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  };\n\n  _proto3.map = function map(fn) {\n    var _this2 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this2.subscribe({\n        next: function (value) {\n          try {\n            value = fn(value);\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.filter = function filter(fn) {\n    var _this3 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this3.subscribe({\n        next: function (value) {\n          try {\n            if (!fn(value)) return;\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.reduce = function reduce(fn) {\n    var _this4 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    var hasSeed = arguments.length > 1;\n    var hasValue = false;\n    var seed = arguments[1];\n    var acc = seed;\n    return new C(function (observer) {\n      return _this4.subscribe({\n        next: function (value) {\n          var first = !hasValue;\n          hasValue = true;\n\n          if (!first || hasSeed) {\n            try {\n              acc = fn(acc, value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          } else {\n            acc = value;\n          }\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n          observer.next(acc);\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.concat = function concat() {\n    var _this5 = this;\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscription;\n      var index = 0;\n\n      function startNext(next) {\n        subscription = next.subscribe({\n          next: function (v) {\n            observer.next(v);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (index === sources.length) {\n              subscription = undefined;\n              observer.complete();\n            } else {\n              startNext(C.from(sources[index++]));\n            }\n          }\n        });\n      }\n\n      startNext(_this5);\n      return function () {\n        if (subscription) {\n          subscription.unsubscribe();\n          subscription = undefined;\n        }\n      };\n    });\n  };\n\n  _proto3.flatMap = function flatMap(fn) {\n    var _this6 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscriptions = [];\n\n      var outer = _this6.subscribe({\n        next: function (value) {\n          if (fn) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          }\n\n          var inner = C.from(value).subscribe({\n            next: function (value) {\n              observer.next(value);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              var i = subscriptions.indexOf(inner);\n              if (i >= 0) subscriptions.splice(i, 1);\n              completeIfDone();\n            }\n          });\n          subscriptions.push(inner);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          completeIfDone();\n        }\n      });\n\n      function completeIfDone() {\n        if (outer.closed && subscriptions.length === 0) observer.complete();\n      }\n\n      return function () {\n        subscriptions.forEach(function (s) {\n          return s.unsubscribe();\n        });\n        outer.unsubscribe();\n      };\n    });\n  };\n\n  _proto3[SymbolObservable] = function () {\n    return this;\n  };\n\n  Observable.from = function from(x) {\n    var C = typeof this === 'function' ? this : Observable;\n    if (x == null) throw new TypeError(x + ' is not an object');\n    var method = getMethod(x, SymbolObservable);\n\n    if (method) {\n      var observable = method.call(x);\n      if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n      if (isObservable(observable) && observable.constructor === C) return observable;\n      return new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n\n    if (hasSymbol('iterator')) {\n      method = getMethod(x, SymbolIterator);\n\n      if (method) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var _iterator = _createForOfIteratorHelperLoose(method.call(x)), _step; !(_step = _iterator()).done;) {\n              var item = _step.value;\n              observer.next(item);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n    }\n\n    if (Array.isArray(x)) {\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < x.length; ++i) {\n            observer.next(x[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n\n    throw new TypeError(x + ' is not observable');\n  };\n\n  Observable.of = function of() {\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n\n    var C = typeof this === 'function' ? this : Observable;\n    return new C(function (observer) {\n      enqueue(function () {\n        if (observer.closed) return;\n\n        for (var i = 0; i < items.length; ++i) {\n          observer.next(items[i]);\n          if (observer.closed) return;\n        }\n\n        observer.complete();\n      });\n    });\n  };\n\n  _createClass(Observable, null, [{\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}\n\nexport { Observable };\n","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant, newInvariantError } from '../globals/index.js';\nexport function getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw newInvariantError(\n                68,\n                definition.operation,\n                definition.name ? \" named '\".concat(definition.name.value, \"'\") : ''\n            );\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        invariant(fragments.length === 1, 69, fragments.length);\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ], document.definitions, true) });\n    return query;\n}\nexport function createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nexport function getFragmentFromSelection(selection, fragmentMap) {\n    switch (selection.kind) {\n        case 'InlineFragment':\n            return selection;\n        case 'FragmentSpread': {\n            var fragmentName = selection.name.value;\n            if (typeof fragmentMap === \"function\") {\n                return fragmentMap(fragmentName);\n            }\n            var fragment = fragmentMap && fragmentMap[fragmentName];\n            invariant(fragment, 70, fragmentName);\n            return fragment || null;\n        }\n        default:\n            return null;\n    }\n}\n//# sourceMappingURL=fragments.js.map","import { newInvariantError } from '../globals/index.js';\nimport { isNonNullObject } from '../common/objects.js';\nimport { getFragmentFromSelection } from './fragments.js';\nexport function makeReference(id) {\n    return { __ref: String(id) };\n}\nexport function isReference(obj) {\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\n}\nexport function isDocumentNode(value) {\n    return (isNonNullObject(value) &&\n        value.kind === \"Document\" &&\n        Array.isArray(value.definitions));\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw newInvariantError(79, name.value, value.kind);\n    }\n}\nexport function storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n    'nonreactive',\n];\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\n    if (args &&\n        directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = args[key];\n            });\n            return \"\".concat(directives['connection']['key'], \"(\").concat(stringify(filteredArgs_1), \")\");\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\".concat(stringifiedArgs, \")\");\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\".concat(key, \"(\").concat(stringify(directives[key]), \")\");\n            }\n            else {\n                completeFieldName += \"@\".concat(key);\n            }\n        });\n    }\n    return completeFieldName;\n}, {\n    setStringify: function (s) {\n        var previous = stringify;\n        stringify = s;\n        return previous;\n    },\n});\nvar stringify = function defaultStringify(value) {\n    return JSON.stringify(value, stringifyReplacer);\n};\nfunction stringifyReplacer(_key, value) {\n    if (isNonNullObject(value) && !Array.isArray(value)) {\n        value = Object.keys(value).sort().reduce(function (copy, key) {\n            copy[key] = value[key];\n            return copy;\n        }, {});\n    }\n    return value;\n}\nexport function argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nexport function resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\n    var fragments;\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\n        var selection = _a[_i];\n        if (isField(selection)) {\n            if (selection.name.value === '__typename') {\n                return result[resultKeyNameFromField(selection)];\n            }\n        }\n        else if (fragments) {\n            fragments.push(selection);\n        }\n        else {\n            fragments = [selection];\n        }\n    }\n    if (typeof result.__typename === 'string') {\n        return result.__typename;\n    }\n    if (fragments) {\n        for (var _b = 0, fragments_1 = fragments; _b < fragments_1.length; _b++) {\n            var selection = fragments_1[_b];\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\n            if (typeof typename === 'string') {\n                return typename;\n            }\n        }\n    }\n}\nexport function isField(selection) {\n    return selection.kind === 'Field';\n}\nexport function isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\n//# sourceMappingURL=storeUtils.js.map","import { invariant, newInvariantError } from '../globals/index.js';\nimport { valueToObjectRepresentation } from './storeUtils.js';\nexport function checkDocument(doc) {\n    invariant(doc && doc.kind === 'Document', 71);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw newInvariantError(72, definition.kind);\n        }\n        return definition;\n    });\n    invariant(operations.length <= 1, 73, operations.length);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === 'OperationDefinition';\n    })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && !!definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === 'FragmentDefinition';\n    });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    invariant(queryDef && queryDef.operation === 'query', 74);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    invariant(doc.kind === 'Document', 75);\n    invariant(doc.definitions.length <= 1, 76);\n    var fragmentDef = doc.definitions[0];\n    invariant(fragmentDef.kind === 'FragmentDefinition', 77);\n    return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw newInvariantError(78);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map","import { newInvariantError, invariant } from '../../utilities/globals/index.js';\nimport { Observable } from '../../utilities/index.js';\nimport { validateOperation, createOperation, transformOperation, } from '../utils/index.js';\nfunction passthrough(op, forward) {\n    return (forward ? forward(op) : Observable.of());\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.empty = function () {\n        return new ApolloLink(function () { return Observable.of(); });\n    };\n    ApolloLink.from = function (links) {\n        if (links.length === 0)\n            return ApolloLink.empty();\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n    };\n    ApolloLink.split = function (test, left, right) {\n        var leftLink = toLink(left);\n        var rightLink = toLink(right || new ApolloLink(passthrough));\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\n            return new ApolloLink(function (operation) {\n                return test(operation)\n                    ? leftLink.request(operation) || Observable.of()\n                    : rightLink.request(operation) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return test(operation)\n                    ? leftLink.request(operation, forward) || Observable.of()\n                    : rightLink.request(operation, forward) || Observable.of();\n            });\n        }\n    };\n    ApolloLink.execute = function (link, operation) {\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n    };\n    ApolloLink.concat = function (first, second) {\n        var firstLink = toLink(first);\n        if (isTerminating(firstLink)) {\n            globalThis.__DEV__ !== false && invariant.warn(33, firstLink);\n            return firstLink;\n        }\n        var nextLink = toLink(second);\n        if (isTerminating(nextLink)) {\n            return new ApolloLink(function (operation) {\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return (firstLink.request(operation, function (op) {\n                    return nextLink.request(op, forward) || Observable.of();\n                }) || Observable.of());\n            });\n        }\n    };\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return ApolloLink.concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw newInvariantError(34);\n    };\n    ApolloLink.prototype.onError = function (error, observer) {\n        if (observer && observer.error) {\n            observer.error(error);\n            return false;\n        }\n        throw error;\n    };\n    ApolloLink.prototype.setOnError = function (fn) {\n        this.onError = fn;\n        return this;\n    };\n    return ApolloLink;\n}());\nexport { ApolloLink };\n//# sourceMappingURL=ApolloLink.js.map","import { __assign } from \"tslib\";\nexport function createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign(__assign({}, context), next(context));\n        }\n        else {\n            context = __assign(__assign({}, context), next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    return operation;\n}\n//# sourceMappingURL=createOperation.js.map","import { getOperationName } from '../../utilities/index.js';\nexport function transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query) || undefined\n                : '';\n    }\n    return transformedOperation;\n}\n//# sourceMappingURL=transformOperation.js.map","import { newInvariantError } from '../../utilities/globals/index.js';\nexport function validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw newInvariantError(41, key);\n        }\n    }\n    return operation;\n}\n//# sourceMappingURL=validateOperation.js.map","import { ApolloLink } from './ApolloLink.js';\nexport var execute = ApolloLink.execute;\n//# sourceMappingURL=execute.js.map","import { invariant } from '../globals/index.js';\nimport { visit, BREAK, } from 'graphql';\nexport function shouldInclude(_a, variables) {\n    var directives = _a.directives;\n    if (!directives || !directives.length) {\n        return true;\n    }\n    return getInclusionDirectives(directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables && variables[ifArgument.value.name.value];\n            invariant(evaledValue !== void 0, 64, directive.name.value);\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nexport function getDirectiveNames(root) {\n    var names = [];\n    visit(root, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nexport var hasAnyDirectives = function (names, root) { return hasDirectives(names, root, false); };\nexport var hasAllDirectives = function (names, root) { return hasDirectives(names, root, true); };\nexport function hasDirectives(names, root, all) {\n    var nameSet = new Set(names);\n    var uniqueCount = nameSet.size;\n    visit(root, {\n        Directive: function (node) {\n            if (nameSet.delete(node.name.value) &&\n                (!all || !nameSet.size)) {\n                return BREAK;\n            }\n        },\n    });\n    return all ? !nameSet.size : nameSet.size < uniqueCount;\n}\nexport function hasClientExports(document) {\n    return document && hasDirectives(['client', 'export'], document, true);\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nexport function getInclusionDirectives(directives) {\n    var result = [];\n    if (directives && directives.length) {\n        directives.forEach(function (directive) {\n            if (!isInclusionDirective(directive))\n                return;\n            var directiveArguments = directive.arguments;\n            var directiveName = directive.name.value;\n            invariant(directiveArguments && directiveArguments.length === 1, 65, directiveName);\n            var ifArgument = directiveArguments[0];\n            invariant(ifArgument.name && ifArgument.name.value === 'if', 66, directiveName);\n            var ifValue = ifArgument.value;\n            invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 67, directiveName);\n            result.push({ directive: directive, ifArgument: ifArgument });\n        });\n    }\n    return result;\n}\n//# sourceMappingURL=directives.js.map","import { newInvariantError } from '../../utilities/globals/index.js';\nexport var serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = newInvariantError(37, label, e.message);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\n//# sourceMappingURL=serializeFetchParameter.js.map","export var selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n//# sourceMappingURL=selectURI.js.map","import { canUseAsyncIteratorSymbol } from \"../../../utilities/index.js\";\nexport default function readerIterator(reader) {\n    var iterator = {\n        next: function () {\n            return reader.read();\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=reader.js.map","import { canUseAsyncIteratorSymbol } from \"../../utilities/index.js\";\nimport asyncIterator from \"./iterators/async.js\";\nimport nodeStreamIterator from \"./iterators/nodeStream.js\";\nimport promiseIterator from \"./iterators/promise.js\";\nimport readerIterator from \"./iterators/reader.js\";\nfunction isNodeResponse(value) {\n    return !!value.body;\n}\nfunction isReadableStream(value) {\n    return !!value.getReader;\n}\nfunction isAsyncIterableIterator(value) {\n    return !!(canUseAsyncIteratorSymbol &&\n        value[Symbol.asyncIterator]);\n}\nfunction isStreamableBlob(value) {\n    return !!value.stream;\n}\nfunction isBlob(value) {\n    return !!value.arrayBuffer;\n}\nfunction isNodeReadableStream(value) {\n    return !!value.pipe;\n}\nexport function responseIterator(response) {\n    var body = response;\n    if (isNodeResponse(response))\n        body = response.body;\n    if (isAsyncIterableIterator(body))\n        return asyncIterator(body);\n    if (isReadableStream(body))\n        return readerIterator(body.getReader());\n    if (isStreamableBlob(body)) {\n        return readerIterator(body.stream().getReader());\n    }\n    if (isBlob(body))\n        return promiseIterator(body.arrayBuffer());\n    if (isNodeReadableStream(body))\n        return nodeStreamIterator(body);\n    throw new Error(\"Unknown body type for responseIterator. Please pass a streamable response.\");\n}\n//# sourceMappingURL=responseIterator.js.map","export default function asyncIterator(source) {\n    var _a;\n    var iterator = source[Symbol.asyncIterator]();\n    return _a = {\n            next: function () {\n                return iterator.next();\n            }\n        },\n        _a[Symbol.asyncIterator] = function () {\n            return this;\n        },\n        _a;\n}\n//# sourceMappingURL=async.js.map","import { canUseAsyncIteratorSymbol } from \"../../../utilities/index.js\";\nexport default function promiseIterator(promise) {\n    var resolved = false;\n    var iterator = {\n        next: function () {\n            if (resolved)\n                return Promise.resolve({\n                    value: undefined,\n                    done: true,\n                });\n            resolved = true;\n            return new Promise(function (resolve, reject) {\n                promise\n                    .then(function (value) {\n                    resolve({ value: value, done: false });\n                })\n                    .catch(reject);\n            });\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=promise.js.map","import { canUseAsyncIteratorSymbol } from \"../../../utilities/index.js\";\nexport default function nodeStreamIterator(stream) {\n    var cleanup = null;\n    var error = null;\n    var done = false;\n    var data = [];\n    var waiting = [];\n    function onData(chunk) {\n        if (error)\n            return;\n        if (waiting.length) {\n            var shiftedArr = waiting.shift();\n            if (Array.isArray(shiftedArr) && shiftedArr[0]) {\n                return shiftedArr[0]({ value: chunk, done: false });\n            }\n        }\n        data.push(chunk);\n    }\n    function onError(err) {\n        error = err;\n        var all = waiting.slice();\n        all.forEach(function (pair) {\n            pair[1](err);\n        });\n        !cleanup || cleanup();\n    }\n    function onEnd() {\n        done = true;\n        var all = waiting.slice();\n        all.forEach(function (pair) {\n            pair[0]({ value: undefined, done: true });\n        });\n        !cleanup || cleanup();\n    }\n    cleanup = function () {\n        cleanup = null;\n        stream.removeListener(\"data\", onData);\n        stream.removeListener(\"error\", onError);\n        stream.removeListener(\"end\", onEnd);\n        stream.removeListener(\"finish\", onEnd);\n        stream.removeListener(\"close\", onEnd);\n    };\n    stream.on(\"data\", onData);\n    stream.on(\"error\", onError);\n    stream.on(\"end\", onEnd);\n    stream.on(\"finish\", onEnd);\n    stream.on(\"close\", onEnd);\n    function getNext() {\n        return new Promise(function (resolve, reject) {\n            if (error)\n                return reject(error);\n            if (data.length)\n                return resolve({ value: data.shift(), done: false });\n            if (done)\n                return resolve({ value: undefined, done: true });\n            waiting.push([resolve, reject]);\n        });\n    }\n    var iterator = {\n        next: function () {\n            return getNext();\n        },\n    };\n    if (canUseAsyncIteratorSymbol) {\n        iterator[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    return iterator;\n}\n//# sourceMappingURL=nodeStream.js.map","export var throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\n//# sourceMappingURL=throwServerError.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { isNonNullObject } from \"./objects.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nexport function mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var merger = new DeepMerger();\n        for (var i = 1; i < count; ++i) {\n            target = merger.merge(target, sources[i]);\n        }\n    }\n    return target;\n}\nvar defaultReconciler = function (target, source, property) {\n    return this.merge(target[property], source[property]);\n};\nvar DeepMerger = (function () {\n    function DeepMerger(reconciler) {\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\n        this.reconciler = reconciler;\n        this.isObject = isNonNullObject;\n        this.pastCopies = new Set();\n    }\n    DeepMerger.prototype.merge = function (target, source) {\n        var _this = this;\n        var context = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            context[_i - 2] = arguments[_i];\n        }\n        if (isNonNullObject(source) && isNonNullObject(target)) {\n            Object.keys(source).forEach(function (sourceKey) {\n                if (hasOwnProperty.call(target, sourceKey)) {\n                    var targetValue = target[sourceKey];\n                    if (source[sourceKey] !== targetValue) {\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\n                        if (result !== targetValue) {\n                            target = _this.shallowCopyForMerge(target);\n                            target[sourceKey] = result;\n                        }\n                    }\n                }\n                else {\n                    target = _this.shallowCopyForMerge(target);\n                    target[sourceKey] = source[sourceKey];\n                }\n            });\n            return target;\n        }\n        return source;\n    };\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\n        if (isNonNullObject(value)) {\n            if (!this.pastCopies.has(value)) {\n                if (Array.isArray(value)) {\n                    value = value.slice(0);\n                }\n                else {\n                    value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n                }\n                this.pastCopies.add(value);\n            }\n        }\n        return value;\n    };\n    return DeepMerger;\n}());\nexport { DeepMerger };\n//# sourceMappingURL=mergeDeep.js.map","import { isNonNullObject } from \"./objects.js\";\nimport { isNonEmptyArray } from \"./arrays.js\";\nimport { DeepMerger } from \"./mergeDeep.js\";\nexport function isExecutionPatchIncrementalResult(value) {\n    return \"incremental\" in value;\n}\nexport function isExecutionPatchInitialResult(value) {\n    return \"hasNext\" in value && \"data\" in value;\n}\nexport function isExecutionPatchResult(value) {\n    return (isExecutionPatchIncrementalResult(value) ||\n        isExecutionPatchInitialResult(value));\n}\nexport function isApolloPayloadResult(value) {\n    return isNonNullObject(value) && \"payload\" in value;\n}\nexport function mergeIncrementalData(prevResult, result) {\n    var mergedData = prevResult;\n    var merger = new DeepMerger();\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (_a) {\n            var data = _a.data, path = _a.path;\n            for (var i = path.length - 1; i >= 0; --i) {\n                var key = path[i];\n                var isNumericKey = !isNaN(+key);\n                var parent_1 = isNumericKey ? [] : {};\n                parent_1[key] = data;\n                data = parent_1;\n            }\n            mergedData = merger.merge(mergedData, data);\n        });\n    }\n    return mergedData;\n}\n//# sourceMappingURL=incrementalResult.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { responseIterator } from \"./responseIterator.js\";\nimport { throwServerError } from \"../utils/index.js\";\nimport { PROTOCOL_ERRORS_SYMBOL } from '../../errors/index.js';\nimport { isApolloPayloadResult } from '../../utilities/common/incrementalResult.js';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function readMultipartBody(response, nextValue) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var decoder, contentType, delimiter, boundaryVal, boundary, buffer, iterator, running, _b, value, done, chunk, searchFrom, bi, message, i, headers, contentType_1, body, result, next;\n        var _c, _d;\n        return __generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    if (TextDecoder === undefined) {\n                        throw new Error(\"TextDecoder must be defined in the environment: please import a polyfill.\");\n                    }\n                    decoder = new TextDecoder(\"utf-8\");\n                    contentType = (_a = response.headers) === null || _a === void 0 ? void 0 : _a.get(\"content-type\");\n                    delimiter = \"boundary=\";\n                    boundaryVal = (contentType === null || contentType === void 0 ? void 0 : contentType.includes(delimiter))\n                        ? contentType === null || contentType === void 0 ? void 0 : contentType.substring((contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(delimiter)) + delimiter.length).replace(/['\"]/g, \"\").replace(/\\;(.*)/gm, \"\").trim()\n                        : \"-\";\n                    boundary = \"\\r\\n--\".concat(boundaryVal);\n                    buffer = \"\";\n                    iterator = responseIterator(response);\n                    running = true;\n                    _e.label = 1;\n                case 1:\n                    if (!running) return [3, 3];\n                    return [4, iterator.next()];\n                case 2:\n                    _b = _e.sent(), value = _b.value, done = _b.done;\n                    chunk = typeof value === \"string\" ? value : decoder.decode(value);\n                    searchFrom = buffer.length - boundary.length + 1;\n                    running = !done;\n                    buffer += chunk;\n                    bi = buffer.indexOf(boundary, searchFrom);\n                    while (bi > -1) {\n                        message = void 0;\n                        _c = [\n                            buffer.slice(0, bi),\n                            buffer.slice(bi + boundary.length),\n                        ], message = _c[0], buffer = _c[1];\n                        i = message.indexOf(\"\\r\\n\\r\\n\");\n                        headers = parseHeaders(message.slice(0, i));\n                        contentType_1 = headers[\"content-type\"];\n                        if (contentType_1 &&\n                            contentType_1.toLowerCase().indexOf(\"application/json\") === -1) {\n                            throw new Error(\"Unsupported patch content type: application/json is required.\");\n                        }\n                        body = message.slice(i);\n                        if (body) {\n                            result = parseJsonBody(response, body);\n                            if (Object.keys(result).length > 1 ||\n                                \"data\" in result ||\n                                \"incremental\" in result ||\n                                \"errors\" in result ||\n                                \"payload\" in result) {\n                                if (isApolloPayloadResult(result)) {\n                                    next = {};\n                                    if (\"payload\" in result) {\n                                        next = __assign({}, result.payload);\n                                    }\n                                    if (\"errors\" in result) {\n                                        next = __assign(__assign({}, next), { extensions: __assign(__assign({}, (\"extensions\" in next ? next.extensions : null)), (_d = {}, _d[PROTOCOL_ERRORS_SYMBOL] = result.errors, _d)) });\n                                    }\n                                    nextValue(next);\n                                }\n                                else {\n                                    nextValue(result);\n                                }\n                            }\n                            else if (Object.keys(result).length === 1 &&\n                                \"hasNext\" in result &&\n                                !result.hasNext) {\n                                return [2];\n                            }\n                        }\n                        bi = buffer.indexOf(boundary);\n                    }\n                    return [3, 1];\n                case 3: return [2];\n            }\n        });\n    });\n}\nexport function parseHeaders(headerText) {\n    var headersInit = {};\n    headerText.split(\"\\n\").forEach(function (line) {\n        var i = line.indexOf(\":\");\n        if (i > -1) {\n            var name_1 = line.slice(0, i).trim().toLowerCase();\n            var value = line.slice(i + 1).trim();\n            headersInit[name_1] = value;\n        }\n    });\n    return headersInit;\n}\nexport function parseJsonBody(response, bodyText) {\n    if (response.status >= 300) {\n        var getResult = function () {\n            try {\n                return JSON.parse(bodyText);\n            }\n            catch (err) {\n                return bodyText;\n            }\n        };\n        throwServerError(response, getResult(), \"Response not successful: Received status code \".concat(response.status));\n    }\n    try {\n        return JSON.parse(bodyText);\n    }\n    catch (err) {\n        var parseError = err;\n        parseError.name = \"ServerParseError\";\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        throw parseError;\n    }\n}\nexport function handleError(err, observer) {\n    if (err.result && err.result.errors && err.result.data) {\n        observer.next(err.result);\n    }\n    observer.error(err);\n}\nexport function parseAndCheckHttpResponse(operations) {\n    return function (response) {\n        return response\n            .text()\n            .then(function (bodyText) { return parseJsonBody(response, bodyText); })\n            .then(function (result) {\n            if (response.status >= 300) {\n                throwServerError(response, result, \"Response not successful: Received status code \".concat(response.status));\n            }\n            if (!Array.isArray(result) &&\n                !hasOwnProperty.call(result, \"data\") &&\n                !hasOwnProperty.call(result, \"errors\")) {\n                throwServerError(response, result, \"Server response was missing for query '\".concat(Array.isArray(operations)\n                    ? operations.map(function (op) { return op.operationName; })\n                    : operations.operationName, \"'.\"));\n            }\n            return result;\n        });\n    };\n}\n//# sourceMappingURL=parseAndCheckHttpResponse.js.map","import { newInvariantError } from '../../utilities/globals/index.js';\nexport var checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        throw newInvariantError(35);\n    }\n};\n//# sourceMappingURL=checkFetcher.js.map","import { visit } from \"./visitor.mjs\";\nimport { printBlockString } from \"./blockString.mjs\";\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, {\n    leave: printDocASTReducer\n  });\n}\nvar MAX_LINE_LENGTH = 80; // TODO: provide better type coverage in future\n\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    var prefix = wrap('', alias, ': ') + name;\n    var argsLine = prefix + wrap('(', join(args, ', '), ')');\n\n    if (argsLine.length > MAX_LINE_LENGTH) {\n      argsLine = prefix + wrap('(\\n', indent(join(args, '\\n')), '\\n)');\n    }\n\n    return join([argsLine, join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? printBlockString(value, key === 'description' ? '' : '  ') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: addDescription(function (_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  }),\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        interfaces = _ref26.interfaces,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        repeatable = _ref31.repeatable,\n        locations = _ref31.locations;\n    return 'directive @' + name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + (repeatable ? ' repeatable' : '') + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        interfaces = _ref35.interfaces,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray) {\n  var _maybeArray$filter$jo;\n\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return (_maybeArray$filter$jo = maybeArray === null || maybeArray === void 0 ? void 0 : maybeArray.filter(function (x) {\n    return x;\n  }).join(separator)) !== null && _maybeArray$filter$jo !== void 0 ? _maybeArray$filter$jo : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return wrap('{\\n', indent(join(array, '\\n')), '\\n}');\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise print an empty string.\n */\n\n\nfunction wrap(start, maybeString) {\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return maybeString != null && maybeString !== '' ? start + maybeString + end : '';\n}\n\nfunction indent(str) {\n  return wrap('  ', str.replace(/\\n/g, '\\n  '));\n}\n\nfunction isMultiline(str) {\n  return str.indexOf('\\n') !== -1;\n}\n\nfunction hasMultilineItems(maybeArray) {\n  return maybeArray != null && maybeArray.some(isMultiline);\n}\n","import { print as origPrint } from \"graphql\";\nimport { canUseWeakMap } from \"../common/canUse.js\";\nvar printCache = canUseWeakMap ? new WeakMap() : undefined;\nexport var print = function (ast) {\n    var result;\n    result = printCache === null || printCache === void 0 ? void 0 : printCache.get(ast);\n    if (!result) {\n        result = origPrint(ast);\n        printCache === null || printCache === void 0 ? void 0 : printCache.set(ast, result);\n    }\n    return result;\n};\n//# sourceMappingURL=print.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { print } from '../../utilities/index.js';\n;\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n    preserveHeaderCase: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nexport var fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nexport var defaultPrinter = function (ast, printer) { return printer(ast); };\nexport function selectHttpOptionsAndBody(operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    configs.unshift(fallbackConfig);\n    return selectHttpOptionsAndBodyInternal.apply(void 0, __spreadArray([operation,\n        defaultPrinter], configs, false));\n}\nexport function selectHttpOptionsAndBodyInternal(operation, printer) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = {};\n    var http = {};\n    configs.forEach(function (config) {\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), config.headers) });\n        if (config.credentials) {\n            options.credentials = config.credentials;\n        }\n        http = __assign(__assign({}, http), config.http);\n    });\n    if (options.headers) {\n        options.headers = removeDuplicateHeaders(options.headers, http.preserveHeaderCase);\n    }\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = printer(query, print);\n    return {\n        options: options,\n        body: body,\n    };\n}\n;\nfunction removeDuplicateHeaders(headers, preserveHeaderCase) {\n    if (!preserveHeaderCase) {\n        var normalizedHeaders_1 = Object.create(null);\n        Object.keys(Object(headers)).forEach(function (name) {\n            normalizedHeaders_1[name.toLowerCase()] = headers[name];\n        });\n        return normalizedHeaders_1;\n    }\n    var headerData = Object.create(null);\n    Object.keys(Object(headers)).forEach(function (name) {\n        headerData[name.toLowerCase()] = { originalName: name, value: headers[name] };\n    });\n    var normalizedHeaders = Object.create(null);\n    Object.keys(headerData).forEach(function (name) {\n        normalizedHeaders[headerData[name].originalName] = headerData[name].value;\n    });\n    return normalizedHeaders;\n}\n//# sourceMappingURL=selectHttpOptionsAndBody.js.map","import { serializeFetchParameter } from './serializeFetchParameter.js';\nexport function rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(\"\".concat(key, \"=\").concat(encodeURIComponent(value)));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\n//# sourceMappingURL=rewriteURIForGET.js.map","import { Observable } from '../../utilities/index.js';\nexport function fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\n//# sourceMappingURL=fromError.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from '../globals/index.js';\nimport { visit, Kind } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from './getFromAST.js';\nimport { isField } from './storeUtils.js';\nimport { createFragmentMap } from './fragments.js';\nimport { isArray, isNonEmptyArray } from '../common/arrays.js';\nvar TYPENAME_FIELD = {\n    kind: Kind.FIELD,\n    name: {\n        kind: Kind.NAME,\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragmentMap) {\n    return !op || op.selectionSet.selections.every(function (selection) { return selection.kind === Kind.FRAGMENT_SPREAD &&\n        isEmpty(fragmentMap[selection.name.value], fragmentMap); });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(configs) {\n    var names = new Map();\n    var tests = new Map();\n    configs.forEach(function (directive) {\n        if (directive) {\n            if (directive.name) {\n                names.set(directive.name, directive);\n            }\n            else if (directive.test) {\n                tests.set(directive.test, directive);\n            }\n        }\n    });\n    return function (directive) {\n        var config = names.get(directive.name.value);\n        if (!config && tests.size) {\n            tests.forEach(function (testConfig, test) {\n                if (test(directive)) {\n                    config = testConfig;\n                }\n            });\n        }\n        return config;\n    };\n}\nfunction makeInUseGetterFunction(defaultKey) {\n    var map = new Map();\n    return function inUseGetterFunction(key) {\n        if (key === void 0) { key = defaultKey; }\n        var inUse = map.get(key);\n        if (!inUse) {\n            map.set(key, inUse = {\n                variables: new Set,\n                fragmentSpreads: new Set,\n            });\n        }\n        return inUse;\n    };\n}\nexport function removeDirectivesFromDocument(directives, doc) {\n    checkDocument(doc);\n    var getInUseByOperationName = makeInUseGetterFunction(\"\");\n    var getInUseByFragmentName = makeInUseGetterFunction(\"\");\n    var getInUse = function (ancestors) {\n        for (var p = 0, ancestor = void 0; p < ancestors.length && (ancestor = ancestors[p]); ++p) {\n            if (isArray(ancestor))\n                continue;\n            if (ancestor.kind === Kind.OPERATION_DEFINITION) {\n                return getInUseByOperationName(ancestor.name && ancestor.name.value);\n            }\n            if (ancestor.kind === Kind.FRAGMENT_DEFINITION) {\n                return getInUseByFragmentName(ancestor.name.value);\n            }\n        }\n        globalThis.__DEV__ !== false && invariant.error(80);\n        return null;\n    };\n    var operationCount = 0;\n    for (var i = doc.definitions.length - 1; i >= 0; --i) {\n        if (doc.definitions[i].kind === Kind.OPERATION_DEFINITION) {\n            ++operationCount;\n        }\n    }\n    var directiveMatcher = getDirectiveMatcher(directives);\n    var shouldRemoveField = function (nodeDirectives) { return (isNonEmptyArray(nodeDirectives) &&\n        nodeDirectives.map(directiveMatcher).some(function (config) { return config && config.remove; })); };\n    var originalFragmentDefsByPath = new Map();\n    var firstVisitMadeChanges = false;\n    var fieldOrInlineFragmentVisitor = {\n        enter: function (node) {\n            if (shouldRemoveField(node.directives)) {\n                firstVisitMadeChanges = true;\n                return null;\n            }\n        },\n    };\n    var docWithoutDirectiveSubtrees = visit(doc, {\n        Field: fieldOrInlineFragmentVisitor,\n        InlineFragment: fieldOrInlineFragmentVisitor,\n        VariableDefinition: {\n            enter: function () {\n                return false;\n            },\n        },\n        Variable: {\n            enter: function (node, _key, _parent, _path, ancestors) {\n                var inUse = getInUse(ancestors);\n                if (inUse) {\n                    inUse.variables.add(node.name.value);\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node, _key, _parent, _path, ancestors) {\n                if (shouldRemoveField(node.directives)) {\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n                var inUse = getInUse(ancestors);\n                if (inUse) {\n                    inUse.fragmentSpreads.add(node.name.value);\n                }\n            },\n        },\n        FragmentDefinition: {\n            enter: function (node, _key, _parent, path) {\n                originalFragmentDefsByPath.set(JSON.stringify(path), node);\n            },\n            leave: function (node, _key, _parent, path) {\n                var originalNode = originalFragmentDefsByPath.get(JSON.stringify(path));\n                if (node === originalNode) {\n                    return node;\n                }\n                if (operationCount > 0 &&\n                    node.selectionSet.selections.every(function (selection) { return (selection.kind === Kind.FIELD &&\n                        selection.name.value === '__typename'); })) {\n                    getInUseByFragmentName(node.name.value).removed = true;\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n            },\n        },\n        Directive: {\n            leave: function (node) {\n                if (directiveMatcher(node)) {\n                    firstVisitMadeChanges = true;\n                    return null;\n                }\n            },\n        },\n    });\n    if (!firstVisitMadeChanges) {\n        return doc;\n    }\n    var populateTransitiveVars = function (inUse) {\n        if (!inUse.transitiveVars) {\n            inUse.transitiveVars = new Set(inUse.variables);\n            if (!inUse.removed) {\n                inUse.fragmentSpreads.forEach(function (childFragmentName) {\n                    populateTransitiveVars(getInUseByFragmentName(childFragmentName)).transitiveVars.forEach(function (varName) {\n                        inUse.transitiveVars.add(varName);\n                    });\n                });\n            }\n        }\n        return inUse;\n    };\n    var allFragmentNamesUsed = new Set();\n    docWithoutDirectiveSubtrees.definitions.forEach(function (def) {\n        if (def.kind === Kind.OPERATION_DEFINITION) {\n            populateTransitiveVars(getInUseByOperationName(def.name && def.name.value)).fragmentSpreads.forEach(function (childFragmentName) {\n                allFragmentNamesUsed.add(childFragmentName);\n            });\n        }\n        else if (def.kind === Kind.FRAGMENT_DEFINITION &&\n            operationCount === 0 &&\n            !getInUseByFragmentName(def.name.value).removed) {\n            allFragmentNamesUsed.add(def.name.value);\n        }\n    });\n    allFragmentNamesUsed.forEach(function (fragmentName) {\n        populateTransitiveVars(getInUseByFragmentName(fragmentName)).fragmentSpreads.forEach(function (childFragmentName) {\n            allFragmentNamesUsed.add(childFragmentName);\n        });\n    });\n    var fragmentWillBeRemoved = function (fragmentName) { return !!(!allFragmentNamesUsed.has(fragmentName) ||\n        getInUseByFragmentName(fragmentName).removed); };\n    var enterVisitor = {\n        enter: function (node) {\n            if (fragmentWillBeRemoved(node.name.value)) {\n                return null;\n            }\n        },\n    };\n    return nullIfDocIsEmpty(visit(docWithoutDirectiveSubtrees, {\n        FragmentSpread: enterVisitor,\n        FragmentDefinition: enterVisitor,\n        OperationDefinition: {\n            leave: function (node) {\n                if (node.variableDefinitions) {\n                    var usedVariableNames_1 = populateTransitiveVars(getInUseByOperationName(node.name && node.name.value)).transitiveVars;\n                    if (usedVariableNames_1.size < node.variableDefinitions.length) {\n                        return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions.filter(function (varDef) { return usedVariableNames_1.has(varDef.variable.name.value); }) });\n                    }\n                }\n            },\n        },\n    }));\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n    return visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === Kind.OPERATION_DEFINITION) {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\n            },\n        },\n    });\n}, {\n    added: function (field) {\n        return field === TYPENAME_FIELD;\n    },\n});\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                globalThis.__DEV__ !== false && invariant.warn(81);\n            }\n        }\n        return willRemove;\n    },\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (!!selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === Kind.VARIABLE &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nexport function removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) : [] });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    if (node.arguments) {\n                        node.arguments.forEach(function (arg) {\n                            if (argMatcher(arg)) {\n                                argMatchCount_1 += 1;\n                            }\n                        });\n                    }\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nexport function buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    return modifiedDoc;\n}\n//# sourceMappingURL=transform.js.map","import { __assign, __rest } from \"tslib\";\nimport { invariant } from '../../utilities/globals/index.js';\nimport { ApolloLink } from '../core/index.js';\nimport { Observable, hasDirectives } from '../../utilities/index.js';\nimport { serializeFetchParameter } from './serializeFetchParameter.js';\nimport { selectURI } from './selectURI.js';\nimport { handleError, readMultipartBody, parseAndCheckHttpResponse } from './parseAndCheckHttpResponse.js';\nimport { checkFetcher } from './checkFetcher.js';\nimport { selectHttpOptionsAndBodyInternal, defaultPrinter, fallbackHttpConfig } from './selectHttpOptionsAndBody.js';\nimport { rewriteURIForGET } from './rewriteURIForGET.js';\nimport { fromError, filterOperationVariables } from '../utils/index.js';\nimport { maybe, getMainDefinition, removeClientSetsFromDocument } from '../../utilities/index.js';\nvar backupFetch = maybe(function () { return fetch; });\nexport var createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, _b = linkOptions.print, print = _b === void 0 ? defaultPrinter : _b, includeExtensions = linkOptions.includeExtensions, preserveHeaderCase = linkOptions.preserveHeaderCase, useGETForQueries = linkOptions.useGETForQueries, _c = linkOptions.includeUnusedVariables, includeUnusedVariables = _c === void 0 ? false : _c, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"print\", \"includeExtensions\", \"preserveHeaderCase\", \"useGETForQueries\", \"includeUnusedVariables\"]);\n    if (globalThis.__DEV__ !== false) {\n        checkFetcher(preferredFetch || backupFetch);\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions, preserveHeaderCase: preserveHeaderCase },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        if (hasDirectives(['client'], operation.query)) {\n            var transformedQuery = removeClientSetsFromDocument(operation.query);\n            if (!transformedQuery) {\n                return fromError(new Error('HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`.'));\n            }\n            operation.query = transformedQuery;\n        }\n        var _b = selectHttpOptionsAndBodyInternal(operation, print, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        if (body.variables && !includeUnusedVariables) {\n            body.variables = filterOperationVariables(body.variables, operation.query);\n        }\n        var controller;\n        if (!options.signal && typeof AbortController !== 'undefined') {\n            controller = new AbortController();\n            options.signal = controller.signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        var definitionIsSubscription = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'subscription';\n        };\n        var isSubscription = definitionIsSubscription(getMainDefinition(operation.query));\n        var hasDefer = hasDirectives(['defer'], operation.query);\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (hasDefer || isSubscription) {\n            options.headers = options.headers || {};\n            var acceptHeader = \"multipart/mixed;\";\n            if (isSubscription && hasDefer) {\n                globalThis.__DEV__ !== false && invariant.warn(36);\n            }\n            if (isSubscription) {\n                acceptHeader += 'boundary=graphql;subscriptionSpec=1.0,application/json';\n            }\n            else if (hasDefer) {\n                acceptHeader += 'deferSpec=20220824,application/json';\n            }\n            options.headers.accept = acceptHeader;\n        }\n        if (options.method === 'GET') {\n            var _c = rewriteURIForGET(chosenURI, body), newURI = _c.newURI, parseError = _c.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\n            var observerNext = observer.next.bind(observer);\n            currentFetch(chosenURI, options)\n                .then(function (response) {\n                var _a;\n                operation.setContext({ response: response });\n                var ctype = (_a = response.headers) === null || _a === void 0 ? void 0 : _a.get('content-type');\n                if (ctype !== null && /^multipart\\/mixed/i.test(ctype)) {\n                    return readMultipartBody(response, observerNext);\n                }\n                else {\n                    return parseAndCheckHttpResponse(operation)(response).then(observerNext);\n                }\n            })\n                .then(function () {\n                controller = undefined;\n                observer.complete();\n            })\n                .catch(function (err) {\n                controller = undefined;\n                handleError(err, observer);\n            });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\n//# sourceMappingURL=createHttpLink.js.map","import { __assign } from \"tslib\";\nimport { visit } from 'graphql';\nexport function filterOperationVariables(variables, query) {\n    var result = __assign({}, variables);\n    var unusedNames = new Set(Object.keys(variables));\n    visit(query, {\n        Variable: function (node, _key, parent) {\n            if (parent &&\n                parent.kind !== 'VariableDefinition') {\n                unusedNames.delete(node.name.value);\n            }\n        },\n    });\n    unusedNames.forEach(function (name) {\n        delete result[name];\n    });\n    return result;\n}\n//# sourceMappingURL=filterOperationVariables.js.map","import { __extends } from \"tslib\";\nimport { ApolloLink } from '../core/index.js';\nimport { createHttpLink } from './createHttpLink.js';\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, createHttpLink(options).request) || this;\n        _this.options = options;\n        return _this;\n    }\n    return HttpLink;\n}(ApolloLink));\nexport { HttpLink };\n//# sourceMappingURL=HttpLink.js.map","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\n// object keys weakly, yet can also hold non-object keys, unlike the\n// native `WeakMap`.\n// If no makeData function is supplied, the looked-up data will be an empty,\n// null-prototype Object.\nconst defaultMakeData = () => Object.create(null);\n// Useful for processing arguments objects as well as arrays.\nconst { forEach, slice } = Array.prototype;\nconst { hasOwnProperty } = Object.prototype;\nexport class Trie {\n    constructor(weakness = true, makeData = defaultMakeData) {\n        this.weakness = weakness;\n        this.makeData = makeData;\n    }\n    lookup(...array) {\n        return this.lookupArray(array);\n    }\n    lookupArray(array) {\n        let node = this;\n        forEach.call(array, key => node = node.getChildTrie(key));\n        return hasOwnProperty.call(node, \"data\")\n            ? node.data\n            : node.data = this.makeData(slice.call(array));\n    }\n    peek(...array) {\n        return this.peekArray(array);\n    }\n    peekArray(array) {\n        let node = this;\n        for (let i = 0, len = array.length; node && i < len; ++i) {\n            const map = this.weakness && isObjRef(array[i]) ? node.weak : node.strong;\n            node = map && map.get(array[i]);\n        }\n        return node && node.data;\n    }\n    getChildTrie(key) {\n        const map = this.weakness && isObjRef(key)\n            ? this.weak || (this.weak = new WeakMap())\n            : this.strong || (this.strong = new Map());\n        let child = map.get(key);\n        if (!child)\n            map.set(key, child = new Trie(this.weakness, this.makeData));\n        return child;\n    }\n}\nfunction isObjRef(value) {\n    switch (typeof value) {\n        case \"object\":\n            if (value === null)\n                break;\n        // Fall through to return true...\n        case \"function\":\n            return true;\n    }\n    return false;\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (globalThis.__DEV__ !== false) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (globalThis.__DEV__ !== false) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n//# sourceMappingURL=object-canon.js.map","import { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet } from \"../common/canUse.js\";\nimport { checkDocument } from \"./getFromAST.js\";\nimport { invariant } from \"../globals/index.js\";\nfunction identity(document) {\n    return document;\n}\nvar DocumentTransform = (function () {\n    function DocumentTransform(transform, options) {\n        if (options === void 0) { options = Object.create(null); }\n        this.resultCache = canUseWeakSet\n            ? new WeakSet()\n            : new Set();\n        this.transform = transform;\n        if (options.getCacheKey) {\n            this.getCacheKey = options.getCacheKey;\n        }\n        if (options.cache !== false) {\n            this.stableCacheKeys = new Trie(canUseWeakMap, function (key) { return ({ key: key }); });\n        }\n    }\n    DocumentTransform.prototype.getCacheKey = function (document) {\n        return [document];\n    };\n    DocumentTransform.identity = function () {\n        return new DocumentTransform(identity, { cache: false });\n    };\n    DocumentTransform.split = function (predicate, left, right) {\n        if (right === void 0) { right = DocumentTransform.identity(); }\n        return new DocumentTransform(function (document) {\n            var documentTransform = predicate(document) ? left : right;\n            return documentTransform.transformDocument(document);\n        }, { cache: false });\n    };\n    DocumentTransform.prototype.transformDocument = function (document) {\n        if (this.resultCache.has(document)) {\n            return document;\n        }\n        var cacheEntry = this.getStableCacheEntry(document);\n        if (cacheEntry && cacheEntry.value) {\n            return cacheEntry.value;\n        }\n        checkDocument(document);\n        var transformedDocument = this.transform(document);\n        this.resultCache.add(transformedDocument);\n        if (cacheEntry) {\n            cacheEntry.value = transformedDocument;\n        }\n        return transformedDocument;\n    };\n    DocumentTransform.prototype.concat = function (otherTransform) {\n        var _this = this;\n        return new DocumentTransform(function (document) {\n            return otherTransform.transformDocument(_this.transformDocument(document));\n        }, { cache: false });\n    };\n    DocumentTransform.prototype.getStableCacheEntry = function (document) {\n        if (!this.stableCacheKeys)\n            return;\n        var cacheKeys = this.getCacheKey(document);\n        if (cacheKeys) {\n            invariant(Array.isArray(cacheKeys), 63);\n            return this.stableCacheKeys.lookupArray(cacheKeys);\n        }\n    };\n    return DocumentTransform;\n}());\nexport { DocumentTransform };\n//# sourceMappingURL=DocumentTransform.js.map","import { Observable } from \"./Observable.js\";\nexport function asyncMap(observable, mapFn, catchFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeCallbackCount = 0;\n        var completed = false;\n        var promiseQueue = {\n            then: function (callback) {\n                return new Promise(function (resolve) { return resolve(callback()); });\n            },\n        };\n        function makeCallback(examiner, delegate) {\n            if (examiner) {\n                return function (arg) {\n                    ++activeCallbackCount;\n                    var both = function () { return examiner(arg); };\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\n                        --activeCallbackCount;\n                        next && next.call(observer, result);\n                        if (completed) {\n                            handler.complete();\n                        }\n                    }, function (error) {\n                        --activeCallbackCount;\n                        throw error;\n                    }).catch(function (caught) {\n                        error && error.call(observer, caught);\n                    });\n                };\n            }\n            else {\n                return function (arg) { return delegate && delegate.call(observer, arg); };\n            }\n        }\n        var handler = {\n            next: makeCallback(mapFn, next),\n            error: makeCallback(catchFn, error),\n            complete: function () {\n                completed = true;\n                if (!activeCallbackCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n//# sourceMappingURL=asyncMap.js.map","import { isNonEmptyArray } from \"./arrays.js\";\nimport { isExecutionPatchIncrementalResult } from \"./incrementalResult.js\";\nexport function graphQLResultHasError(result) {\n    var errors = getGraphQLErrorsFromResult(result);\n    return isNonEmptyArray(errors);\n}\nexport function getGraphQLErrorsFromResult(result) {\n    var graphQLErrors = isNonEmptyArray(result.errors)\n        ? result.errors.slice(0)\n        : [];\n    if (isExecutionPatchIncrementalResult(result) &&\n        isNonEmptyArray(result.incremental)) {\n        result.incremental.forEach(function (incrementalResult) {\n            if (incrementalResult.errors) {\n                graphQLErrors.push.apply(graphQLErrors, incrementalResult.errors);\n            }\n        });\n    }\n    return graphQLErrors;\n}\n//# sourceMappingURL=errorHandling.js.map","export function iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\n//# sourceMappingURL=iteration.js.map","import { Observable } from \"./Observable.js\";\nimport { canUseSymbol } from \"../common/canUse.js\";\nexport function fixObservableSubclass(subclass) {\n    function set(key) {\n        Object.defineProperty(subclass, key, { value: Observable });\n    }\n    if (canUseSymbol && Symbol.species) {\n        set(Symbol.species);\n    }\n    set(\"@@species\");\n    return subclass;\n}\n//# sourceMappingURL=subclassing.js.map","import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable.js\";\nimport { iterateObserversSafely } from \"./iteration.js\";\nimport { fixObservableSubclass } from \"./subclassing.js\";\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\nvar Concast = (function (_super) {\n    __extends(Concast, _super);\n    function Concast(sources) {\n        var _this = _super.call(this, function (observer) {\n            _this.addObserver(observer);\n            return function () { return _this.removeObserver(observer); };\n        }) || this;\n        _this.observers = new Set();\n        _this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        _this.handlers = {\n            next: function (result) {\n                if (_this.sub !== null) {\n                    _this.latest = [\"next\", result];\n                    _this.notify(\"next\", result);\n                    iterateObserversSafely(_this.observers, \"next\", result);\n                }\n            },\n            error: function (error) {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    if (sub)\n                        setTimeout(function () { return sub.unsubscribe(); });\n                    _this.sub = null;\n                    _this.latest = [\"error\", error];\n                    _this.reject(error);\n                    _this.notify(\"error\", error);\n                    iterateObserversSafely(_this.observers, \"error\", error);\n                }\n            },\n            complete: function () {\n                var _a = _this, sub = _a.sub, _b = _a.sources, sources = _b === void 0 ? [] : _b;\n                if (sub !== null) {\n                    var value = sources.shift();\n                    if (!value) {\n                        if (sub)\n                            setTimeout(function () { return sub.unsubscribe(); });\n                        _this.sub = null;\n                        if (_this.latest &&\n                            _this.latest[0] === \"next\") {\n                            _this.resolve(_this.latest[1]);\n                        }\n                        else {\n                            _this.resolve();\n                        }\n                        _this.notify(\"complete\");\n                        iterateObserversSafely(_this.observers, \"complete\");\n                    }\n                    else if (isPromiseLike(value)) {\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\n                    }\n                    else {\n                        _this.sub = value.subscribe(_this.handlers);\n                    }\n                }\n            },\n        };\n        _this.nextResultListeners = new Set();\n        _this.cancel = function (reason) {\n            _this.reject(reason);\n            _this.sources = [];\n            _this.handlers.complete();\n        };\n        _this.promise.catch(function (_) { });\n        if (typeof sources === \"function\") {\n            sources = [new Observable(sources)];\n        }\n        if (isPromiseLike(sources)) {\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\n        }\n        else {\n            _this.start(sources);\n        }\n        return _this;\n    }\n    Concast.prototype.start = function (sources) {\n        if (this.sub !== void 0)\n            return;\n        this.sources = Array.from(sources);\n        this.handlers.complete();\n    };\n    Concast.prototype.deliverLastMessage = function (observer) {\n        if (this.latest) {\n            var nextOrError = this.latest[0];\n            var method = observer[nextOrError];\n            if (method) {\n                method.call(observer, this.latest[1]);\n            }\n            if (this.sub === null &&\n                nextOrError === \"next\" &&\n                observer.complete) {\n                observer.complete();\n            }\n        }\n    };\n    Concast.prototype.addObserver = function (observer) {\n        if (!this.observers.has(observer)) {\n            this.deliverLastMessage(observer);\n            this.observers.add(observer);\n        }\n    };\n    Concast.prototype.removeObserver = function (observer) {\n        if (this.observers.delete(observer) &&\n            this.observers.size < 1) {\n            this.handlers.complete();\n        }\n    };\n    Concast.prototype.notify = function (method, arg) {\n        var nextResultListeners = this.nextResultListeners;\n        if (nextResultListeners.size) {\n            this.nextResultListeners = new Set;\n            nextResultListeners.forEach(function (listener) { return listener(method, arg); });\n        }\n    };\n    Concast.prototype.beforeNext = function (callback) {\n        var called = false;\n        this.nextResultListeners.add(function (method, arg) {\n            if (!called) {\n                called = true;\n                callback(method, arg);\n            }\n        });\n    };\n    return Concast;\n}(Observable));\nexport { Concast };\nfixObservableSubclass(Concast);\n//# sourceMappingURL=Concast.js.map","var toString = Object.prototype.toString;\nexport function cloneDeep(value) {\n    return cloneDeepHelper(value);\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n//# sourceMappingURL=cloneDeep.js.map","import { __rest } from \"tslib\";\nimport equal from \"@wry/equality\";\nimport { createFragmentMap, getFragmentDefinitions, getFragmentFromSelection, getMainDefinition, isField, resultKeyNameFromField, shouldInclude, } from \"../utilities/index.js\";\nexport function equalByQuery(query, _a, _b, variables) {\n    var aData = _a.data, aRest = __rest(_a, [\"data\"]);\n    var bData = _b.data, bRest = __rest(_b, [\"data\"]);\n    return (equal(aRest, bRest) &&\n        equalBySelectionSet(getMainDefinition(query).selectionSet, aData, bData, {\n            fragmentMap: createFragmentMap(getFragmentDefinitions(query)),\n            variables: variables,\n        }));\n}\nfunction equalBySelectionSet(selectionSet, aResult, bResult, context) {\n    if (aResult === bResult) {\n        return true;\n    }\n    var seenSelections = new Set();\n    return selectionSet.selections.every(function (selection) {\n        if (seenSelections.has(selection))\n            return true;\n        seenSelections.add(selection);\n        if (!shouldInclude(selection, context.variables))\n            return true;\n        if (selectionHasNonreactiveDirective(selection))\n            return true;\n        if (isField(selection)) {\n            var resultKey = resultKeyNameFromField(selection);\n            var aResultChild = aResult && aResult[resultKey];\n            var bResultChild = bResult && bResult[resultKey];\n            var childSelectionSet = selection.selectionSet;\n            if (!childSelectionSet) {\n                return equal(aResultChild, bResultChild);\n            }\n            var aChildIsArray = Array.isArray(aResultChild);\n            var bChildIsArray = Array.isArray(bResultChild);\n            if (aChildIsArray !== bChildIsArray)\n                return false;\n            if (aChildIsArray && bChildIsArray) {\n                var length_1 = aResultChild.length;\n                if (bResultChild.length !== length_1) {\n                    return false;\n                }\n                for (var i = 0; i < length_1; ++i) {\n                    if (!equalBySelectionSet(childSelectionSet, aResultChild[i], bResultChild[i], context)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            return equalBySelectionSet(childSelectionSet, aResultChild, bResultChild, context);\n        }\n        else {\n            var fragment = getFragmentFromSelection(selection, context.fragmentMap);\n            if (fragment) {\n                if (selectionHasNonreactiveDirective(fragment))\n                    return true;\n                return equalBySelectionSet(fragment.selectionSet, aResult, bResult, context);\n            }\n        }\n    });\n}\nfunction selectionHasNonreactiveDirective(selection) {\n    return (!!selection.directives && selection.directives.some(directiveIsNonreactive));\n}\nfunction directiveIsNonreactive(dir) {\n    return dir.name.value === \"nonreactive\";\n}\n//# sourceMappingURL=equalByQuery.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from '../utilities/globals/index.js';\nimport { equal } from '@wry/equality';\nimport { NetworkStatus, isNetworkRequestInFlight } from './networkStatus.js';\nimport { cloneDeep, compact, getOperationDefinition, Observable, iterateObserversSafely, fixObservableSubclass, getQueryDefinition, } from '../utilities/index.js';\nimport { equalByQuery } from './equalByQuery.js';\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\n        var _this = _super.call(this, function (observer) {\n            try {\n                var subObserver = observer._subscription._observer;\n                if (subObserver && !subObserver.error) {\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\n                }\n            }\n            catch (_a) { }\n            var first = !_this.observers.size;\n            _this.observers.add(observer);\n            var last = _this.last;\n            if (last && last.error) {\n                observer.error && observer.error(last.error);\n            }\n            else if (last && last.result) {\n                observer.next && observer.next(last.result);\n            }\n            if (first) {\n                _this.reobserve().catch(function () { });\n            }\n            return function () {\n                if (_this.observers.delete(observer) && !_this.observers.size) {\n                    _this.tearDownQuery();\n                }\n            };\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.queryInfo = queryInfo;\n        _this.queryManager = queryManager;\n        _this.waitForOwnResult = skipCacheDataFor(options.fetchPolicy);\n        _this.isTornDown = false;\n        var _b = queryManager.defaultOptions.watchQuery, _c = _b === void 0 ? {} : _b, _d = _c.fetchPolicy, defaultFetchPolicy = _d === void 0 ? \"cache-first\" : _d;\n        var _e = options.fetchPolicy, fetchPolicy = _e === void 0 ? defaultFetchPolicy : _e, _f = options.initialFetchPolicy, initialFetchPolicy = _f === void 0 ? (fetchPolicy === \"standby\" ? defaultFetchPolicy : fetchPolicy) : _f;\n        _this.options = __assign(__assign({}, options), { initialFetchPolicy: initialFetchPolicy, fetchPolicy: fetchPolicy });\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\n        var opDef = getOperationDefinition(_this.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        return _this;\n    }\n    Object.defineProperty(ObservableQuery.prototype, \"query\", {\n        get: function () {\n            return this.lastQuery || this.options.query;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\n        get: function () {\n            return this.options.variables;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\n        var lastResult = this.getLastResult(true);\n        var networkStatus = this.queryInfo.networkStatus ||\n            (lastResult && lastResult.networkStatus) ||\n            NetworkStatus.ready;\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\n        if (skipCacheDataFor(fetchPolicy) ||\n            this.queryManager.getDocumentInfo(this.query).hasForcedResolvers) {\n        }\n        else if (this.waitForOwnResult) {\n            this.queryInfo['updateWatch']();\n        }\n        else {\n            var diff = this.queryInfo.getDiff();\n            if (diff.complete || this.options.returnPartialData) {\n                result.data = diff.result;\n            }\n            if (equal(result.data, {})) {\n                result.data = void 0;\n            }\n            if (diff.complete) {\n                delete result.partial;\n                if (diff.complete &&\n                    result.networkStatus === NetworkStatus.loading &&\n                    (fetchPolicy === 'cache-first' ||\n                        fetchPolicy === 'cache-only')) {\n                    result.networkStatus = NetworkStatus.ready;\n                    result.loading = false;\n                }\n            }\n            else {\n                result.partial = true;\n            }\n            if (globalThis.__DEV__ !== false &&\n                !diff.complete &&\n                !this.options.partialRefetch &&\n                !result.loading &&\n                !result.data &&\n                !result.error) {\n                logMissingFieldErrors(diff.missing);\n            }\n        }\n        if (saveAsLastResult) {\n            this.updateLastResult(result);\n        }\n        return result;\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult, variables) {\n        if (!this.last) {\n            return true;\n        }\n        var resultIsDifferent = this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective\n            ? !equalByQuery(this.query, this.last.result, newResult, this.variables)\n            : !equal(this.last.result, newResult);\n        return (resultIsDifferent ||\n            (variables && !equal(this.last.variables, variables)));\n    };\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\n        var last = this.last;\n        if (last &&\n            last[key] &&\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\n            return last[key];\n        }\n    };\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\n        return this.getLast(\"result\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\n        return this.getLast(\"error\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.last;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        this.queryManager.resetErrors(this.queryId);\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var _a;\n        var reobserveOptions = {\n            pollInterval: 0,\n        };\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-and-network') {\n            reobserveOptions.fetchPolicy = fetchPolicy;\n        }\n        else if (fetchPolicy === 'no-cache') {\n            reobserveOptions.fetchPolicy = 'no-cache';\n        }\n        else {\n            reobserveOptions.fetchPolicy = 'network-only';\n        }\n        if (globalThis.__DEV__ !== false && variables && hasOwnProperty.call(variables, \"variables\")) {\n            var queryDef = getQueryDefinition(this.query);\n            var vars = queryDef.variableDefinitions;\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\n                globalThis.__DEV__ !== false && invariant.warn(\n                    18,\n                    variables,\n                    ((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || queryDef\n                );\n            }\n        }\n        if (variables && !equal(this.options.variables, variables)) {\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\n        }\n        this.queryInfo.resetLastWrite();\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign(__assign({}, this.options), { query: this.options.query }), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\n        combinedOptions.query = this.transformDocument(combinedOptions.query);\n        var qid = this.queryManager.generateQueryId();\n        this.lastQuery = fetchMoreOptions.query\n            ? this.transformDocument(this.options.query)\n            : combinedOptions.query;\n        var queryInfo = this.queryInfo;\n        var originalNetworkStatus = queryInfo.networkStatus;\n        queryInfo.networkStatus = NetworkStatus.fetchMore;\n        if (combinedOptions.notifyOnNetworkStatusChange) {\n            this.observe();\n        }\n        var updatedQuerySet = new Set();\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\n            _this.queryManager.removeQuery(qid);\n            if (queryInfo.networkStatus === NetworkStatus.fetchMore) {\n                queryInfo.networkStatus = originalNetworkStatus;\n            }\n            _this.queryManager.cache.batch({\n                update: function (cache) {\n                    var updateQuery = fetchMoreOptions.updateQuery;\n                    if (updateQuery) {\n                        cache.updateQuery({\n                            query: _this.query,\n                            variables: _this.variables,\n                            returnPartialData: true,\n                            optimistic: false,\n                        }, function (previous) { return updateQuery(previous, {\n                            fetchMoreResult: fetchMoreResult.data,\n                            variables: combinedOptions.variables,\n                        }); });\n                    }\n                    else {\n                        cache.writeQuery({\n                            query: combinedOptions.query,\n                            variables: combinedOptions.variables,\n                            data: fetchMoreResult.data,\n                        });\n                    }\n                },\n                onWatchUpdated: function (watch) {\n                    updatedQuerySet.add(watch.query);\n                },\n            });\n            return fetchMoreResult;\n        }).finally(function () {\n            if (!updatedQuerySet.has(_this.query)) {\n                reobserveCacheFirst(_this);\n            }\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n            context: options.context,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                globalThis.__DEV__ !== false && invariant.error(19, err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (newOptions) {\n        return this.reobserve(newOptions);\n    };\n    ObservableQuery.prototype.silentSetOptions = function (newOptions) {\n        var mergedOptions = compact(this.options, newOptions || {});\n        assign(this.options, mergedOptions);\n    };\n    ObservableQuery.prototype.setVariables = function (variables) {\n        if (equal(this.variables, variables)) {\n            return this.observers.size\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.reobserve({\n            fetchPolicy: this.options.initialFetchPolicy,\n            variables: variables,\n        }, NetworkStatus.setVariables);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var result = queryManager.cache.diff({\n            query: this.options.query,\n            variables: this.variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n        var newResult = mapFn(result, {\n            variables: this.variables,\n        });\n        if (newResult) {\n            queryManager.cache.writeQuery({\n                query: this.options.query,\n                data: newResult,\n                variables: this.variables,\n            });\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        this.options.pollInterval = pollInterval;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.options.pollInterval = 0;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.applyNextFetchPolicy = function (reason, options) {\n        if (options.nextFetchPolicy) {\n            var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.initialFetchPolicy, initialFetchPolicy = _b === void 0 ? fetchPolicy : _b;\n            if (fetchPolicy === \"standby\") {\n            }\n            else if (typeof options.nextFetchPolicy === \"function\") {\n                options.fetchPolicy = options.nextFetchPolicy(fetchPolicy, {\n                    reason: reason,\n                    options: options,\n                    observable: this,\n                    initialFetchPolicy: initialFetchPolicy,\n                });\n            }\n            else if (reason === \"variables-changed\") {\n                options.fetchPolicy = initialFetchPolicy;\n            }\n            else {\n                options.fetchPolicy = options.nextFetchPolicy;\n            }\n        }\n        return options.fetchPolicy;\n    };\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\n        this.queryManager.setObservableQuery(this);\n        return this.queryManager['fetchConcastWithInfo'](this.queryId, options, newNetworkStatus);\n    };\n    ObservableQuery.prototype.updatePolling = function () {\n        var _this = this;\n        if (this.queryManager.ssrMode) {\n            return;\n        }\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\n        if (!pollInterval) {\n            if (pollingInfo) {\n                clearTimeout(pollingInfo.timeout);\n                delete this.pollingInfo;\n            }\n            return;\n        }\n        if (pollingInfo &&\n            pollingInfo.interval === pollInterval) {\n            return;\n        }\n        invariant(pollInterval, 20);\n        var info = pollingInfo || (this.pollingInfo = {});\n        info.interval = pollInterval;\n        var maybeFetch = function () {\n            if (_this.pollingInfo) {\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\n                    _this.reobserve({\n                        fetchPolicy: _this.options.initialFetchPolicy === 'no-cache' ? 'no-cache' : 'network-only',\n                    }, NetworkStatus.poll).then(poll, poll);\n                }\n                else {\n                    poll();\n                }\n            }\n            ;\n        };\n        var poll = function () {\n            var info = _this.pollingInfo;\n            if (info) {\n                clearTimeout(info.timeout);\n                info.timeout = setTimeout(maybeFetch, info.interval);\n            }\n        };\n        poll();\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\n        if (variables === void 0) { variables = this.variables; }\n        var error = this.getLastError();\n        if (error && this.last && !equal(variables, this.last.variables)) {\n            error = void 0;\n        }\n        return this.last = __assign({ result: this.queryManager.assumeImmutableResults\n                ? newResult\n                : cloneDeep(newResult), variables: variables }, (error ? { error: error } : null));\n    };\n    ObservableQuery.prototype.reobserveAsConcast = function (newOptions, newNetworkStatus) {\n        var _this = this;\n        this.isTornDown = false;\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\n            newNetworkStatus === NetworkStatus.fetchMore ||\n            newNetworkStatus === NetworkStatus.poll;\n        var oldVariables = this.options.variables;\n        var oldFetchPolicy = this.options.fetchPolicy;\n        var mergedOptions = compact(this.options, newOptions || {});\n        var options = useDisposableConcast\n            ? mergedOptions\n            : assign(this.options, mergedOptions);\n        var query = this.transformDocument(options.query);\n        this.lastQuery = query;\n        if (!useDisposableConcast) {\n            this.updatePolling();\n            if (newOptions &&\n                newOptions.variables &&\n                !equal(newOptions.variables, oldVariables) &&\n                options.fetchPolicy !== \"standby\" &&\n                options.fetchPolicy === oldFetchPolicy) {\n                this.applyNextFetchPolicy(\"variables-changed\", options);\n                if (newNetworkStatus === void 0) {\n                    newNetworkStatus = NetworkStatus.setVariables;\n                }\n            }\n        }\n        var fetchOptions = query === options.query ? options : __assign(__assign({}, options), { query: query });\n        this.waitForOwnResult && (this.waitForOwnResult = skipCacheDataFor(fetchOptions.fetchPolicy));\n        var finishWaitingForOwnResult = function () {\n            if (_this.concast === concast) {\n                _this.waitForOwnResult = false;\n            }\n        };\n        var variables = fetchOptions.variables && __assign({}, fetchOptions.variables);\n        var _a = this.fetch(fetchOptions, newNetworkStatus), concast = _a.concast, fromLink = _a.fromLink;\n        var observer = {\n            next: function (result) {\n                finishWaitingForOwnResult();\n                _this.reportResult(result, variables);\n            },\n            error: function (error) {\n                finishWaitingForOwnResult();\n                _this.reportError(error, variables);\n            },\n        };\n        if (!useDisposableConcast && (fromLink || !this.concast)) {\n            if (this.concast && this.observer) {\n                this.concast.removeObserver(this.observer);\n            }\n            this.concast = concast;\n            this.observer = observer;\n        }\n        concast.addObserver(observer);\n        return concast;\n    };\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\n        return this.reobserveAsConcast(newOptions, newNetworkStatus).promise;\n    };\n    ObservableQuery.prototype.observe = function () {\n        this.reportResult(this.getCurrentResult(false), this.variables);\n    };\n    ObservableQuery.prototype.reportResult = function (result, variables) {\n        var lastError = this.getLastError();\n        var isDifferent = this.isDifferentFromLastResult(result, variables);\n        if (lastError || !result.partial || this.options.returnPartialData) {\n            this.updateLastResult(result, variables);\n        }\n        if (lastError || isDifferent) {\n            iterateObserversSafely(this.observers, \"next\", result);\n        }\n    };\n    ObservableQuery.prototype.reportError = function (error, variables) {\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\n        this.updateLastResult(errorResult, variables);\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\n    };\n    ObservableQuery.prototype.hasObservers = function () {\n        return this.observers.size > 0;\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        if (this.isTornDown)\n            return;\n        if (this.concast && this.observer) {\n            this.concast.removeObserver(this.observer);\n            delete this.concast;\n            delete this.observer;\n        }\n        this.stopPolling();\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        this.queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n        this.isTornDown = true;\n    };\n    ObservableQuery.prototype.transformDocument = function (document) {\n        return this.queryManager.transform(document);\n    };\n    return ObservableQuery;\n}(Observable));\nexport { ObservableQuery };\nfixObservableSubclass(ObservableQuery);\nexport function reobserveCacheFirst(obsQuery) {\n    var _a = obsQuery.options, fetchPolicy = _a.fetchPolicy, nextFetchPolicy = _a.nextFetchPolicy;\n    if (fetchPolicy === \"cache-and-network\" ||\n        fetchPolicy === \"network-only\") {\n        return obsQuery.reobserve({\n            fetchPolicy: \"cache-first\",\n            nextFetchPolicy: function () {\n                this.nextFetchPolicy = nextFetchPolicy;\n                if (typeof nextFetchPolicy === \"function\") {\n                    return nextFetchPolicy.apply(this, arguments);\n                }\n                return fetchPolicy;\n            },\n        });\n    }\n    return obsQuery.reobserve();\n}\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    globalThis.__DEV__ !== false && invariant.error(21, error.message, error.stack);\n}\nexport function logMissingFieldErrors(missing) {\n    if (globalThis.__DEV__ !== false && missing) {\n        globalThis.__DEV__ !== false && invariant.debug(22, missing);\n    }\n}\nfunction skipCacheDataFor(fetchPolicy) {\n    return fetchPolicy === \"network-only\" || fetchPolicy === \"no-cache\" || fetchPolicy === \"standby\";\n}\n//# sourceMappingURL=ObservableQuery.js.map","import { Kind } from \"./kinds.mjs\";\nexport function isDefinitionNode(node) {\n  return isExecutableDefinitionNode(node) || isTypeSystemDefinitionNode(node) || isTypeSystemExtensionNode(node);\n}\nexport function isExecutableDefinitionNode(node) {\n  return node.kind === Kind.OPERATION_DEFINITION || node.kind === Kind.FRAGMENT_DEFINITION;\n}\nexport function isSelectionNode(node) {\n  return node.kind === Kind.FIELD || node.kind === Kind.FRAGMENT_SPREAD || node.kind === Kind.INLINE_FRAGMENT;\n}\nexport function isValueNode(node) {\n  return node.kind === Kind.VARIABLE || node.kind === Kind.INT || node.kind === Kind.FLOAT || node.kind === Kind.STRING || node.kind === Kind.BOOLEAN || node.kind === Kind.NULL || node.kind === Kind.ENUM || node.kind === Kind.LIST || node.kind === Kind.OBJECT;\n}\nexport function isTypeNode(node) {\n  return node.kind === Kind.NAMED_TYPE || node.kind === Kind.LIST_TYPE || node.kind === Kind.NON_NULL_TYPE;\n}\nexport function isTypeSystemDefinitionNode(node) {\n  return node.kind === Kind.SCHEMA_DEFINITION || isTypeDefinitionNode(node) || node.kind === Kind.DIRECTIVE_DEFINITION;\n}\nexport function isTypeDefinitionNode(node) {\n  return node.kind === Kind.SCALAR_TYPE_DEFINITION || node.kind === Kind.OBJECT_TYPE_DEFINITION || node.kind === Kind.INTERFACE_TYPE_DEFINITION || node.kind === Kind.UNION_TYPE_DEFINITION || node.kind === Kind.ENUM_TYPE_DEFINITION || node.kind === Kind.INPUT_OBJECT_TYPE_DEFINITION;\n}\nexport function isTypeSystemExtensionNode(node) {\n  return node.kind === Kind.SCHEMA_EXTENSION || isTypeExtensionNode(node);\n}\nexport function isTypeExtensionNode(node) {\n  return node.kind === Kind.SCALAR_TYPE_EXTENSION || node.kind === Kind.OBJECT_TYPE_EXTENSION || node.kind === Kind.INTERFACE_TYPE_EXTENSION || node.kind === Kind.UNION_TYPE_EXTENSION || node.kind === Kind.ENUM_TYPE_EXTENSION || node.kind === Kind.INPUT_OBJECT_TYPE_EXTENSION;\n}\n","function defaultDispose() { }\nexport class Cache {\n    constructor(max = Infinity, dispose = defaultDispose) {\n        this.max = max;\n        this.dispose = dispose;\n        this.map = new Map();\n        this.newest = null;\n        this.oldest = null;\n    }\n    has(key) {\n        return this.map.has(key);\n    }\n    get(key) {\n        const node = this.getNode(key);\n        return node && node.value;\n    }\n    getNode(key) {\n        const node = this.map.get(key);\n        if (node && node !== this.newest) {\n            const { older, newer } = node;\n            if (newer) {\n                newer.older = older;\n            }\n            if (older) {\n                older.newer = newer;\n            }\n            node.older = this.newest;\n            node.older.newer = node;\n            node.newer = null;\n            this.newest = node;\n            if (node === this.oldest) {\n                this.oldest = newer;\n            }\n        }\n        return node;\n    }\n    set(key, value) {\n        let node = this.getNode(key);\n        if (node) {\n            return node.value = value;\n        }\n        node = {\n            key,\n            value,\n            newer: null,\n            older: this.newest\n        };\n        if (this.newest) {\n            this.newest.newer = node;\n        }\n        this.newest = node;\n        this.oldest = this.oldest || node;\n        this.map.set(key, node);\n        return node.value;\n    }\n    clean() {\n        while (this.oldest && this.map.size > this.max) {\n            this.delete(this.oldest.key);\n        }\n    }\n    delete(key) {\n        const node = this.map.get(key);\n        if (node) {\n            if (node === this.newest) {\n                this.newest = node.older;\n            }\n            if (node === this.oldest) {\n                this.oldest = node.newer;\n            }\n            if (node.newer) {\n                node.newer.older = node.older;\n            }\n            if (node.older) {\n                node.older.newer = node.newer;\n            }\n            this.map.delete(key);\n            this.dispose(node.value, key);\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=cache.js.map","// This currentContext variable will only be used if the makeSlotClass\n// function is called, which happens only if this is the first copy of the\n// @wry/context package to be imported.\nlet currentContext = null;\n// This unique internal object is used to denote the absence of a value\n// for a given Slot, and is never exposed to outside code.\nconst MISSING_VALUE = {};\nlet idCounter = 1;\n// Although we can't do anything about the cost of duplicated code from\n// accidentally bundling multiple copies of the @wry/context package, we can\n// avoid creating the Slot class more than once using makeSlotClass.\nconst makeSlotClass = () => class Slot {\n    constructor() {\n        // If you have a Slot object, you can find out its slot.id, but you cannot\n        // guess the slot.id of a Slot you don't have access to, thanks to the\n        // randomized suffix.\n        this.id = [\n            \"slot\",\n            idCounter++,\n            Date.now(),\n            Math.random().toString(36).slice(2),\n        ].join(\":\");\n    }\n    hasValue() {\n        for (let context = currentContext; context; context = context.parent) {\n            // We use the Slot object iself as a key to its value, which means the\n            // value cannot be obtained without a reference to the Slot object.\n            if (this.id in context.slots) {\n                const value = context.slots[this.id];\n                if (value === MISSING_VALUE)\n                    break;\n                if (context !== currentContext) {\n                    // Cache the value in currentContext.slots so the next lookup will\n                    // be faster. This caching is safe because the tree of contexts and\n                    // the values of the slots are logically immutable.\n                    currentContext.slots[this.id] = value;\n                }\n                return true;\n            }\n        }\n        if (currentContext) {\n            // If a value was not found for this Slot, it's never going to be found\n            // no matter how many times we look it up, so we might as well cache\n            // the absence of the value, too.\n            currentContext.slots[this.id] = MISSING_VALUE;\n        }\n        return false;\n    }\n    getValue() {\n        if (this.hasValue()) {\n            return currentContext.slots[this.id];\n        }\n    }\n    withValue(value, callback, \n    // Given the prevalence of arrow functions, specifying arguments is likely\n    // to be much more common than specifying `this`, hence this ordering:\n    args, thisArg) {\n        const slots = {\n            __proto__: null,\n            [this.id]: value,\n        };\n        const parent = currentContext;\n        currentContext = { parent, slots };\n        try {\n            // Function.prototype.apply allows the arguments array argument to be\n            // omitted or undefined, so args! is fine here.\n            return callback.apply(thisArg, args);\n        }\n        finally {\n            currentContext = parent;\n        }\n    }\n    // Capture the current context and wrap a callback function so that it\n    // reestablishes the captured context when called.\n    static bind(callback) {\n        const context = currentContext;\n        return function () {\n            const saved = currentContext;\n            try {\n                currentContext = context;\n                return callback.apply(this, arguments);\n            }\n            finally {\n                currentContext = saved;\n            }\n        };\n    }\n    // Immediately run a callback function without any captured context.\n    static noContext(callback, \n    // Given the prevalence of arrow functions, specifying arguments is likely\n    // to be much more common than specifying `this`, hence this ordering:\n    args, thisArg) {\n        if (currentContext) {\n            const saved = currentContext;\n            try {\n                currentContext = null;\n                // Function.prototype.apply allows the arguments array argument to be\n                // omitted or undefined, so args! is fine here.\n                return callback.apply(thisArg, args);\n            }\n            finally {\n                currentContext = saved;\n            }\n        }\n        else {\n            return callback.apply(thisArg, args);\n        }\n    }\n};\nfunction maybe(fn) {\n    try {\n        return fn();\n    }\n    catch (ignored) { }\n}\n// We store a single global implementation of the Slot class as a permanent\n// non-enumerable property of the globalThis object. This obfuscation does\n// nothing to prevent access to the Slot class, but at least it ensures the\n// implementation (i.e. currentContext) cannot be tampered with, and all copies\n// of the @wry/context package (hopefully just one) will share the same Slot\n// implementation. Since the first copy of the @wry/context package to be\n// imported wins, this technique imposes a steep cost for any future breaking\n// changes to the Slot class.\nconst globalKey = \"@wry/context:Slot\";\nconst host = \n// Prefer globalThis when available.\n// https://github.com/benjamn/wryware/issues/347\nmaybe(() => globalThis) ||\n    // Fall back to global, which works in Node.js and may be converted by some\n    // bundlers to the appropriate identifier (window, self, ...) depending on the\n    // bundling target. https://github.com/endojs/endo/issues/576#issuecomment-1178515224\n    maybe(() => global) ||\n    // Otherwise, use a dummy host that's local to this module. We used to fall\n    // back to using the Array constructor as a namespace, but that was flagged in\n    // https://github.com/benjamn/wryware/issues/347, and can be avoided.\n    Object.create(null);\n// Whichever globalHost we're using, make TypeScript happy about the additional\n// globalKey property.\nconst globalHost = host;\nexport const Slot = globalHost[globalKey] ||\n    // Earlier versions of this package stored the globalKey property on the Array\n    // constructor, so we check there as well, to prevent Slot class duplication.\n    Array[globalKey] ||\n    (function (Slot) {\n        try {\n            Object.defineProperty(globalHost, globalKey, {\n                value: Slot,\n                enumerable: false,\n                writable: false,\n                // When it was possible for globalHost to be the Array constructor (a\n                // legacy Slot dedup strategy), it was important for the property to be\n                // configurable:true so it could be deleted. That does not seem to be as\n                // important when globalHost is the global object, but I don't want to\n                // cause similar problems again, and configurable:true seems safest.\n                // https://github.com/endojs/endo/issues/576#issuecomment-1178274008\n                configurable: true\n            });\n        }\n        finally {\n            return Slot;\n        }\n    })(makeSlotClass());\n//# sourceMappingURL=slot.js.map","import { Slot } from \"./slot.js\";\nexport { Slot };\nexport const { bind, noContext } = Slot;\n// Like global.setTimeout, except the callback runs with captured context.\nexport { setTimeoutWithContext as setTimeout };\nfunction setTimeoutWithContext(callback, delay) {\n    return setTimeout(bind(callback), delay);\n}\n// Turn any generator function into an async function (using yield instead\n// of await), with context automatically preserved across yields.\nexport function asyncFromGen(genFn) {\n    return function () {\n        const gen = genFn.apply(this, arguments);\n        const boundNext = bind(gen.next);\n        const boundThrow = bind(gen.throw);\n        return new Promise((resolve, reject) => {\n            function invoke(method, argument) {\n                try {\n                    var result = method.call(gen, argument);\n                }\n                catch (error) {\n                    return reject(error);\n                }\n                const next = result.done ? resolve : invokeNext;\n                if (isPromiseLike(result.value)) {\n                    result.value.then(next, result.done ? reject : invokeThrow);\n                }\n                else {\n                    next(result.value);\n                }\n            }\n            const invokeNext = (value) => invoke(boundNext, value);\n            const invokeThrow = (error) => invoke(boundThrow, error);\n            invokeNext();\n        });\n    };\n}\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\n// If you use the fibers npm package to implement coroutines in Node.js,\n// you should call this function at least once to ensure context management\n// remains coherent across any yields.\nconst wrappedFibers = [];\nexport function wrapYieldingFiberMethods(Fiber) {\n    // There can be only one implementation of Fiber per process, so this array\n    // should never grow longer than one element.\n    if (wrappedFibers.indexOf(Fiber) < 0) {\n        const wrap = (obj, method) => {\n            const fn = obj[method];\n            obj[method] = function () {\n                return noContext(fn, arguments, this);\n            };\n        };\n        // These methods can yield, according to\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\n        wrap(Fiber, \"yield\");\n        wrap(Fiber.prototype, \"run\");\n        wrap(Fiber.prototype, \"throwInto\");\n        wrappedFibers.push(Fiber);\n    }\n    return Fiber;\n}\n//# sourceMappingURL=index.js.map","import { Slot } from \"@wry/context\";\nexport const parentEntrySlot = new Slot();\nexport function nonReactive(fn) {\n    return parentEntrySlot.withValue(void 0, fn);\n}\nexport { bind as bindContext, noContext, setTimeout, asyncFromGen, } from \"@wry/context\";\n//# sourceMappingURL=context.js.map","export const { hasOwnProperty, } = Object.prototype;\nexport const arrayFromSet = Array.from ||\n    function (set) {\n        const array = [];\n        set.forEach(item => array.push(item));\n        return array;\n    };\nexport function maybeUnsubscribe(entryOrDep) {\n    const { unsubscribe } = entryOrDep;\n    if (typeof unsubscribe === \"function\") {\n        entryOrDep.unsubscribe = void 0;\n        unsubscribe();\n    }\n}\n//# sourceMappingURL=helpers.js.map","import { parentEntrySlot } from \"./context.js\";\nimport { maybeUnsubscribe, arrayFromSet } from \"./helpers.js\";\nconst emptySetPool = [];\nconst POOL_TARGET_SIZE = 100;\n// Since this package might be used browsers, we should avoid using the\n// Node built-in assert module.\nfunction assert(condition, optionalMessage) {\n    if (!condition) {\n        throw new Error(optionalMessage || \"assertion failure\");\n    }\n}\nfunction valueIs(a, b) {\n    const len = a.length;\n    return (\n    // Unknown values are not equal to each other.\n    len > 0 &&\n        // Both values must be ordinary (or both exceptional) to be equal.\n        len === b.length &&\n        // The underlying value or exception must be the same.\n        a[len - 1] === b[len - 1]);\n}\nfunction valueGet(value) {\n    switch (value.length) {\n        case 0: throw new Error(\"unknown value\");\n        case 1: return value[0];\n        case 2: throw value[1];\n    }\n}\nfunction valueCopy(value) {\n    return value.slice(0);\n}\nexport class Entry {\n    constructor(fn) {\n        this.fn = fn;\n        this.parents = new Set();\n        this.childValues = new Map();\n        // When this Entry has children that are dirty, this property becomes\n        // a Set containing other Entry objects, borrowed from emptySetPool.\n        // When the set becomes empty, it gets recycled back to emptySetPool.\n        this.dirtyChildren = null;\n        this.dirty = true;\n        this.recomputing = false;\n        this.value = [];\n        this.deps = null;\n        ++Entry.count;\n    }\n    peek() {\n        if (this.value.length === 1 && !mightBeDirty(this)) {\n            rememberParent(this);\n            return this.value[0];\n        }\n    }\n    // This is the most important method of the Entry API, because it\n    // determines whether the cached this.value can be returned immediately,\n    // or must be recomputed. The overall performance of the caching system\n    // depends on the truth of the following observations: (1) this.dirty is\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\n    // (3) valueGet(this.value) is usually returned without recomputation.\n    recompute(args) {\n        assert(!this.recomputing, \"already recomputing\");\n        rememberParent(this);\n        return mightBeDirty(this)\n            ? reallyRecompute(this, args)\n            : valueGet(this.value);\n    }\n    setDirty() {\n        if (this.dirty)\n            return;\n        this.dirty = true;\n        this.value.length = 0;\n        reportDirty(this);\n        // We can go ahead and unsubscribe here, since any further dirty\n        // notifications we receive will be redundant, and unsubscribing may\n        // free up some resources, e.g. file watchers.\n        maybeUnsubscribe(this);\n    }\n    dispose() {\n        this.setDirty();\n        // Sever any dependency relationships with our own children, so those\n        // children don't retain this parent Entry in their child.parents sets,\n        // thereby preventing it from being fully garbage collected.\n        forgetChildren(this);\n        // Because this entry has been kicked out of the cache (in index.js),\n        // we've lost the ability to find out if/when this entry becomes dirty,\n        // whether that happens through a subscription, because of a direct call\n        // to entry.setDirty(), or because one of its children becomes dirty.\n        // Because of this loss of future information, we have to assume the\n        // worst (that this entry might have become dirty very soon), so we must\n        // immediately mark this entry's parents as dirty. Normally we could\n        // just call entry.setDirty() rather than calling parent.setDirty() for\n        // each parent, but that would leave this entry in parent.childValues\n        // and parent.dirtyChildren, which would prevent the child from being\n        // truly forgotten.\n        eachParent(this, (parent, child) => {\n            parent.setDirty();\n            forgetChild(parent, this);\n        });\n    }\n    forget() {\n        // The code that creates Entry objects in index.ts will replace this method\n        // with one that actually removes the Entry from the cache, which will also\n        // trigger the entry.dispose method.\n        this.dispose();\n    }\n    dependOn(dep) {\n        dep.add(this);\n        if (!this.deps) {\n            this.deps = emptySetPool.pop() || new Set();\n        }\n        this.deps.add(dep);\n    }\n    forgetDeps() {\n        if (this.deps) {\n            arrayFromSet(this.deps).forEach(dep => dep.delete(this));\n            this.deps.clear();\n            emptySetPool.push(this.deps);\n            this.deps = null;\n        }\n    }\n}\nEntry.count = 0;\nfunction rememberParent(child) {\n    const parent = parentEntrySlot.getValue();\n    if (parent) {\n        child.parents.add(parent);\n        if (!parent.childValues.has(child)) {\n            parent.childValues.set(child, []);\n        }\n        if (mightBeDirty(child)) {\n            reportDirtyChild(parent, child);\n        }\n        else {\n            reportCleanChild(parent, child);\n        }\n        return parent;\n    }\n}\nfunction reallyRecompute(entry, args) {\n    forgetChildren(entry);\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry, args]);\n    if (maybeSubscribe(entry, args)) {\n        // If we successfully recomputed entry.value and did not fail to\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\n        setClean(entry);\n    }\n    return valueGet(entry.value);\n}\nfunction recomputeNewValue(entry, args) {\n    entry.recomputing = true;\n    // Set entry.value as unknown.\n    entry.value.length = 0;\n    try {\n        // If entry.fn succeeds, entry.value will become a normal Value.\n        entry.value[0] = entry.fn.apply(null, args);\n    }\n    catch (e) {\n        // If entry.fn throws, entry.value will become exceptional.\n        entry.value[1] = e;\n    }\n    // Either way, this line is always reached.\n    entry.recomputing = false;\n}\nfunction mightBeDirty(entry) {\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\n}\nfunction setClean(entry) {\n    entry.dirty = false;\n    if (mightBeDirty(entry)) {\n        // This Entry may still have dirty children, in which case we can't\n        // let our parents know we're clean just yet.\n        return;\n    }\n    reportClean(entry);\n}\nfunction reportDirty(child) {\n    eachParent(child, reportDirtyChild);\n}\nfunction reportClean(child) {\n    eachParent(child, reportCleanChild);\n}\nfunction eachParent(child, callback) {\n    const parentCount = child.parents.size;\n    if (parentCount) {\n        const parents = arrayFromSet(child.parents);\n        for (let i = 0; i < parentCount; ++i) {\n            callback(parents[i], child);\n        }\n    }\n}\n// Let a parent Entry know that one of its children may be dirty.\nfunction reportDirtyChild(parent, child) {\n    // Must have called rememberParent(child) before calling\n    // reportDirtyChild(parent, child).\n    assert(parent.childValues.has(child));\n    assert(mightBeDirty(child));\n    const parentWasClean = !mightBeDirty(parent);\n    if (!parent.dirtyChildren) {\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\n    }\n    else if (parent.dirtyChildren.has(child)) {\n        // If we already know this child is dirty, then we must have already\n        // informed our own parents that we are dirty, so we can terminate\n        // the recursion early.\n        return;\n    }\n    parent.dirtyChildren.add(child);\n    // If parent was clean before, it just became (possibly) dirty (according to\n    // mightBeDirty), since we just added child to parent.dirtyChildren.\n    if (parentWasClean) {\n        reportDirty(parent);\n    }\n}\n// Let a parent Entry know that one of its children is no longer dirty.\nfunction reportCleanChild(parent, child) {\n    // Must have called rememberChild(child) before calling\n    // reportCleanChild(parent, child).\n    assert(parent.childValues.has(child));\n    assert(!mightBeDirty(child));\n    const childValue = parent.childValues.get(child);\n    if (childValue.length === 0) {\n        parent.childValues.set(child, valueCopy(child.value));\n    }\n    else if (!valueIs(childValue, child.value)) {\n        parent.setDirty();\n    }\n    removeDirtyChild(parent, child);\n    if (mightBeDirty(parent)) {\n        return;\n    }\n    reportClean(parent);\n}\nfunction removeDirtyChild(parent, child) {\n    const dc = parent.dirtyChildren;\n    if (dc) {\n        dc.delete(child);\n        if (dc.size === 0) {\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\n                emptySetPool.push(dc);\n            }\n            parent.dirtyChildren = null;\n        }\n    }\n}\n// Removes all children from this entry and returns an array of the\n// removed children.\nfunction forgetChildren(parent) {\n    if (parent.childValues.size > 0) {\n        parent.childValues.forEach((_value, child) => {\n            forgetChild(parent, child);\n        });\n    }\n    // Remove this parent Entry from any sets to which it was added by the\n    // addToSet method.\n    parent.forgetDeps();\n    // After we forget all our children, this.dirtyChildren must be empty\n    // and therefore must have been reset to null.\n    assert(parent.dirtyChildren === null);\n}\nfunction forgetChild(parent, child) {\n    child.parents.delete(parent);\n    parent.childValues.delete(child);\n    removeDirtyChild(parent, child);\n}\nfunction maybeSubscribe(entry, args) {\n    if (typeof entry.subscribe === \"function\") {\n        try {\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\n            entry.unsubscribe = entry.subscribe.apply(null, args);\n        }\n        catch (e) {\n            // If this Entry has a subscribe function and it threw an exception\n            // (or an unsubscribe function it previously returned now throws),\n            // return false to indicate that we were not able to subscribe (or\n            // unsubscribe), and this Entry should remain dirty.\n            entry.setDirty();\n            return false;\n        }\n    }\n    // Returning true indicates either that there was no entry.subscribe\n    // function or that it succeeded.\n    return true;\n}\n//# sourceMappingURL=entry.js.map","import { parentEntrySlot } from \"./context.js\";\nimport { hasOwnProperty, maybeUnsubscribe, arrayFromSet, } from \"./helpers.js\";\nconst EntryMethods = {\n    setDirty: true,\n    dispose: true,\n    forget: true, // Fully remove parent Entry from LRU cache and computation graph\n};\nexport function dep(options) {\n    const depsByKey = new Map();\n    const subscribe = options && options.subscribe;\n    function depend(key) {\n        const parent = parentEntrySlot.getValue();\n        if (parent) {\n            let dep = depsByKey.get(key);\n            if (!dep) {\n                depsByKey.set(key, dep = new Set);\n            }\n            parent.dependOn(dep);\n            if (typeof subscribe === \"function\") {\n                maybeUnsubscribe(dep);\n                dep.unsubscribe = subscribe(key);\n            }\n        }\n    }\n    depend.dirty = function dirty(key, entryMethodName) {\n        const dep = depsByKey.get(key);\n        if (dep) {\n            const m = (entryMethodName &&\n                hasOwnProperty.call(EntryMethods, entryMethodName)) ? entryMethodName : \"setDirty\";\n            // We have to use arrayFromSet(dep).forEach instead of dep.forEach,\n            // because modifying a Set while iterating over it can cause elements in\n            // the Set to be removed from the Set before they've been iterated over.\n            arrayFromSet(dep).forEach(entry => entry[m]());\n            depsByKey.delete(key);\n            maybeUnsubscribe(dep);\n        }\n    };\n    return depend;\n}\n//# sourceMappingURL=dep.js.map","import { Trie } from \"@wry/trie\";\nimport { Cache } from \"./cache.js\";\nimport { Entry } from \"./entry.js\";\nimport { parentEntrySlot } from \"./context.js\";\n// These helper functions are important for making optimism work with\n// asynchronous code. In order to register parent-child dependencies,\n// optimism needs to know about any currently active parent computations.\n// In ordinary synchronous code, the parent context is implicit in the\n// execution stack, but asynchronous code requires some extra guidance in\n// order to propagate context from one async task segment to the next.\nexport { bindContext, noContext, nonReactive, setTimeout, asyncFromGen, } from \"./context.js\";\n// A lighter-weight dependency, similar to OptimisticWrapperFunction, except\n// with only one argument, no makeCacheKey, no wrapped function to recompute,\n// and no result value. Useful for representing dependency leaves in the graph\n// of computation. Subscriptions are supported.\nexport { dep } from \"./dep.js\";\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\n// a unique object for any shallow-identical list of arguments. If you need\n// to implement a custom makeCacheKey function, you may find it helpful to\n// delegate the final work to defaultMakeCacheKey, which is why we export it\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\n// does not support WeakMap, or you have the ability to return a string key.\n// In those cases, just write your own custom makeCacheKey functions.\nlet defaultKeyTrie;\nexport function defaultMakeCacheKey(...args) {\n    const trie = defaultKeyTrie || (defaultKeyTrie = new Trie(typeof WeakMap === \"function\"));\n    return trie.lookupArray(args);\n}\n// If you're paranoid about memory leaks, or you want to avoid using WeakMap\n// under the hood, but you still need the behavior of defaultMakeCacheKey,\n// import this constructor to create your own tries.\nexport { Trie as KeyTrie };\nconst caches = new Set();\nexport function wrap(originalFunction, { max = Math.pow(2, 16), makeCacheKey = defaultMakeCacheKey, keyArgs, subscribe, } = Object.create(null)) {\n    const cache = new Cache(max, entry => entry.dispose());\n    const optimistic = function () {\n        const key = makeCacheKey.apply(null, keyArgs ? keyArgs.apply(null, arguments) : arguments);\n        if (key === void 0) {\n            return originalFunction.apply(null, arguments);\n        }\n        let entry = cache.get(key);\n        if (!entry) {\n            cache.set(key, entry = new Entry(originalFunction));\n            entry.subscribe = subscribe;\n            // Give the Entry the ability to trigger cache.delete(key), even though\n            // the Entry itself does not know about key or cache.\n            entry.forget = () => cache.delete(key);\n        }\n        const value = entry.recompute(Array.prototype.slice.call(arguments));\n        // Move this entry to the front of the least-recently used queue,\n        // since we just finished computing its value.\n        cache.set(key, entry);\n        caches.add(cache);\n        // Clean up any excess entries in the cache, but only if there is no\n        // active parent entry, meaning we're not in the middle of a larger\n        // computation that might be flummoxed by the cleaning.\n        if (!parentEntrySlot.hasValue()) {\n            caches.forEach(cache => cache.clean());\n            caches.clear();\n        }\n        return value;\n    };\n    Object.defineProperty(optimistic, \"size\", {\n        get() {\n            return cache[\"map\"].size;\n        },\n        configurable: false,\n        enumerable: false,\n    });\n    Object.freeze(optimistic.options = {\n        max,\n        makeCacheKey,\n        keyArgs,\n        subscribe,\n    });\n    function dirtyKey(key) {\n        const entry = cache.get(key);\n        if (entry) {\n            entry.setDirty();\n        }\n    }\n    optimistic.dirtyKey = dirtyKey;\n    optimistic.dirty = function dirty() {\n        dirtyKey(makeCacheKey.apply(null, arguments));\n    };\n    function peekKey(key) {\n        const entry = cache.get(key);\n        if (entry) {\n            return entry.peek();\n        }\n    }\n    optimistic.peekKey = peekKey;\n    optimistic.peek = function peek() {\n        return peekKey(makeCacheKey.apply(null, arguments));\n    };\n    function forgetKey(key) {\n        return cache.delete(key);\n    }\n    optimistic.forgetKey = forgetKey;\n    optimistic.forget = function forget() {\n        return forgetKey(makeCacheKey.apply(null, arguments));\n    };\n    optimistic.makeCacheKey = makeCacheKey;\n    optimistic.getKey = keyArgs ? function getKey() {\n        return makeCacheKey.apply(null, keyArgs.apply(null, arguments));\n    } : makeCacheKey;\n    return Object.freeze(optimistic);\n}\n//# sourceMappingURL=index.js.map","import { dep } from \"optimism\";\nimport { Slot } from \"@wry/context\";\nexport var cacheSlot = new Slot();\nvar cacheInfoMap = new WeakMap();\nfunction getCacheInfo(cache) {\n    var info = cacheInfoMap.get(cache);\n    if (!info) {\n        cacheInfoMap.set(cache, info = {\n            vars: new Set,\n            dep: dep(),\n        });\n    }\n    return info;\n}\nexport function forgetCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\n}\nexport function recallCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\n}\nexport function makeVar(value) {\n    var caches = new Set();\n    var listeners = new Set();\n    var rv = function (newValue) {\n        if (arguments.length > 0) {\n            if (value !== newValue) {\n                value = newValue;\n                caches.forEach(function (cache) {\n                    getCacheInfo(cache).dep.dirty(rv);\n                    broadcast(cache);\n                });\n                var oldListeners = Array.from(listeners);\n                listeners.clear();\n                oldListeners.forEach(function (listener) { return listener(value); });\n            }\n        }\n        else {\n            var cache = cacheSlot.getValue();\n            if (cache) {\n                attach(cache);\n                getCacheInfo(cache).dep(rv);\n            }\n        }\n        return value;\n    };\n    rv.onNextChange = function (listener) {\n        listeners.add(listener);\n        return function () {\n            listeners.delete(listener);\n        };\n    };\n    var attach = rv.attachCache = function (cache) {\n        caches.add(cache);\n        getCacheInfo(cache).vars.add(rv);\n        return rv;\n    };\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\n    return rv;\n}\nfunction broadcast(cache) {\n    if (cache.broadcastWatches) {\n        cache.broadcastWatches();\n    }\n}\n//# sourceMappingURL=reactiveVars.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant } from '../utilities/globals/index.js';\nimport { visit, BREAK, isSelectionNode } from 'graphql';\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from '../utilities/index.js';\nimport { cacheSlot } from '../cache/index.js';\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.selectionsToResolveCache = new WeakMap();\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return removeClientSetsFromDocument(document);\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        var cache = this.cache;\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\n                return cache.identify(obj);\n            } });\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, selectionsToResolve, definitionOperation, defaultOperationType, _a, cache, client, execContext, isClientFieldDescendant;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                selectionsToResolve = this.collectSelectionsToResolve(mainDefinition, fragmentMap);\n                definitionOperation = mainDefinition.operation;\n                defaultOperationType = definitionOperation\n                    ? definitionOperation.charAt(0).toUpperCase() +\n                        definitionOperation.slice(1)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    selectionsToResolve: selectionsToResolve,\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                isClientFieldDescendant = false;\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, isClientFieldDescendant, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, isClientFieldDescendant, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!isClientFieldDescendant && !execContext.selectionsToResolve.has(selection)) {\n                            return [2];\n                        }\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, isClientFieldDescendant, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            invariant(fragment, 16, selection.name.value);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, isClientFieldDescendant, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, isClientFieldDescendant, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (!rootValue) {\n                    return [2, null];\n                }\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\n                                rootValue,\n                                argumentsObjectFromField(field, variables),\n                                execContext.context,\n                                { field: field, fragmentMap: execContext.fragmentMap },\n                            ]));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        var _a, _b;\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        var isClientField = (_b = (_a = field.directives) === null || _a === void 0 ? void 0 : _a.some(function (d) { return d.name.value === 'client'; })) !== null && _b !== void 0 ? _b : false;\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, isClientFieldDescendant || isClientField, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, isClientFieldDescendant || isClientField, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, isClientFieldDescendant, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, isClientFieldDescendant, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, isClientFieldDescendant, item, execContext);\n            }\n        }));\n    };\n    LocalState.prototype.collectSelectionsToResolve = function (mainDefinition, fragmentMap) {\n        var isSingleASTNode = function (node) { return !Array.isArray(node); };\n        var selectionsToResolveCache = this.selectionsToResolveCache;\n        function collectByDefinition(definitionNode) {\n            if (!selectionsToResolveCache.has(definitionNode)) {\n                var matches_1 = new Set();\n                selectionsToResolveCache.set(definitionNode, matches_1);\n                visit(definitionNode, {\n                    Directive: function (node, _, __, ___, ancestors) {\n                        if (node.name.value === 'client') {\n                            ancestors.forEach(function (node) {\n                                if (isSingleASTNode(node) && isSelectionNode(node)) {\n                                    matches_1.add(node);\n                                }\n                            });\n                        }\n                    },\n                    FragmentSpread: function (spread, _, __, ___, ancestors) {\n                        var fragment = fragmentMap[spread.name.value];\n                        invariant(fragment, 17, spread.name.value);\n                        var fragmentSelections = collectByDefinition(fragment);\n                        if (fragmentSelections.size > 0) {\n                            ancestors.forEach(function (node) {\n                                if (isSingleASTNode(node) && isSelectionNode(node)) {\n                                    matches_1.add(node);\n                                }\n                            });\n                            matches_1.add(spread);\n                            fragmentSelections.forEach(function (selection) {\n                                matches_1.add(selection);\n                            });\n                        }\n                    }\n                });\n            }\n            return selectionsToResolveCache.get(definitionNode);\n        }\n        return collectByDefinition(mainDefinition);\n    };\n    return LocalState;\n}());\nexport { LocalState };\n//# sourceMappingURL=LocalState.js.map","import { __assign } from \"tslib\";\nimport { equal } from \"@wry/equality\";\nimport { DeepMerger } from \"../utilities/index.js\";\nimport { mergeIncrementalData } from '../utilities/index.js';\nimport { reobserveCacheFirst } from './ObservableQuery.js';\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from '../utilities/index.js';\nimport { NetworkStatus, isNetworkRequestInFlight, } from './networkStatus.js';\n;\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\nfunction wrapDestructiveCacheMethod(cache, methodName) {\n    var original = cache[methodName];\n    if (typeof original === \"function\") {\n        cache[methodName] = function () {\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\n            return original.apply(this, arguments);\n        };\n    }\n}\nfunction cancelNotifyTimeout(info) {\n    if (info[\"notifyTimeout\"]) {\n        clearTimeout(info[\"notifyTimeout\"]);\n        info[\"notifyTimeout\"] = void 0;\n    }\n}\nvar QueryInfo = (function () {\n    function QueryInfo(queryManager, queryId) {\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\n        this.queryId = queryId;\n        this.listeners = new Set();\n        this.document = null;\n        this.lastRequestId = 1;\n        this.subscriptions = new Set();\n        this.stopped = false;\n        this.dirty = false;\n        this.observableQuery = null;\n        var cache = this.cache = queryManager.cache;\n        if (!destructiveMethodCounts.has(cache)) {\n            destructiveMethodCounts.set(cache, 0);\n            wrapDestructiveCacheMethod(cache, \"evict\");\n            wrapDestructiveCacheMethod(cache, \"modify\");\n            wrapDestructiveCacheMethod(cache, \"reset\");\n        }\n    }\n    QueryInfo.prototype.init = function (query) {\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\n        if (this.variables &&\n            this.networkStatus !== NetworkStatus.loading &&\n            !equal(this.variables, query.variables)) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        if (!equal(query.variables, this.variables)) {\n            this.lastDiff = void 0;\n        }\n        Object.assign(this, {\n            document: query.document,\n            variables: query.variables,\n            networkError: null,\n            graphQLErrors: this.graphQLErrors || [],\n            networkStatus: networkStatus,\n        });\n        if (query.observableQuery) {\n            this.setObservableQuery(query.observableQuery);\n        }\n        if (query.lastRequestId) {\n            this.lastRequestId = query.lastRequestId;\n        }\n        return this;\n    };\n    QueryInfo.prototype.reset = function () {\n        cancelNotifyTimeout(this);\n        this.dirty = false;\n    };\n    QueryInfo.prototype.getDiff = function (variables) {\n        if (variables === void 0) { variables = this.variables; }\n        var options = this.getDiffOptions(variables);\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\n            return this.lastDiff.diff;\n        }\n        this.updateWatch(this.variables = variables);\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return { complete: false };\n        }\n        var diff = this.cache.diff(options);\n        this.updateLastDiff(diff, options);\n        return diff;\n    };\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\n        this.lastDiff = diff ? {\n            diff: diff,\n            options: options || this.getDiffOptions(),\n        } : void 0;\n    };\n    QueryInfo.prototype.getDiffOptions = function (variables) {\n        var _a;\n        if (variables === void 0) { variables = this.variables; }\n        return {\n            query: this.document,\n            variables: variables,\n            returnPartialData: true,\n            optimistic: true,\n            canonizeResults: (_a = this.observableQuery) === null || _a === void 0 ? void 0 : _a.options.canonizeResults,\n        };\n    };\n    QueryInfo.prototype.setDiff = function (diff) {\n        var _this = this;\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\n        this.updateLastDiff(diff);\n        if (!this.dirty &&\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\n            this.dirty = true;\n            if (!this.notifyTimeout) {\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\n            }\n        }\n    };\n    QueryInfo.prototype.setObservableQuery = function (oq) {\n        var _this = this;\n        if (oq === this.observableQuery)\n            return;\n        if (this.oqListener) {\n            this.listeners.delete(this.oqListener);\n        }\n        this.observableQuery = oq;\n        if (oq) {\n            oq[\"queryInfo\"] = this;\n            this.listeners.add(this.oqListener = function () {\n                var diff = _this.getDiff();\n                if (diff.fromOptimisticTransaction) {\n                    oq[\"observe\"]();\n                }\n                else {\n                    reobserveCacheFirst(oq);\n                }\n            });\n        }\n        else {\n            delete this.oqListener;\n        }\n    };\n    QueryInfo.prototype.notify = function () {\n        var _this = this;\n        cancelNotifyTimeout(this);\n        if (this.shouldNotify()) {\n            this.listeners.forEach(function (listener) { return listener(_this); });\n        }\n        this.dirty = false;\n    };\n    QueryInfo.prototype.shouldNotify = function () {\n        if (!this.dirty || !this.listeners.size) {\n            return false;\n        }\n        if (isNetworkRequestInFlight(this.networkStatus) &&\n            this.observableQuery) {\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\n            if (fetchPolicy !== \"cache-only\" &&\n                fetchPolicy !== \"cache-and-network\") {\n                return false;\n            }\n        }\n        return true;\n    };\n    QueryInfo.prototype.stop = function () {\n        if (!this.stopped) {\n            this.stopped = true;\n            this.reset();\n            this.cancel();\n            this.cancel = QueryInfo.prototype.cancel;\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n            var oq = this.observableQuery;\n            if (oq)\n                oq.stopPolling();\n        }\n    };\n    QueryInfo.prototype.cancel = function () { };\n    QueryInfo.prototype.updateWatch = function (variables) {\n        var _this = this;\n        if (variables === void 0) { variables = this.variables; }\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return;\n        }\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\n        if (!this.lastWatch ||\n            !equal(watchOptions, this.lastWatch)) {\n            this.cancel();\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\n        }\n    };\n    QueryInfo.prototype.resetLastWrite = function () {\n        this.lastWrite = void 0;\n    };\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\n        var lastWrite = this.lastWrite;\n        return !(lastWrite &&\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\n            equal(variables, lastWrite.variables) &&\n            equal(result.data, lastWrite.result.data));\n    };\n    QueryInfo.prototype.markResult = function (result, document, options, cacheWriteBehavior) {\n        var _this = this;\n        var merger = new DeepMerger();\n        var graphQLErrors = isNonEmptyArray(result.errors)\n            ? result.errors.slice(0)\n            : [];\n        this.reset();\n        if ('incremental' in result && isNonEmptyArray(result.incremental)) {\n            var mergedData = mergeIncrementalData(this.getDiff().result, result);\n            result.data = mergedData;\n        }\n        else if ('hasNext' in result && result.hasNext) {\n            var diff = this.getDiff();\n            result.data = merger.merge(diff.result, result.data);\n        }\n        this.graphQLErrors = graphQLErrors;\n        if (options.fetchPolicy === 'no-cache') {\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\n        }\n        else if (cacheWriteBehavior !== 0) {\n            if (shouldWriteResult(result, options.errorPolicy)) {\n                this.cache.performTransaction(function (cache) {\n                    if (_this.shouldWrite(result, options.variables)) {\n                        cache.writeQuery({\n                            query: document,\n                            data: result.data,\n                            variables: options.variables,\n                            overwrite: cacheWriteBehavior === 1,\n                        });\n                        _this.lastWrite = {\n                            result: result,\n                            variables: options.variables,\n                            dmCount: destructiveMethodCounts.get(_this.cache),\n                        };\n                    }\n                    else {\n                        if (_this.lastDiff &&\n                            _this.lastDiff.diff.complete) {\n                            result.data = _this.lastDiff.diff.result;\n                            return;\n                        }\n                    }\n                    var diffOptions = _this.getDiffOptions(options.variables);\n                    var diff = cache.diff(diffOptions);\n                    if (!_this.stopped) {\n                        _this.updateWatch(options.variables);\n                    }\n                    _this.updateLastDiff(diff, diffOptions);\n                    if (diff.complete) {\n                        result.data = diff.result;\n                    }\n                });\n            }\n            else {\n                this.lastWrite = void 0;\n            }\n        }\n    };\n    QueryInfo.prototype.markReady = function () {\n        this.networkError = null;\n        return this.networkStatus = NetworkStatus.ready;\n    };\n    QueryInfo.prototype.markError = function (error) {\n        this.networkStatus = NetworkStatus.error;\n        this.lastWrite = void 0;\n        this.reset();\n        if (error.graphQLErrors) {\n            this.graphQLErrors = error.graphQLErrors;\n        }\n        if (error.networkError) {\n            this.networkError = error.networkError;\n        }\n        return error;\n    };\n    return QueryInfo;\n}());\nexport { QueryInfo };\nexport function shouldWriteResult(result, errorPolicy) {\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\n    var ignoreErrors = errorPolicy === \"ignore\" ||\n        errorPolicy === \"all\";\n    var writeWithErrors = !graphQLResultHasError(result);\n    if (!writeWithErrors && ignoreErrors && result.data) {\n        writeWithErrors = true;\n    }\n    return writeWithErrors;\n}\n//# sourceMappingURL=QueryInfo.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant, newInvariantError } from '../utilities/globals/index.js';\nimport { equal } from '@wry/equality';\nimport { execute } from '../link/core/index.js';\nimport { hasDirectives, isExecutionPatchIncrementalResult, isExecutionPatchResult, removeDirectivesFromDocument, } from '../utilities/index.js';\nimport { canonicalStringify } from '../cache/index.js';\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, getGraphQLErrorsFromResult, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, DocumentTransform, } from '../utilities/index.js';\nimport { mergeIncrementalData } from '../utilities/common/incrementalResult.js';\nimport { ApolloError, isApolloError, graphQLResultHasProtocolErrors } from '../errors/index.js';\nimport { ObservableQuery, logMissingFieldErrors } from './ObservableQuery.js';\nimport { NetworkStatus, isNetworkRequestInFlight } from './networkStatus.js';\nimport { LocalState } from './LocalState.js';\nimport { QueryInfo, shouldWriteResult, } from './QueryInfo.js';\nimport { PROTOCOL_ERRORS_SYMBOL } from '../errors/index.js';\nimport { print } from '../utilities/index.js';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var cache = _a.cache, link = _a.link, defaultOptions = _a.defaultOptions, documentTransform = _a.documentTransform, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, _e = _a.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? !!cache.assumeImmutableResults : _e;\n        var _this = this;\n        this.clientAwareness = {};\n        this.queries = new Map();\n        this.fetchCancelFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.queryIdCounter = 1;\n        this.requestIdCounter = 1;\n        this.mutationIdCounter = 1;\n        this.inFlightLinkObservables = new Map();\n        var defaultDocumentTransform = new DocumentTransform(function (document) { return _this.cache.transformDocument(document); }, { cache: false });\n        this.cache = cache;\n        this.link = link;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.queryDeduplication = queryDeduplication;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: cache });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = assumeImmutableResults;\n        this.documentTransform = documentTransform\n            ? defaultDocumentTransform\n                .concat(documentTransform)\n                .concat(defaultDocumentTransform)\n            : defaultDocumentTransform;\n        if ((this.onBroadcast = onBroadcast)) {\n            this.mutationStore = Object.create(null);\n        }\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.cancelPendingFetches(newInvariantError(23));\n    };\n    QueryManager.prototype.cancelPendingFetches = function (error) {\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\n        this.fetchCancelFns.clear();\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var _b, _c;\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _d = _a.refetchQueries, refetchQueries = _d === void 0 ? [] : _d, _e = _a.awaitRefetchQueries, awaitRefetchQueries = _e === void 0 ? false : _e, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _f = _a.fetchPolicy, fetchPolicy = _f === void 0 ? ((_b = this.defaultOptions.mutate) === null || _b === void 0 ? void 0 : _b.fetchPolicy) || \"network-only\" : _f, _g = _a.errorPolicy, errorPolicy = _g === void 0 ? ((_c = this.defaultOptions.mutate) === null || _c === void 0 ? void 0 : _c.errorPolicy) || \"none\" : _g, keepRootFields = _a.keepRootFields, context = _a.context;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, hasClientExports, mutationStoreValue, self;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        invariant(mutation, 24);\n                        invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', 25);\n                        mutationId = this.generateMutationId();\n                        mutation = this.cache.transformForLink(this.transform(mutation));\n                        hasClientExports = this.getDocumentInfo(mutation).hasClientExports;\n                        variables = this.getVariables(mutation, variables);\n                        if (!hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = (_h.sent());\n                        _h.label = 2;\n                    case 2:\n                        mutationStoreValue = this.mutationStore &&\n                            (this.mutationStore[mutationId] = {\n                                mutation: mutation,\n                                variables: variables,\n                                loading: true,\n                                error: null,\n                            });\n                        if (optimisticResponse) {\n                            this.markMutationOptimistic(optimisticResponse, {\n                                mutationId: mutationId,\n                                document: mutation,\n                                variables: variables,\n                                fetchPolicy: fetchPolicy,\n                                errorPolicy: errorPolicy,\n                                context: context,\n                                updateQueries: updateQueries,\n                                update: updateWithProxyFn,\n                                keepRootFields: keepRootFields,\n                            });\n                        }\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                        throw new ApolloError({\n                                            graphQLErrors: getGraphQLErrorsFromResult(result),\n                                        });\n                                    }\n                                    if (mutationStoreValue) {\n                                        mutationStoreValue.loading = false;\n                                        mutationStoreValue.error = null;\n                                    }\n                                    var storeResult = __assign({}, result);\n                                    if (typeof refetchQueries === \"function\") {\n                                        refetchQueries = refetchQueries(storeResult);\n                                    }\n                                    if (errorPolicy === 'ignore' &&\n                                        graphQLResultHasError(storeResult)) {\n                                        delete storeResult.errors;\n                                    }\n                                    return self.markMutationResult({\n                                        mutationId: mutationId,\n                                        result: storeResult,\n                                        document: mutation,\n                                        variables: variables,\n                                        fetchPolicy: fetchPolicy,\n                                        errorPolicy: errorPolicy,\n                                        context: context,\n                                        update: updateWithProxyFn,\n                                        updateQueries: updateQueries,\n                                        awaitRefetchQueries: awaitRefetchQueries,\n                                        refetchQueries: refetchQueries,\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\n                                        onQueryUpdated: onQueryUpdated,\n                                        keepRootFields: keepRootFields,\n                                    });\n                                }).subscribe({\n                                    next: function (storeResult) {\n                                        self.broadcastQueries();\n                                        if (!('hasNext' in storeResult) || storeResult.hasNext === false) {\n                                            resolve(storeResult);\n                                        }\n                                    },\n                                    error: function (err) {\n                                        if (mutationStoreValue) {\n                                            mutationStoreValue.loading = false;\n                                            mutationStoreValue.error = err;\n                                        }\n                                        if (optimisticResponse) {\n                                            self.cache.removeOptimistic(mutationId);\n                                        }\n                                        self.broadcastQueries();\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\n        var _this = this;\n        if (cache === void 0) { cache = this.cache; }\n        var result = mutation.result;\n        var cacheWrites = [];\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\n            if (!isExecutionPatchIncrementalResult(result)) {\n                cacheWrites.push({\n                    result: result.data,\n                    dataId: 'ROOT_MUTATION',\n                    query: mutation.document,\n                    variables: mutation.variables,\n                });\n            }\n            if (isExecutionPatchIncrementalResult(result) && isNonEmptyArray(result.incremental)) {\n                var diff = cache.diff({\n                    id: \"ROOT_MUTATION\",\n                    query: this.getDocumentInfo(mutation.document).asQuery,\n                    variables: mutation.variables,\n                    optimistic: false,\n                    returnPartialData: true,\n                });\n                var mergedData = void 0;\n                if (diff.result) {\n                    mergedData = mergeIncrementalData(diff.result, result);\n                }\n                if (typeof mergedData !== 'undefined') {\n                    result.data = mergedData;\n                    cacheWrites.push({\n                        result: mergedData,\n                        dataId: 'ROOT_MUTATION',\n                        query: mutation.document,\n                        variables: mutation.variables,\n                    });\n                }\n            }\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                this.queries.forEach(function (_a, queryId) {\n                    var observableQuery = _a.observableQuery;\n                    var queryName = observableQuery && observableQuery.queryName;\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\n                        return;\n                    }\n                    var updater = updateQueries_1[queryName];\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\n                    var _c = cache.diff({\n                        query: document,\n                        variables: variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _c.result, complete = _c.complete;\n                    if (complete && currentQueryResult) {\n                        var nextQueryResult = updater(currentQueryResult, {\n                            mutationResult: result,\n                            queryName: document && getOperationName(document) || void 0,\n                            queryVariables: variables,\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: document,\n                                variables: variables,\n                            });\n                        }\n                    }\n                });\n            }\n        }\n        if (cacheWrites.length > 0 ||\n            mutation.refetchQueries ||\n            mutation.update ||\n            mutation.onQueryUpdated ||\n            mutation.removeOptimistic) {\n            var results_1 = [];\n            this.refetchQueries({\n                updateCache: function (cache) {\n                    if (!skipCache) {\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\n                    }\n                    var update = mutation.update;\n                    var isFinalResult = !isExecutionPatchResult(result) ||\n                        (isExecutionPatchIncrementalResult(result) && !result.hasNext);\n                    if (update) {\n                        if (!skipCache) {\n                            var diff = cache.diff({\n                                id: \"ROOT_MUTATION\",\n                                query: _this.getDocumentInfo(mutation.document).asQuery,\n                                variables: mutation.variables,\n                                optimistic: false,\n                                returnPartialData: true,\n                            });\n                            if (diff.complete) {\n                                result = __assign(__assign({}, result), { data: diff.result });\n                                if ('incremental' in result) {\n                                    delete result.incremental;\n                                }\n                                if ('hasNext' in result) {\n                                    delete result.hasNext;\n                                }\n                            }\n                        }\n                        if (isFinalResult) {\n                            update(cache, result, {\n                                context: mutation.context,\n                                variables: mutation.variables,\n                            });\n                        }\n                    }\n                    if (!skipCache && !mutation.keepRootFields && isFinalResult) {\n                        cache.modify({\n                            id: 'ROOT_MUTATION',\n                            fields: function (value, _a) {\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\n                                return fieldName === \"__typename\" ? value : DELETE;\n                            },\n                        });\n                    }\n                },\n                include: mutation.refetchQueries,\n                optimistic: false,\n                removeOptimistic: mutation.removeOptimistic,\n                onQueryUpdated: mutation.onQueryUpdated || null,\n            }).forEach(function (result) { return results_1.push(result); });\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\n                return Promise.all(results_1).then(function () { return result; });\n            }\n        }\n        return Promise.resolve(result);\n    };\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\n        var _this = this;\n        var data = typeof optimisticResponse === \"function\"\n            ? optimisticResponse(mutation.variables)\n            : optimisticResponse;\n        return this.cache.recordOptimisticTransaction(function (cache) {\n            try {\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\n            }\n            catch (error) {\n                globalThis.__DEV__ !== false && invariant.error(error);\n            }\n        }, mutation.mutationId);\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\n        return this.fetchConcastWithInfo(queryId, options, networkStatus).concast.promise;\n    };\n    QueryManager.prototype.getQueryStore = function () {\n        var store = Object.create(null);\n        this.queries.forEach(function (info, queryId) {\n            store[queryId] = {\n                variables: info.variables,\n                networkStatus: info.networkStatus,\n                networkError: info.networkError,\n                graphQLErrors: info.graphQLErrors,\n            };\n        });\n        return store;\n    };\n    QueryManager.prototype.resetErrors = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo) {\n            queryInfo.networkError = undefined;\n            queryInfo.graphQLErrors = [];\n        }\n    };\n    QueryManager.prototype.transform = function (document) {\n        return this.documentTransform.transformDocument(document);\n    };\n    QueryManager.prototype.getDocumentInfo = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var cacheEntry = {\n                hasClientExports: hasClientExports(document),\n                hasForcedResolvers: this.localState.shouldForceResolvers(document),\n                hasNonreactiveDirective: hasDirectives(['nonreactive'], document),\n                clientQuery: this.localState.clientQuery(document),\n                serverQuery: removeDirectivesFromDocument([\n                    { name: 'client', remove: true },\n                    { name: 'connection' },\n                    { name: 'nonreactive' },\n                ], document),\n                defaultVars: getDefaultValues(getOperationDefinition(document)),\n                asQuery: __assign(__assign({}, document), { definitions: document.definitions.map(function (def) {\n                        if (def.kind === \"OperationDefinition\" &&\n                            def.operation !== \"query\") {\n                            return __assign(__assign({}, def), { operation: \"query\" });\n                        }\n                        return def;\n                    }) })\n            };\n            transformCache.set(document, cacheEntry);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign(__assign({}, this.getDocumentInfo(document).defaultVars), variables);\n    };\n    QueryManager.prototype.watchQuery = function (options) {\n        var query = this.transform(options.query);\n        options = __assign(__assign({}, options), { variables: this.getVariables(query, options.variables) });\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var queryInfo = new QueryInfo(this);\n        var observable = new ObservableQuery({\n            queryManager: this,\n            queryInfo: queryInfo,\n            options: options,\n        });\n        observable['lastQuery'] = query;\n        this.queries.set(observable.queryId, queryInfo);\n        queryInfo.init({\n            document: query,\n            observableQuery: observable,\n            variables: observable.variables,\n        });\n        return observable;\n    };\n    QueryManager.prototype.query = function (options, queryId) {\n        var _this = this;\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\n        invariant(options.query, 26);\n        invariant(options.query.kind === 'Document', 27);\n        invariant(!options.returnPartialData, 28);\n        invariant(!options.pollInterval, 29);\n        return this.fetchQuery(queryId, __assign(__assign({}, options), { query: this.transform(options.query) })).finally(function () { return _this.stopQuery(queryId); });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.queryIdCounter++);\n    };\n    QueryManager.prototype.generateRequestId = function () {\n        return this.requestIdCounter++;\n    };\n    QueryManager.prototype.generateMutationId = function () {\n        return String(this.mutationIdCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo)\n            queryInfo.stop();\n    };\n    QueryManager.prototype.clearStore = function (options) {\n        if (options === void 0) { options = {\n            discardWatches: true,\n        }; }\n        this.cancelPendingFetches(newInvariantError(30));\n        this.queries.forEach(function (queryInfo) {\n            if (queryInfo.observableQuery) {\n                queryInfo.networkStatus = NetworkStatus.loading;\n            }\n            else {\n                queryInfo.stop();\n            }\n        });\n        if (this.mutationStore) {\n            this.mutationStore = Object.create(null);\n        }\n        return this.cache.reset(options);\n    };\n    QueryManager.prototype.getObservableQueries = function (include) {\n        var _this = this;\n        if (include === void 0) { include = \"active\"; }\n        var queries = new Map();\n        var queryNamesAndDocs = new Map();\n        var legacyQueryOptions = new Set();\n        if (Array.isArray(include)) {\n            include.forEach(function (desc) {\n                if (typeof desc === \"string\") {\n                    queryNamesAndDocs.set(desc, false);\n                }\n                else if (isDocumentNode(desc)) {\n                    queryNamesAndDocs.set(_this.transform(desc), false);\n                }\n                else if (isNonNullObject(desc) && desc.query) {\n                    legacyQueryOptions.add(desc);\n                }\n            });\n        }\n        this.queries.forEach(function (_a, queryId) {\n            var oq = _a.observableQuery, document = _a.document;\n            if (oq) {\n                if (include === \"all\") {\n                    queries.set(queryId, oq);\n                    return;\n                }\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\n                if (fetchPolicy === \"standby\" ||\n                    (include === \"active\" && !oq.hasObservers())) {\n                    return;\n                }\n                if (include === \"active\" ||\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\n                    (document && queryNamesAndDocs.has(document))) {\n                    queries.set(queryId, oq);\n                    if (queryName)\n                        queryNamesAndDocs.set(queryName, true);\n                    if (document)\n                        queryNamesAndDocs.set(document, true);\n                }\n            }\n        });\n        if (legacyQueryOptions.size) {\n            legacyQueryOptions.forEach(function (options) {\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\n                var queryInfo = _this.getQuery(queryId).init({\n                    document: options.query,\n                    variables: options.variables,\n                });\n                var oq = new ObservableQuery({\n                    queryManager: _this,\n                    queryInfo: queryInfo,\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\n                });\n                invariant(oq.queryId === queryId);\n                queryInfo.setObservableQuery(oq);\n                queries.set(queryId, oq);\n            });\n        }\n        if (globalThis.__DEV__ !== false && queryNamesAndDocs.size) {\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\n                if (!included) {\n                    globalThis.__DEV__ !== false && invariant.warn(typeof nameOrDoc === \"string\" ? 31 : 32, nameOrDoc);\n                }\n            });\n        }\n        return queries;\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\n            var fetchPolicy = observableQuery.options.fetchPolicy;\n            observableQuery.resetLastResults();\n            if (includeStandby ||\n                (fetchPolicy !== \"standby\" &&\n                    fetchPolicy !== \"cache-only\")) {\n                observableQueryPromises.push(observableQuery.refetch());\n            }\n            _this.getQuery(queryId).setDiff(null);\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\n        query = this.transform(query);\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\n                if (fetchPolicy !== 'no-cache') {\n                    if (shouldWriteResult(result, errorPolicy)) {\n                        _this.cache.write({\n                            query: query,\n                            result: result.data,\n                            dataId: 'ROOT_SUBSCRIPTION',\n                            variables: variables,\n                        });\n                    }\n                    _this.broadcastQueries();\n                }\n                var hasErrors = graphQLResultHasError(result);\n                var hasProtocolErrors = graphQLResultHasProtocolErrors(result);\n                if (hasErrors || hasProtocolErrors) {\n                    var errors = {};\n                    if (hasErrors) {\n                        errors.graphQLErrors = result.errors;\n                    }\n                    if (hasProtocolErrors) {\n                        errors.protocolErrors = result.extensions[PROTOCOL_ERRORS_SYMBOL];\n                    }\n                    throw new ApolloError(errors);\n                }\n                return result;\n            });\n        };\n        if (this.getDocumentInfo(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchCancelFns.delete(queryId);\n        if (this.queries.has(queryId)) {\n            this.getQuery(queryId).stop();\n            this.queries.delete(queryId);\n        }\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        if (this.onBroadcast)\n            this.onBroadcast();\n        this.queries.forEach(function (info) { return info.notify(); });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        var _a;\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\n        var observable;\n        var _b = this.getDocumentInfo(query), serverQuery = _b.serverQuery, clientQuery = _b.clientQuery;\n        if (serverQuery) {\n            var _c = this, inFlightLinkObservables_1 = _c.inFlightLinkObservables, link = _c.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var printedServerQuery_1 = print(serverQuery);\n                var byVariables_1 = inFlightLinkObservables_1.get(printedServerQuery_1) || new Map();\n                inFlightLinkObservables_1.set(printedServerQuery_1, byVariables_1);\n                var varJson_1 = canonicalStringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    var concast = new Concast([\n                        execute(link, operation)\n                    ]);\n                    byVariables_1.set(varJson_1, observable = concast);\n                    concast.beforeNext(function () {\n                        if (byVariables_1.delete(varJson_1) &&\n                            byVariables_1.size < 1) {\n                            inFlightLinkObservables_1.delete(printedServerQuery_1);\n                        }\n                    });\n                }\n            }\n            else {\n                observable = new Concast([\n                    execute(link, operation)\n                ]);\n            }\n        }\n        else {\n            observable = new Concast([\n                Observable.of({ data: {} })\n            ]);\n            context = this.prepareContext(context);\n        }\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\n        var linkDocument = this.cache.transformForLink(options.query);\n        return asyncMap(this.getObservableFromLink(linkDocument, options.context, options.variables), function (result) {\n            var graphQLErrors = getGraphQLErrorsFromResult(result);\n            var hasErrors = graphQLErrors.length > 0;\n            if (requestId >= queryInfo.lastRequestId) {\n                if (hasErrors && options.errorPolicy === \"none\") {\n                    throw queryInfo.markError(new ApolloError({\n                        graphQLErrors: graphQLErrors,\n                    }));\n                }\n                queryInfo.markResult(result, linkDocument, options, cacheWriteBehavior);\n                queryInfo.markReady();\n            }\n            var aqr = {\n                data: result.data,\n                loading: false,\n                networkStatus: NetworkStatus.ready,\n            };\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\n                aqr.errors = graphQLErrors;\n                aqr.networkStatus = NetworkStatus.error;\n            }\n            return aqr;\n        }, function (networkError) {\n            var error = isApolloError(networkError)\n                ? networkError\n                : new ApolloError({ networkError: networkError });\n            if (requestId >= queryInfo.lastRequestId) {\n                queryInfo.markError(error);\n            }\n            throw error;\n        });\n    };\n    QueryManager.prototype.fetchConcastWithInfo = function (queryId, options, networkStatus) {\n        var _this = this;\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\n        var query = options.query;\n        var variables = this.getVariables(query, options.variables);\n        var queryInfo = this.getQuery(queryId);\n        var defaults = this.defaultOptions.watchQuery;\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? defaults && defaults.fetchPolicy || \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? defaults && defaults.errorPolicy || \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\n        var normalized = Object.assign({}, options, {\n            query: query,\n            variables: variables,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n            returnPartialData: returnPartialData,\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            context: context,\n        });\n        var fromVariables = function (variables) {\n            normalized.variables = variables;\n            var sourcesWithInfo = _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\n            if (normalized.fetchPolicy !== \"standby\" &&\n                sourcesWithInfo.sources.length > 0 &&\n                queryInfo.observableQuery) {\n                queryInfo.observableQuery[\"applyNextFetchPolicy\"](\"after-fetch\", options);\n            }\n            return sourcesWithInfo;\n        };\n        var cleanupCancelFn = function () { return _this.fetchCancelFns.delete(queryId); };\n        this.fetchCancelFns.set(queryId, function (reason) {\n            cleanupCancelFn();\n            setTimeout(function () { return concast.cancel(reason); });\n        });\n        var concast, containsDataFromLink;\n        if (this.getDocumentInfo(normalized.query).hasClientExports) {\n            concast = new Concast(this.localState\n                .addExportedVariables(normalized.query, normalized.variables, normalized.context)\n                .then(fromVariables).then(function (sourcesWithInfo) { return sourcesWithInfo.sources; }));\n            containsDataFromLink = true;\n        }\n        else {\n            var sourcesWithInfo = fromVariables(normalized.variables);\n            containsDataFromLink = sourcesWithInfo.fromLink;\n            concast = new Concast(sourcesWithInfo.sources);\n        }\n        concast.promise.then(cleanupCancelFn, cleanupCancelFn);\n        return {\n            concast: concast,\n            fromLink: containsDataFromLink,\n        };\n    };\n    QueryManager.prototype.refetchQueries = function (_a) {\n        var _this = this;\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\n        var includedQueriesById = new Map();\n        if (include) {\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\n                includedQueriesById.set(queryId, {\n                    oq: oq,\n                    lastDiff: _this.getQuery(queryId).getDiff(),\n                });\n            });\n        }\n        var results = new Map;\n        if (updateCache) {\n            this.cache.batch({\n                update: updateCache,\n                optimistic: optimistic && removeOptimistic || false,\n                removeOptimistic: removeOptimistic,\n                onWatchUpdated: function (watch, diff, lastDiff) {\n                    var oq = watch.watcher instanceof QueryInfo &&\n                        watch.watcher.observableQuery;\n                    if (oq) {\n                        if (onQueryUpdated) {\n                            includedQueriesById.delete(oq.queryId);\n                            var result = onQueryUpdated(oq, diff, lastDiff);\n                            if (result === true) {\n                                result = oq.refetch();\n                            }\n                            if (result !== false) {\n                                results.set(oq, result);\n                            }\n                            return result;\n                        }\n                        if (onQueryUpdated !== null) {\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\n                        }\n                    }\n                },\n            });\n        }\n        if (includedQueriesById.size) {\n            includedQueriesById.forEach(function (_a, queryId) {\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\n                var result;\n                if (onQueryUpdated) {\n                    if (!diff) {\n                        var info = oq[\"queryInfo\"];\n                        info.reset();\n                        diff = info.getDiff();\n                    }\n                    result = onQueryUpdated(oq, diff, lastDiff);\n                }\n                if (!onQueryUpdated || result === true) {\n                    result = oq.refetch();\n                }\n                if (result !== false) {\n                    results.set(oq, result);\n                }\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\n                    _this.stopQueryNoBroadcast(queryId);\n                }\n            });\n        }\n        if (removeOptimistic) {\n            this.cache.removeOptimistic(removeOptimistic);\n        }\n        return results;\n    };\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\n        var _this = this;\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\n        var oldNetworkStatus = queryInfo.networkStatus;\n        queryInfo.init({\n            document: query,\n            variables: variables,\n            networkStatus: networkStatus,\n        });\n        var readCache = function () { return queryInfo.getDiff(variables); };\n        var resultsFromCache = function (diff, networkStatus) {\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\n            var data = diff.result;\n            if (globalThis.__DEV__ !== false &&\n                !returnPartialData &&\n                !equal(data, {})) {\n                logMissingFieldErrors(diff.missing);\n            }\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\n            if (data && _this.getDocumentInfo(query).hasForcedResolvers) {\n                return _this.localState.runResolvers({\n                    document: query,\n                    remoteResult: { data: data },\n                    context: context,\n                    variables: variables,\n                    onlyRunForcedResolvers: true,\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\n            }\n            if (errorPolicy === 'none' &&\n                networkStatus === NetworkStatus.refetch &&\n                Array.isArray(diff.missing)) {\n                return fromData(void 0);\n            }\n            return fromData(data);\n        };\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\n            (networkStatus === NetworkStatus.refetch &&\n                refetchWritePolicy !== \"merge\") ? 1\n                : 2;\n        var resultsFromLink = function () { return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\n            query: query,\n            variables: variables,\n            context: context,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n        }); };\n        var shouldNotify = notifyOnNetworkStatusChange &&\n            typeof oldNetworkStatus === \"number\" &&\n            oldNetworkStatus !== networkStatus &&\n            isNetworkRequestInFlight(networkStatus);\n        switch (fetchPolicy) {\n            default:\n            case \"cache-first\": {\n                var diff = readCache();\n                if (diff.complete) {\n                    return { fromLink: false, sources: [resultsFromCache(diff, queryInfo.markReady())] };\n                }\n                if (returnPartialData || shouldNotify) {\n                    return { fromLink: true, sources: [resultsFromCache(diff), resultsFromLink()] };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            }\n            case \"cache-and-network\": {\n                var diff = readCache();\n                if (diff.complete || returnPartialData || shouldNotify) {\n                    return { fromLink: true, sources: [resultsFromCache(diff), resultsFromLink()] };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            }\n            case \"cache-only\":\n                return { fromLink: false, sources: [resultsFromCache(readCache(), queryInfo.markReady())] };\n            case \"network-only\":\n                if (shouldNotify) {\n                    return { fromLink: true, sources: [resultsFromCache(readCache()), resultsFromLink()] };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            case \"no-cache\":\n                if (shouldNotify) {\n                    return {\n                        fromLink: true,\n                        sources: [\n                            resultsFromCache(queryInfo.getDiff()),\n                            resultsFromLink(),\n                        ],\n                    };\n                }\n                return { fromLink: true, sources: [resultsFromLink()] };\n            case \"standby\":\n                return { fromLink: false, sources: [] };\n        }\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        if (queryId && !this.queries.has(queryId)) {\n            this.queries.set(queryId, new QueryInfo(this, queryId));\n        }\n        return this.queries.get(queryId);\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\n    };\n    return QueryManager;\n}());\nexport { QueryManager };\n//# sourceMappingURL=QueryManager.js.map",";\nexport var Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n//# sourceMappingURL=Cache.js.map","import { __assign } from \"tslib\";\nimport { invariant, newInvariantError } from '../utilities/globals/index.js';\nimport { ApolloLink, execute } from '../link/core/index.js';\nimport { version } from '../version.js';\nimport { HttpLink } from '../link/http/index.js';\nimport { QueryManager } from './QueryManager.js';\nimport { LocalState } from './LocalState.js';\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities/index.js\";\nexport { mergeOptions };\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        if (!options.cache) {\n            throw newInvariantError(13);\n        }\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, documentTransform = options.documentTransform, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\n            !window.__APOLLO_CLIENT__ &&\n            globalThis.__DEV__ !== false : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? cache.assumeImmutableResults : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link) {\n            link = uri\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\n                : ApolloLink.empty();\n        }\n        this.link = link;\n        this.cache = cache;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        if (connectToDevTools && typeof window === 'object') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && connectToDevTools && globalThis.__DEV__ !== false) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self &&\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n                var nav = window.navigator;\n                var ua = nav && nav.userAgent;\n                var url = void 0;\n                if (typeof ua === \"string\") {\n                    if (ua.indexOf(\"Chrome/\") > -1) {\n                        url = \"https://chrome.google.com/webstore/detail/\" +\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n                    }\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n                    }\n                }\n                if (url) {\n                    globalThis.__DEV__ !== false && invariant.log(\"Download the Apollo DevTools for a better development \" +\n                        \"experience: %s\", url);\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            cache: this.cache,\n            link: this.link,\n            defaultOptions: this.defaultOptions,\n            documentTransform: documentTransform,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: connectToDevTools ? function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.getQueryStore(),\n                            mutations: _this.queryManager.mutationStore || {},\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            } : void 0,\n        });\n    }\n    Object.defineProperty(ApolloClient.prototype, \"documentTransform\", {\n        get: function () {\n            return this.queryManager.documentTransform;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = mergeOptions(this.defaultOptions.query, options);\n        }\n        invariant(options.fetchPolicy !== 'cache-and-network', 14);\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = mergeOptions(this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        var ref = this.cache.writeQuery(options);\n        if (options.broadcast !== false) {\n            this.queryManager.broadcastQueries();\n        }\n        return ref;\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        var ref = this.cache.writeFragment(options);\n        if (options.broadcast !== false) {\n            this.queryManager.broadcastQueries();\n        }\n        return ref;\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: false,\n        }); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: true,\n        }); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.refetchQueries = function (options) {\n        var map = this.queryManager.refetchQueries(options);\n        var queries = [];\n        var results = [];\n        map.forEach(function (result, obsQuery) {\n            queries.push(obsQuery);\n            results.push(result);\n        });\n        var result = Promise.all(results);\n        result.queries = queries;\n        result.results = results;\n        result.catch(function (error) {\n            globalThis.__DEV__ !== false && invariant.debug(15, error);\n        });\n        return result;\n    };\n    ApolloClient.prototype.getObservableQueries = function (include) {\n        if (include === void 0) { include = \"active\"; }\n        return this.queryManager.getObservableQueries(include);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    ApolloClient.prototype.setLink = function (newLink) {\n        this.link = this.queryManager.link = newLink;\n    };\n    return ApolloClient;\n}());\nexport { ApolloClient };\n//# sourceMappingURL=ApolloClient.js.map","import { __assign, __rest } from \"tslib\";\nimport { wrap } from 'optimism';\nimport { getFragmentQueryDocument, } from '../../utilities/index.js';\nvar ApolloCache = (function () {\n    function ApolloCache() {\n        this.assumeImmutableResults = false;\n        this.getFragmentDoc = wrap(getFragmentQueryDocument);\n    }\n    ApolloCache.prototype.batch = function (options) {\n        var _this = this;\n        var optimisticId = typeof options.optimistic === \"string\" ? options.optimistic :\n            options.optimistic === false ? null : void 0;\n        var updateResult;\n        this.performTransaction(function () { return updateResult = options.update(_this); }, optimisticId);\n        return updateResult;\n    };\n    ApolloCache.prototype.recordOptimisticTransaction = function (transaction, optimisticId) {\n        this.performTransaction(transaction, optimisticId);\n    };\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.identify = function (object) {\n        return;\n    };\n    ApolloCache.prototype.gc = function () {\n        return [];\n    };\n    ApolloCache.prototype.modify = function (options) {\n        return false;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { rootId: options.id || 'ROOT_QUERY', optimistic: optimistic }));\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { query: this.getFragmentDoc(options.fragment, options.fragmentName), rootId: options.id, optimistic: optimistic }));\n    };\n    ApolloCache.prototype.writeQuery = function (_a) {\n        var id = _a.id, data = _a.data, options = __rest(_a, [\"id\", \"data\"]);\n        return this.write(Object.assign(options, {\n            dataId: id || 'ROOT_QUERY',\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.writeFragment = function (_a) {\n        var id = _a.id, data = _a.data, fragment = _a.fragment, fragmentName = _a.fragmentName, options = __rest(_a, [\"id\", \"data\", \"fragment\", \"fragmentName\"]);\n        return this.write(Object.assign(options, {\n            query: this.getFragmentDoc(fragment, fragmentName),\n            dataId: id,\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.updateQuery = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readQuery(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeQuery(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    ApolloCache.prototype.updateFragment = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readFragment(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeFragment(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    return ApolloCache;\n}());\nexport { ApolloCache };\n//# sourceMappingURL=cache.js.map","import { __extends } from \"tslib\";\nvar MissingFieldError = (function (_super) {\n    __extends(MissingFieldError, _super);\n    function MissingFieldError(message, path, query, variables) {\n        var _a;\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.path = path;\n        _this.query = query;\n        _this.variables = variables;\n        if (Array.isArray(_this.path)) {\n            _this.missing = _this.message;\n            for (var i = _this.path.length - 1; i >= 0; --i) {\n                _this.missing = (_a = {}, _a[_this.path[i]] = _this.missing, _a);\n            }\n        }\n        else {\n            _this.missing = _this.path;\n        }\n        _this.__proto__ = MissingFieldError.prototype;\n        return _this;\n    }\n    return MissingFieldError;\n}(Error));\nexport { MissingFieldError };\n//# sourceMappingURL=common.js.map","import { isReference, isField, DeepMerger, resultKeyNameFromField, shouldInclude, isNonNullObject, compact, createFragmentMap, getFragmentDefinitions, isArray, } from '../../utilities/index.js';\nexport var hasOwn = Object.prototype.hasOwnProperty;\nexport function isNullish(value) {\n    return value === null || value === void 0;\n}\nexport { isArray };\nexport function defaultDataIdFromObject(_a, context) {\n    var __typename = _a.__typename, id = _a.id, _id = _a._id;\n    if (typeof __typename === \"string\") {\n        if (context) {\n            context.keyObject =\n                !isNullish(id) ? { id: id } :\n                    !isNullish(_id) ? { _id: _id } :\n                        void 0;\n        }\n        if (isNullish(id) && !isNullish(_id)) {\n            id = _id;\n        }\n        if (!isNullish(id)) {\n            return \"\".concat(__typename, \":\").concat((typeof id === \"number\" ||\n                typeof id === \"string\") ? id : JSON.stringify(id));\n        }\n    }\n}\nvar defaultConfig = {\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    canonizeResults: false,\n};\nexport function normalizeConfig(config) {\n    return compact(defaultConfig, config);\n}\nexport function shouldCanonizeResults(config) {\n    var value = config.canonizeResults;\n    return value === void 0 ? defaultConfig.canonizeResults : value;\n}\nexport function getTypenameFromStoreObject(store, objectOrReference) {\n    return isReference(objectOrReference)\n        ? store.get(objectOrReference.__ref, \"__typename\")\n        : objectOrReference && objectOrReference.__typename;\n}\nexport var TypeOrFieldNameRegExp = /^[_a-z][_0-9a-z]*/i;\nexport function fieldNameFromStoreName(storeFieldName) {\n    var match = storeFieldName.match(TypeOrFieldNameRegExp);\n    return match ? match[0] : storeFieldName;\n}\nexport function selectionSetMatchesResult(selectionSet, result, variables) {\n    if (isNonNullObject(result)) {\n        return isArray(result)\n            ? result.every(function (item) { return selectionSetMatchesResult(selectionSet, item, variables); })\n            : selectionSet.selections.every(function (field) {\n                if (isField(field) && shouldInclude(field, variables)) {\n                    var key = resultKeyNameFromField(field);\n                    return hasOwn.call(result, key) &&\n                        (!field.selectionSet ||\n                            selectionSetMatchesResult(field.selectionSet, result[key], variables));\n                }\n                return true;\n            });\n    }\n    return false;\n}\nexport function storeValueIsStoreObject(value) {\n    return isNonNullObject(value) &&\n        !isReference(value) &&\n        !isArray(value);\n}\nexport function makeProcessedFieldsMerger() {\n    return new DeepMerger;\n}\nexport function extractFragmentContext(document, fragments) {\n    var fragmentMap = createFragmentMap(getFragmentDefinitions(document));\n    return {\n        fragmentMap: fragmentMap,\n        lookupFragment: function (name) {\n            var def = fragmentMap[name];\n            if (!def && fragments) {\n                def = fragments.lookup(name);\n            }\n            return def || null;\n        },\n    };\n}\n//# sourceMappingURL=helpers.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { invariant } from '../../utilities/globals/index.js';\nimport { dep } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { isReference, makeReference, DeepMerger, maybeDeepFreeze, canUseWeakMap, isNonNullObject, } from '../../utilities/index.js';\nimport { hasOwn, fieldNameFromStoreName } from './helpers.js';\nvar DELETE = Object.create(null);\nvar delModifier = function () { return DELETE; };\nvar INVALIDATE = Object.create(null);\nvar EntityStore = (function () {\n    function EntityStore(policies, group) {\n        var _this = this;\n        this.policies = policies;\n        this.group = group;\n        this.data = Object.create(null);\n        this.rootIds = Object.create(null);\n        this.refs = Object.create(null);\n        this.getFieldValue = function (objectOrReference, storeFieldName) { return maybeDeepFreeze(isReference(objectOrReference)\n            ? _this.get(objectOrReference.__ref, storeFieldName)\n            : objectOrReference && objectOrReference[storeFieldName]); };\n        this.canRead = function (objOrRef) {\n            return isReference(objOrRef)\n                ? _this.has(objOrRef.__ref)\n                : typeof objOrRef === \"object\";\n        };\n        this.toReference = function (objOrIdOrRef, mergeIntoStore) {\n            if (typeof objOrIdOrRef === \"string\") {\n                return makeReference(objOrIdOrRef);\n            }\n            if (isReference(objOrIdOrRef)) {\n                return objOrIdOrRef;\n            }\n            var id = _this.policies.identify(objOrIdOrRef)[0];\n            if (id) {\n                var ref = makeReference(id);\n                if (mergeIntoStore) {\n                    _this.merge(id, objOrIdOrRef);\n                }\n                return ref;\n            }\n        };\n    }\n    EntityStore.prototype.toObject = function () {\n        return __assign({}, this.data);\n    };\n    EntityStore.prototype.has = function (dataId) {\n        return this.lookup(dataId, true) !== void 0;\n    };\n    EntityStore.prototype.get = function (dataId, fieldName) {\n        this.group.depend(dataId, fieldName);\n        if (hasOwn.call(this.data, dataId)) {\n            var storeObject = this.data[dataId];\n            if (storeObject && hasOwn.call(storeObject, fieldName)) {\n                return storeObject[fieldName];\n            }\n        }\n        if (fieldName === \"__typename\" &&\n            hasOwn.call(this.policies.rootTypenamesById, dataId)) {\n            return this.policies.rootTypenamesById[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.get(dataId, fieldName);\n        }\n    };\n    EntityStore.prototype.lookup = function (dataId, dependOnExistence) {\n        if (dependOnExistence)\n            this.group.depend(dataId, \"__exists\");\n        if (hasOwn.call(this.data, dataId)) {\n            return this.data[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.lookup(dataId, dependOnExistence);\n        }\n        if (this.policies.rootTypenamesById[dataId]) {\n            return Object.create(null);\n        }\n    };\n    EntityStore.prototype.merge = function (older, newer) {\n        var _this = this;\n        var dataId;\n        if (isReference(older))\n            older = older.__ref;\n        if (isReference(newer))\n            newer = newer.__ref;\n        var existing = typeof older === \"string\"\n            ? this.lookup(dataId = older)\n            : older;\n        var incoming = typeof newer === \"string\"\n            ? this.lookup(dataId = newer)\n            : newer;\n        if (!incoming)\n            return;\n        invariant(typeof dataId === \"string\", 1);\n        var merged = new DeepMerger(storeObjectReconciler).merge(existing, incoming);\n        this.data[dataId] = merged;\n        if (merged !== existing) {\n            delete this.refs[dataId];\n            if (this.group.caching) {\n                var fieldsToDirty_1 = Object.create(null);\n                if (!existing)\n                    fieldsToDirty_1.__exists = 1;\n                Object.keys(incoming).forEach(function (storeFieldName) {\n                    if (!existing || existing[storeFieldName] !== merged[storeFieldName]) {\n                        fieldsToDirty_1[storeFieldName] = 1;\n                        var fieldName = fieldNameFromStoreName(storeFieldName);\n                        if (fieldName !== storeFieldName &&\n                            !_this.policies.hasKeyArgs(merged.__typename, fieldName)) {\n                            fieldsToDirty_1[fieldName] = 1;\n                        }\n                        if (merged[storeFieldName] === void 0 && !(_this instanceof Layer)) {\n                            delete merged[storeFieldName];\n                        }\n                    }\n                });\n                if (fieldsToDirty_1.__typename &&\n                    !(existing && existing.__typename) &&\n                    this.policies.rootTypenamesById[dataId] === merged.__typename) {\n                    delete fieldsToDirty_1.__typename;\n                }\n                Object.keys(fieldsToDirty_1).forEach(function (fieldName) { return _this.group.dirty(dataId, fieldName); });\n            }\n        }\n    };\n    EntityStore.prototype.modify = function (dataId, fields) {\n        var _this = this;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var changedFields_1 = Object.create(null);\n            var needToMerge_1 = false;\n            var allDeleted_1 = true;\n            var sharedDetails_1 = {\n                DELETE: DELETE,\n                INVALIDATE: INVALIDATE,\n                isReference: isReference,\n                toReference: this.toReference,\n                canRead: this.canRead,\n                readField: function (fieldNameOrOptions, from) { return _this.policies.readField(typeof fieldNameOrOptions === \"string\" ? {\n                    fieldName: fieldNameOrOptions,\n                    from: from || makeReference(dataId),\n                } : fieldNameOrOptions, { store: _this }); },\n            };\n            Object.keys(storeObject).forEach(function (storeFieldName) {\n                var fieldName = fieldNameFromStoreName(storeFieldName);\n                var fieldValue = storeObject[storeFieldName];\n                if (fieldValue === void 0)\n                    return;\n                var modify = typeof fields === \"function\"\n                    ? fields\n                    : fields[storeFieldName] || fields[fieldName];\n                if (modify) {\n                    var newValue = modify === delModifier ? DELETE :\n                        modify(maybeDeepFreeze(fieldValue), __assign(__assign({}, sharedDetails_1), { fieldName: fieldName, storeFieldName: storeFieldName, storage: _this.getStorage(dataId, storeFieldName) }));\n                    if (newValue === INVALIDATE) {\n                        _this.group.dirty(dataId, storeFieldName);\n                    }\n                    else {\n                        if (newValue === DELETE)\n                            newValue = void 0;\n                        if (newValue !== fieldValue) {\n                            changedFields_1[storeFieldName] = newValue;\n                            needToMerge_1 = true;\n                            fieldValue = newValue;\n                        }\n                    }\n                }\n                if (fieldValue !== void 0) {\n                    allDeleted_1 = false;\n                }\n            });\n            if (needToMerge_1) {\n                this.merge(dataId, changedFields_1);\n                if (allDeleted_1) {\n                    if (this instanceof Layer) {\n                        this.data[dataId] = void 0;\n                    }\n                    else {\n                        delete this.data[dataId];\n                    }\n                    this.group.dirty(dataId, \"__exists\");\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    EntityStore.prototype.delete = function (dataId, fieldName, args) {\n        var _a;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var typename = this.getFieldValue(storeObject, \"__typename\");\n            var storeFieldName = fieldName && args\n                ? this.policies.getStoreFieldName({ typename: typename, fieldName: fieldName, args: args })\n                : fieldName;\n            return this.modify(dataId, storeFieldName ? (_a = {},\n                _a[storeFieldName] = delModifier,\n                _a) : delModifier);\n        }\n        return false;\n    };\n    EntityStore.prototype.evict = function (options, limit) {\n        var evicted = false;\n        if (options.id) {\n            if (hasOwn.call(this.data, options.id)) {\n                evicted = this.delete(options.id, options.fieldName, options.args);\n            }\n            if (this instanceof Layer && this !== limit) {\n                evicted = this.parent.evict(options, limit) || evicted;\n            }\n            if (options.fieldName || evicted) {\n                this.group.dirty(options.id, options.fieldName || \"__exists\");\n            }\n        }\n        return evicted;\n    };\n    EntityStore.prototype.clear = function () {\n        this.replace(null);\n    };\n    EntityStore.prototype.extract = function () {\n        var _this = this;\n        var obj = this.toObject();\n        var extraRootIds = [];\n        this.getRootIdSet().forEach(function (id) {\n            if (!hasOwn.call(_this.policies.rootTypenamesById, id)) {\n                extraRootIds.push(id);\n            }\n        });\n        if (extraRootIds.length) {\n            obj.__META = { extraRootIds: extraRootIds.sort() };\n        }\n        return obj;\n    };\n    EntityStore.prototype.replace = function (newData) {\n        var _this = this;\n        Object.keys(this.data).forEach(function (dataId) {\n            if (!(newData && hasOwn.call(newData, dataId))) {\n                _this.delete(dataId);\n            }\n        });\n        if (newData) {\n            var __META = newData.__META, rest_1 = __rest(newData, [\"__META\"]);\n            Object.keys(rest_1).forEach(function (dataId) {\n                _this.merge(dataId, rest_1[dataId]);\n            });\n            if (__META) {\n                __META.extraRootIds.forEach(this.retain, this);\n            }\n        }\n    };\n    EntityStore.prototype.retain = function (rootId) {\n        return this.rootIds[rootId] = (this.rootIds[rootId] || 0) + 1;\n    };\n    EntityStore.prototype.release = function (rootId) {\n        if (this.rootIds[rootId] > 0) {\n            var count = --this.rootIds[rootId];\n            if (!count)\n                delete this.rootIds[rootId];\n            return count;\n        }\n        return 0;\n    };\n    EntityStore.prototype.getRootIdSet = function (ids) {\n        if (ids === void 0) { ids = new Set(); }\n        Object.keys(this.rootIds).forEach(ids.add, ids);\n        if (this instanceof Layer) {\n            this.parent.getRootIdSet(ids);\n        }\n        else {\n            Object.keys(this.policies.rootTypenamesById).forEach(ids.add, ids);\n        }\n        return ids;\n    };\n    EntityStore.prototype.gc = function () {\n        var _this = this;\n        var ids = this.getRootIdSet();\n        var snapshot = this.toObject();\n        ids.forEach(function (id) {\n            if (hasOwn.call(snapshot, id)) {\n                Object.keys(_this.findChildRefIds(id)).forEach(ids.add, ids);\n                delete snapshot[id];\n            }\n        });\n        var idsToRemove = Object.keys(snapshot);\n        if (idsToRemove.length) {\n            var root_1 = this;\n            while (root_1 instanceof Layer)\n                root_1 = root_1.parent;\n            idsToRemove.forEach(function (id) { return root_1.delete(id); });\n        }\n        return idsToRemove;\n    };\n    EntityStore.prototype.findChildRefIds = function (dataId) {\n        if (!hasOwn.call(this.refs, dataId)) {\n            var found_1 = this.refs[dataId] = Object.create(null);\n            var root = this.data[dataId];\n            if (!root)\n                return found_1;\n            var workSet_1 = new Set([root]);\n            workSet_1.forEach(function (obj) {\n                if (isReference(obj)) {\n                    found_1[obj.__ref] = true;\n                }\n                if (isNonNullObject(obj)) {\n                    Object.keys(obj).forEach(function (key) {\n                        var child = obj[key];\n                        if (isNonNullObject(child)) {\n                            workSet_1.add(child);\n                        }\n                    });\n                }\n            });\n        }\n        return this.refs[dataId];\n    };\n    EntityStore.prototype.makeCacheKey = function () {\n        return this.group.keyMaker.lookupArray(arguments);\n    };\n    return EntityStore;\n}());\nexport { EntityStore };\nvar CacheGroup = (function () {\n    function CacheGroup(caching, parent) {\n        if (parent === void 0) { parent = null; }\n        this.caching = caching;\n        this.parent = parent;\n        this.d = null;\n        this.resetCaching();\n    }\n    CacheGroup.prototype.resetCaching = function () {\n        this.d = this.caching ? dep() : null;\n        this.keyMaker = new Trie(canUseWeakMap);\n    };\n    CacheGroup.prototype.depend = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d(makeDepKey(dataId, storeFieldName));\n            var fieldName = fieldNameFromStoreName(storeFieldName);\n            if (fieldName !== storeFieldName) {\n                this.d(makeDepKey(dataId, fieldName));\n            }\n            if (this.parent) {\n                this.parent.depend(dataId, storeFieldName);\n            }\n        }\n    };\n    CacheGroup.prototype.dirty = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d.dirty(makeDepKey(dataId, storeFieldName), storeFieldName === \"__exists\" ? \"forget\" : \"setDirty\");\n        }\n    };\n    return CacheGroup;\n}());\nfunction makeDepKey(dataId, storeFieldName) {\n    return storeFieldName + '#' + dataId;\n}\nexport function maybeDependOnExistenceOfEntity(store, entityId) {\n    if (supportsResultCaching(store)) {\n        store.group.depend(entityId, \"__exists\");\n    }\n}\n(function (EntityStore) {\n    var Root = (function (_super) {\n        __extends(Root, _super);\n        function Root(_a) {\n            var policies = _a.policies, _b = _a.resultCaching, resultCaching = _b === void 0 ? true : _b, seed = _a.seed;\n            var _this = _super.call(this, policies, new CacheGroup(resultCaching)) || this;\n            _this.stump = new Stump(_this);\n            _this.storageTrie = new Trie(canUseWeakMap);\n            if (seed)\n                _this.replace(seed);\n            return _this;\n        }\n        Root.prototype.addLayer = function (layerId, replay) {\n            return this.stump.addLayer(layerId, replay);\n        };\n        Root.prototype.removeLayer = function () {\n            return this;\n        };\n        Root.prototype.getStorage = function () {\n            return this.storageTrie.lookupArray(arguments);\n        };\n        return Root;\n    }(EntityStore));\n    EntityStore.Root = Root;\n})(EntityStore || (EntityStore = {}));\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, parent, replay, group) {\n        var _this = _super.call(this, parent.policies, group) || this;\n        _this.id = id;\n        _this.parent = parent;\n        _this.replay = replay;\n        _this.group = group;\n        replay(_this);\n        return _this;\n    }\n    Layer.prototype.addLayer = function (layerId, replay) {\n        return new Layer(layerId, this, replay, this.group);\n    };\n    Layer.prototype.removeLayer = function (layerId) {\n        var _this = this;\n        var parent = this.parent.removeLayer(layerId);\n        if (layerId === this.id) {\n            if (this.group.caching) {\n                Object.keys(this.data).forEach(function (dataId) {\n                    var ownStoreObject = _this.data[dataId];\n                    var parentStoreObject = parent[\"lookup\"](dataId);\n                    if (!parentStoreObject) {\n                        _this.delete(dataId);\n                    }\n                    else if (!ownStoreObject) {\n                        _this.group.dirty(dataId, \"__exists\");\n                        Object.keys(parentStoreObject).forEach(function (storeFieldName) {\n                            _this.group.dirty(dataId, storeFieldName);\n                        });\n                    }\n                    else if (ownStoreObject !== parentStoreObject) {\n                        Object.keys(ownStoreObject).forEach(function (storeFieldName) {\n                            if (!equal(ownStoreObject[storeFieldName], parentStoreObject[storeFieldName])) {\n                                _this.group.dirty(dataId, storeFieldName);\n                            }\n                        });\n                    }\n                });\n            }\n            return parent;\n        }\n        if (parent === this.parent)\n            return this;\n        return parent.addLayer(this.id, this.replay);\n    };\n    Layer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    Layer.prototype.findChildRefIds = function (dataId) {\n        var fromParent = this.parent.findChildRefIds(dataId);\n        return hasOwn.call(this.data, dataId) ? __assign(__assign({}, fromParent), _super.prototype.findChildRefIds.call(this, dataId)) : fromParent;\n    };\n    Layer.prototype.getStorage = function () {\n        var p = this.parent;\n        while (p.parent)\n            p = p.parent;\n        return p.getStorage.apply(p, arguments);\n    };\n    return Layer;\n}(EntityStore));\nvar Stump = (function (_super) {\n    __extends(Stump, _super);\n    function Stump(root) {\n        return _super.call(this, \"EntityStore.Stump\", root, function () { }, new CacheGroup(root.group.caching, root.group)) || this;\n    }\n    Stump.prototype.removeLayer = function () {\n        return this;\n    };\n    Stump.prototype.merge = function () {\n        return this.parent.merge.apply(this.parent, arguments);\n    };\n    return Stump;\n}(Layer));\nfunction storeObjectReconciler(existingObject, incomingObject, property) {\n    var existingValue = existingObject[property];\n    var incomingValue = incomingObject[property];\n    return equal(existingValue, incomingValue) ? existingValue : incomingValue;\n}\nexport function supportsResultCaching(store) {\n    return !!(store instanceof EntityStore && store.group.caching);\n}\n//# sourceMappingURL=entityStore.js.map","import { __assign } from \"tslib\";\nimport { invariant, newInvariantError } from '../../utilities/globals/index.js';\nimport { Kind } from 'graphql';\nimport { wrap } from 'optimism';\nimport { isField, resultKeyNameFromField, isReference, makeReference, shouldInclude, addTypenameToDocument, getDefaultValues, getMainDefinition, getQueryDefinition, getFragmentFromSelection, maybeDeepFreeze, mergeDeepArray, DeepMerger, isNonNullObject, canUseWeakMap, compact } from '../../utilities/index.js';\nimport { maybeDependOnExistenceOfEntity, supportsResultCaching } from './entityStore.js';\nimport { isArray, extractFragmentContext, getTypenameFromStoreObject, shouldCanonizeResults } from './helpers.js';\nimport { MissingFieldError } from '../core/types/common.js';\nimport { canonicalStringify, ObjectCanon } from './object-canon.js';\n;\nfunction execSelectionSetKeyArgs(options) {\n    return [\n        options.selectionSet,\n        options.objectOrReference,\n        options.context,\n        options.context.canonizeResults,\n    ];\n}\nvar StoreReader = (function () {\n    function StoreReader(config) {\n        var _this = this;\n        this.knownResults = new (canUseWeakMap ? WeakMap : Map)();\n        this.config = compact(config, {\n            addTypename: config.addTypename !== false,\n            canonizeResults: shouldCanonizeResults(config),\n        });\n        this.canon = config.canon || new ObjectCanon;\n        this.executeSelectionSet = wrap(function (options) {\n            var _a;\n            var canonizeResults = options.context.canonizeResults;\n            var peekArgs = execSelectionSetKeyArgs(options);\n            peekArgs[3] = !canonizeResults;\n            var other = (_a = _this.executeSelectionSet).peek.apply(_a, peekArgs);\n            if (other) {\n                if (canonizeResults) {\n                    return __assign(__assign({}, other), { result: _this.canon.admit(other.result) });\n                }\n                return other;\n            }\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSelectionSetImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            keyArgs: execSelectionSetKeyArgs,\n            makeCacheKey: function (selectionSet, parent, context, canonizeResults) {\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(selectionSet, isReference(parent) ? parent.__ref : parent, context.varString, canonizeResults);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSubSelectedArrayImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, context = _a.context;\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(field, array, context.varString);\n                }\n            }\n        });\n    }\n    StoreReader.prototype.resetCanon = function () {\n        this.canon = new ObjectCanon;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, _b = _a.rootId, rootId = _b === void 0 ? 'ROOT_QUERY' : _b, variables = _a.variables, _c = _a.returnPartialData, returnPartialData = _c === void 0 ? true : _c, _d = _a.canonizeResults, canonizeResults = _d === void 0 ? this.config.canonizeResults : _d;\n        var policies = this.config.cache.policies;\n        variables = __assign(__assign({}, getDefaultValues(getQueryDefinition(query))), variables);\n        var rootRef = makeReference(rootId);\n        var execResult = this.executeSelectionSet({\n            selectionSet: getMainDefinition(query).selectionSet,\n            objectOrReference: rootRef,\n            enclosingRef: rootRef,\n            context: __assign({ store: store, query: query, policies: policies, variables: variables, varString: canonicalStringify(variables), canonizeResults: canonizeResults }, extractFragmentContext(query, this.config.fragments)),\n        });\n        var missing;\n        if (execResult.missing) {\n            missing = [new MissingFieldError(firstMissing(execResult.missing), execResult.missing, query, variables)];\n            if (!returnPartialData) {\n                throw missing[0];\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !missing,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.isFresh = function (result, parent, selectionSet, context) {\n        if (supportsResultCaching(context.store) &&\n            this.knownResults.get(result) === selectionSet) {\n            var latest = this.executeSelectionSet.peek(selectionSet, parent, context, this.canon.isKnown(result));\n            if (latest && result === latest.result) {\n                return true;\n            }\n        }\n        return false;\n    };\n    StoreReader.prototype.execSelectionSetImpl = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, objectOrReference = _a.objectOrReference, enclosingRef = _a.enclosingRef, context = _a.context;\n        if (isReference(objectOrReference) &&\n            !context.policies.rootTypenamesById[objectOrReference.__ref] &&\n            !context.store.has(objectOrReference.__ref)) {\n            return {\n                result: this.canon.empty,\n                missing: \"Dangling reference to missing \".concat(objectOrReference.__ref, \" object\"),\n            };\n        }\n        var variables = context.variables, policies = context.policies, store = context.store;\n        var typename = store.getFieldValue(objectOrReference, \"__typename\");\n        var objectsToMerge = [];\n        var missing;\n        var missingMerger = new DeepMerger();\n        if (this.config.addTypename &&\n            typeof typename === \"string\" &&\n            !policies.rootIdsByTypename[typename]) {\n            objectsToMerge.push({ __typename: typename });\n        }\n        function handleMissing(result, resultName) {\n            var _a;\n            if (result.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[resultName] = result.missing, _a));\n            }\n            return result.result;\n        }\n        var workSet = new Set(selectionSet.selections);\n        workSet.forEach(function (selection) {\n            var _a, _b;\n            if (!shouldInclude(selection, variables))\n                return;\n            if (isField(selection)) {\n                var fieldValue = policies.readField({\n                    fieldName: selection.name.value,\n                    field: selection,\n                    variables: context.variables,\n                    from: objectOrReference,\n                }, context);\n                var resultName = resultKeyNameFromField(selection);\n                if (fieldValue === void 0) {\n                    if (!addTypenameToDocument.added(selection)) {\n                        missing = missingMerger.merge(missing, (_a = {},\n                            _a[resultName] = \"Can't find field '\".concat(selection.name.value, \"' on \").concat(isReference(objectOrReference)\n                                ? objectOrReference.__ref + \" object\"\n                                : \"object \" + JSON.stringify(objectOrReference, null, 2)),\n                            _a));\n                    }\n                }\n                else if (isArray(fieldValue)) {\n                    fieldValue = handleMissing(_this.executeSubSelectedArray({\n                        field: selection,\n                        array: fieldValue,\n                        enclosingRef: enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                else if (!selection.selectionSet) {\n                    if (context.canonizeResults) {\n                        fieldValue = _this.canon.pass(fieldValue);\n                    }\n                }\n                else if (fieldValue != null) {\n                    fieldValue = handleMissing(_this.executeSelectionSet({\n                        selectionSet: selection.selectionSet,\n                        objectOrReference: fieldValue,\n                        enclosingRef: isReference(fieldValue) ? fieldValue : enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                if (fieldValue !== void 0) {\n                    objectsToMerge.push((_b = {}, _b[resultName] = fieldValue, _b));\n                }\n            }\n            else {\n                var fragment = getFragmentFromSelection(selection, context.lookupFragment);\n                if (!fragment && selection.kind === Kind.FRAGMENT_SPREAD) {\n                    throw newInvariantError(7, selection.name.value);\n                }\n                if (fragment && policies.fragmentMatches(fragment, typename)) {\n                    fragment.selectionSet.selections.forEach(workSet.add, workSet);\n                }\n            }\n        });\n        var result = mergeDeepArray(objectsToMerge);\n        var finalResult = { result: result, missing: missing };\n        var frozen = context.canonizeResults\n            ? this.canon.admit(finalResult)\n            : maybeDeepFreeze(finalResult);\n        if (frozen.result) {\n            this.knownResults.set(frozen.result, selectionSet);\n        }\n        return frozen;\n    };\n    StoreReader.prototype.execSubSelectedArrayImpl = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, enclosingRef = _a.enclosingRef, context = _a.context;\n        var missing;\n        var missingMerger = new DeepMerger();\n        function handleMissing(childResult, i) {\n            var _a;\n            if (childResult.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[i] = childResult.missing, _a));\n            }\n            return childResult.result;\n        }\n        if (field.selectionSet) {\n            array = array.filter(context.store.canRead);\n        }\n        array = array.map(function (item, i) {\n            if (item === null) {\n                return null;\n            }\n            if (isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    enclosingRef: enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    objectOrReference: item,\n                    enclosingRef: isReference(item) ? item : enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (globalThis.__DEV__ !== false) {\n                assertSelectionSetForIdValue(context.store, field, item);\n            }\n            return item;\n        });\n        return {\n            result: context.canonizeResults ? this.canon.admit(array) : array,\n            missing: missing,\n        };\n    };\n    return StoreReader;\n}());\nexport { StoreReader };\nfunction firstMissing(tree) {\n    try {\n        JSON.stringify(tree, function (_, value) {\n            if (typeof value === \"string\")\n                throw value;\n            return value;\n        });\n    }\n    catch (result) {\n        return result;\n    }\n}\nfunction assertSelectionSetForIdValue(store, field, fieldValue) {\n    if (!field.selectionSet) {\n        var workSet_1 = new Set([fieldValue]);\n        workSet_1.forEach(function (value) {\n            if (isNonNullObject(value)) {\n                invariant(\n                    !isReference(value),\n                    8,\n                    getTypenameFromStoreObject(store, value),\n                    field.name.value\n                );\n                Object.values(value).forEach(workSet_1.add, workSet_1);\n            }\n        });\n    }\n}\n//# sourceMappingURL=readFromStore.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport { argumentsObjectFromField, DeepMerger, isNonEmptyArray, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, isArray } from \"./helpers.js\";\nvar specifierInfoCache = Object.create(null);\nfunction lookupSpecifierInfo(spec) {\n    var cacheKey = JSON.stringify(spec);\n    return specifierInfoCache[cacheKey] ||\n        (specifierInfoCache[cacheKey] = Object.create(null));\n}\nexport function keyFieldsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyFieldsFn || (info.keyFieldsFn = function (object, context) {\n        var extract = function (from, key) { return context.readField(key, from); };\n        var keyObject = context.keyObject = collectSpecifierPaths(specifier, function (schemaKeyPath) {\n            var extracted = extractKeyPath(context.storeObject, schemaKeyPath, extract);\n            if (extracted === void 0 &&\n                object !== context.storeObject &&\n                hasOwn.call(object, schemaKeyPath[0])) {\n                extracted = extractKeyPath(object, schemaKeyPath, extractKey);\n            }\n            invariant(extracted !== void 0, 2, schemaKeyPath.join('.'), object);\n            return extracted;\n        });\n        return \"\".concat(context.typename, \":\").concat(JSON.stringify(keyObject));\n    });\n}\nexport function keyArgsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyArgsFn || (info.keyArgsFn = function (args, _a) {\n        var field = _a.field, variables = _a.variables, fieldName = _a.fieldName;\n        var collected = collectSpecifierPaths(specifier, function (keyPath) {\n            var firstKey = keyPath[0];\n            var firstChar = firstKey.charAt(0);\n            if (firstChar === \"@\") {\n                if (field && isNonEmptyArray(field.directives)) {\n                    var directiveName_1 = firstKey.slice(1);\n                    var d = field.directives.find(function (d) { return d.name.value === directiveName_1; });\n                    var directiveArgs = d && argumentsObjectFromField(d, variables);\n                    return directiveArgs && extractKeyPath(directiveArgs, keyPath.slice(1));\n                }\n                return;\n            }\n            if (firstChar === \"$\") {\n                var variableName = firstKey.slice(1);\n                if (variables && hasOwn.call(variables, variableName)) {\n                    var varKeyPath = keyPath.slice(0);\n                    varKeyPath[0] = variableName;\n                    return extractKeyPath(variables, varKeyPath);\n                }\n                return;\n            }\n            if (args) {\n                return extractKeyPath(args, keyPath);\n            }\n        });\n        var suffix = JSON.stringify(collected);\n        if (args || suffix !== \"{}\") {\n            fieldName += \":\" + suffix;\n        }\n        return fieldName;\n    });\n}\nexport function collectSpecifierPaths(specifier, extractor) {\n    var merger = new DeepMerger;\n    return getSpecifierPaths(specifier).reduce(function (collected, path) {\n        var _a;\n        var toMerge = extractor(path);\n        if (toMerge !== void 0) {\n            for (var i = path.length - 1; i >= 0; --i) {\n                toMerge = (_a = {}, _a[path[i]] = toMerge, _a);\n            }\n            collected = merger.merge(collected, toMerge);\n        }\n        return collected;\n    }, Object.create(null));\n}\nexport function getSpecifierPaths(spec) {\n    var info = lookupSpecifierInfo(spec);\n    if (!info.paths) {\n        var paths_1 = info.paths = [];\n        var currentPath_1 = [];\n        spec.forEach(function (s, i) {\n            if (isArray(s)) {\n                getSpecifierPaths(s).forEach(function (p) { return paths_1.push(currentPath_1.concat(p)); });\n                currentPath_1.length = 0;\n            }\n            else {\n                currentPath_1.push(s);\n                if (!isArray(spec[i + 1])) {\n                    paths_1.push(currentPath_1.slice(0));\n                    currentPath_1.length = 0;\n                }\n            }\n        });\n    }\n    return info.paths;\n}\nfunction extractKey(object, key) {\n    return object[key];\n}\nexport function extractKeyPath(object, path, extract) {\n    extract = extract || extractKey;\n    return normalize(path.reduce(function reducer(obj, key) {\n        return isArray(obj)\n            ? obj.map(function (child) { return reducer(child, key); })\n            : obj && extract(obj, key);\n    }, object));\n}\nfunction normalize(value) {\n    if (isNonNullObject(value)) {\n        if (isArray(value)) {\n            return value.map(normalize);\n        }\n        return collectSpecifierPaths(Object.keys(value).sort(), function (path) { return extractKeyPath(value, path); });\n    }\n    return value;\n}\n//# sourceMappingURL=key-extractor.js.map","import { __assign, __rest } from \"tslib\";\nimport { invariant, newInvariantError } from '../../utilities/globals/index.js';\nimport { storeKeyNameFromField, argumentsObjectFromField, isReference, getStoreKeyName, isNonNullObject, stringifyForDisplay, } from '../../utilities/index.js';\nimport { hasOwn, fieldNameFromStoreName, storeValueIsStoreObject, selectionSetMatchesResult, TypeOrFieldNameRegExp, defaultDataIdFromObject, isArray, } from './helpers.js';\nimport { cacheSlot } from './reactiveVars.js';\nimport { canonicalStringify } from './object-canon.js';\nimport { keyArgsFnFromSpecifier, keyFieldsFnFromSpecifier } from './key-extractor.js';\ngetStoreKeyName.setStringify(canonicalStringify);\nfunction argsFromFieldSpecifier(spec) {\n    return spec.args !== void 0 ? spec.args :\n        spec.field ? argumentsObjectFromField(spec.field, spec.variables) : null;\n}\nvar nullKeyFieldsFn = function () { return void 0; };\nvar simpleKeyArgsFn = function (_args, context) { return context.fieldName; };\nvar mergeTrueFn = function (existing, incoming, _a) {\n    var mergeObjects = _a.mergeObjects;\n    return mergeObjects(existing, incoming);\n};\nvar mergeFalseFn = function (_, incoming) { return incoming; };\nvar Policies = (function () {\n    function Policies(config) {\n        this.config = config;\n        this.typePolicies = Object.create(null);\n        this.toBeAdded = Object.create(null);\n        this.supertypeMap = new Map();\n        this.fuzzySubtypes = new Map();\n        this.rootIdsByTypename = Object.create(null);\n        this.rootTypenamesById = Object.create(null);\n        this.usingPossibleTypes = false;\n        this.config = __assign({ dataIdFromObject: defaultDataIdFromObject }, config);\n        this.cache = this.config.cache;\n        this.setRootTypename(\"Query\");\n        this.setRootTypename(\"Mutation\");\n        this.setRootTypename(\"Subscription\");\n        if (config.possibleTypes) {\n            this.addPossibleTypes(config.possibleTypes);\n        }\n        if (config.typePolicies) {\n            this.addTypePolicies(config.typePolicies);\n        }\n    }\n    Policies.prototype.identify = function (object, partialContext) {\n        var _a;\n        var policies = this;\n        var typename = partialContext && (partialContext.typename ||\n            ((_a = partialContext.storeObject) === null || _a === void 0 ? void 0 : _a.__typename)) || object.__typename;\n        if (typename === this.rootTypenamesById.ROOT_QUERY) {\n            return [\"ROOT_QUERY\"];\n        }\n        var storeObject = partialContext && partialContext.storeObject || object;\n        var context = __assign(__assign({}, partialContext), { typename: typename, storeObject: storeObject, readField: partialContext && partialContext.readField || function () {\n                var options = normalizeReadFieldOptions(arguments, storeObject);\n                return policies.readField(options, {\n                    store: policies.cache[\"data\"],\n                    variables: options.variables,\n                });\n            } });\n        var id;\n        var policy = typename && this.getTypePolicy(typename);\n        var keyFn = policy && policy.keyFn || this.config.dataIdFromObject;\n        while (keyFn) {\n            var specifierOrId = keyFn(__assign(__assign({}, object), storeObject), context);\n            if (isArray(specifierOrId)) {\n                keyFn = keyFieldsFnFromSpecifier(specifierOrId);\n            }\n            else {\n                id = specifierOrId;\n                break;\n            }\n        }\n        id = id ? String(id) : void 0;\n        return context.keyObject ? [id, context.keyObject] : [id];\n    };\n    Policies.prototype.addTypePolicies = function (typePolicies) {\n        var _this = this;\n        Object.keys(typePolicies).forEach(function (typename) {\n            var _a = typePolicies[typename], queryType = _a.queryType, mutationType = _a.mutationType, subscriptionType = _a.subscriptionType, incoming = __rest(_a, [\"queryType\", \"mutationType\", \"subscriptionType\"]);\n            if (queryType)\n                _this.setRootTypename(\"Query\", typename);\n            if (mutationType)\n                _this.setRootTypename(\"Mutation\", typename);\n            if (subscriptionType)\n                _this.setRootTypename(\"Subscription\", typename);\n            if (hasOwn.call(_this.toBeAdded, typename)) {\n                _this.toBeAdded[typename].push(incoming);\n            }\n            else {\n                _this.toBeAdded[typename] = [incoming];\n            }\n        });\n    };\n    Policies.prototype.updateTypePolicy = function (typename, incoming) {\n        var _this = this;\n        var existing = this.getTypePolicy(typename);\n        var keyFields = incoming.keyFields, fields = incoming.fields;\n        function setMerge(existing, merge) {\n            existing.merge =\n                typeof merge === \"function\" ? merge :\n                    merge === true ? mergeTrueFn :\n                        merge === false ? mergeFalseFn :\n                            existing.merge;\n        }\n        setMerge(existing, incoming.merge);\n        existing.keyFn =\n            keyFields === false ? nullKeyFieldsFn :\n                isArray(keyFields) ? keyFieldsFnFromSpecifier(keyFields) :\n                    typeof keyFields === \"function\" ? keyFields :\n                        existing.keyFn;\n        if (fields) {\n            Object.keys(fields).forEach(function (fieldName) {\n                var existing = _this.getFieldPolicy(typename, fieldName, true);\n                var incoming = fields[fieldName];\n                if (typeof incoming === \"function\") {\n                    existing.read = incoming;\n                }\n                else {\n                    var keyArgs = incoming.keyArgs, read = incoming.read, merge = incoming.merge;\n                    existing.keyFn =\n                        keyArgs === false ? simpleKeyArgsFn :\n                            isArray(keyArgs) ? keyArgsFnFromSpecifier(keyArgs) :\n                                typeof keyArgs === \"function\" ? keyArgs :\n                                    existing.keyFn;\n                    if (typeof read === \"function\") {\n                        existing.read = read;\n                    }\n                    setMerge(existing, merge);\n                }\n                if (existing.read && existing.merge) {\n                    existing.keyFn = existing.keyFn || simpleKeyArgsFn;\n                }\n            });\n        }\n    };\n    Policies.prototype.setRootTypename = function (which, typename) {\n        if (typename === void 0) { typename = which; }\n        var rootId = \"ROOT_\" + which.toUpperCase();\n        var old = this.rootTypenamesById[rootId];\n        if (typename !== old) {\n            invariant(!old || old === which, 3, which);\n            if (old)\n                delete this.rootIdsByTypename[old];\n            this.rootIdsByTypename[typename] = rootId;\n            this.rootTypenamesById[rootId] = typename;\n        }\n    };\n    Policies.prototype.addPossibleTypes = function (possibleTypes) {\n        var _this = this;\n        this.usingPossibleTypes = true;\n        Object.keys(possibleTypes).forEach(function (supertype) {\n            _this.getSupertypeSet(supertype, true);\n            possibleTypes[supertype].forEach(function (subtype) {\n                _this.getSupertypeSet(subtype, true).add(supertype);\n                var match = subtype.match(TypeOrFieldNameRegExp);\n                if (!match || match[0] !== subtype) {\n                    _this.fuzzySubtypes.set(subtype, new RegExp(subtype));\n                }\n            });\n        });\n    };\n    Policies.prototype.getTypePolicy = function (typename) {\n        var _this = this;\n        if (!hasOwn.call(this.typePolicies, typename)) {\n            var policy_1 = this.typePolicies[typename] = Object.create(null);\n            policy_1.fields = Object.create(null);\n            var supertypes_1 = this.supertypeMap.get(typename);\n            if (!supertypes_1 && this.fuzzySubtypes.size) {\n                supertypes_1 = this.getSupertypeSet(typename, true);\n                this.fuzzySubtypes.forEach(function (regExp, fuzzy) {\n                    if (regExp.test(typename)) {\n                        var fuzzySupertypes = _this.supertypeMap.get(fuzzy);\n                        if (fuzzySupertypes) {\n                            fuzzySupertypes.forEach(function (supertype) { return supertypes_1.add(supertype); });\n                        }\n                    }\n                });\n            }\n            if (supertypes_1 && supertypes_1.size) {\n                supertypes_1.forEach(function (supertype) {\n                    var _a = _this.getTypePolicy(supertype), fields = _a.fields, rest = __rest(_a, [\"fields\"]);\n                    Object.assign(policy_1, rest);\n                    Object.assign(policy_1.fields, fields);\n                });\n            }\n        }\n        var inbox = this.toBeAdded[typename];\n        if (inbox && inbox.length) {\n            inbox.splice(0).forEach(function (policy) {\n                _this.updateTypePolicy(typename, policy);\n            });\n        }\n        return this.typePolicies[typename];\n    };\n    Policies.prototype.getFieldPolicy = function (typename, fieldName, createIfMissing) {\n        if (typename) {\n            var fieldPolicies = this.getTypePolicy(typename).fields;\n            return fieldPolicies[fieldName] || (createIfMissing && (fieldPolicies[fieldName] = Object.create(null)));\n        }\n    };\n    Policies.prototype.getSupertypeSet = function (subtype, createIfMissing) {\n        var supertypeSet = this.supertypeMap.get(subtype);\n        if (!supertypeSet && createIfMissing) {\n            this.supertypeMap.set(subtype, supertypeSet = new Set());\n        }\n        return supertypeSet;\n    };\n    Policies.prototype.fragmentMatches = function (fragment, typename, result, variables) {\n        var _this = this;\n        if (!fragment.typeCondition)\n            return true;\n        if (!typename)\n            return false;\n        var supertype = fragment.typeCondition.name.value;\n        if (typename === supertype)\n            return true;\n        if (this.usingPossibleTypes &&\n            this.supertypeMap.has(supertype)) {\n            var typenameSupertypeSet = this.getSupertypeSet(typename, true);\n            var workQueue_1 = [typenameSupertypeSet];\n            var maybeEnqueue_1 = function (subtype) {\n                var supertypeSet = _this.getSupertypeSet(subtype, false);\n                if (supertypeSet &&\n                    supertypeSet.size &&\n                    workQueue_1.indexOf(supertypeSet) < 0) {\n                    workQueue_1.push(supertypeSet);\n                }\n            };\n            var needToCheckFuzzySubtypes = !!(result && this.fuzzySubtypes.size);\n            var checkingFuzzySubtypes = false;\n            for (var i = 0; i < workQueue_1.length; ++i) {\n                var supertypeSet = workQueue_1[i];\n                if (supertypeSet.has(supertype)) {\n                    if (!typenameSupertypeSet.has(supertype)) {\n                        if (checkingFuzzySubtypes) {\n                            globalThis.__DEV__ !== false && invariant.warn(4, typename, supertype);\n                        }\n                        typenameSupertypeSet.add(supertype);\n                    }\n                    return true;\n                }\n                supertypeSet.forEach(maybeEnqueue_1);\n                if (needToCheckFuzzySubtypes &&\n                    i === workQueue_1.length - 1 &&\n                    selectionSetMatchesResult(fragment.selectionSet, result, variables)) {\n                    needToCheckFuzzySubtypes = false;\n                    checkingFuzzySubtypes = true;\n                    this.fuzzySubtypes.forEach(function (regExp, fuzzyString) {\n                        var match = typename.match(regExp);\n                        if (match && match[0] === typename) {\n                            maybeEnqueue_1(fuzzyString);\n                        }\n                    });\n                }\n            }\n        }\n        return false;\n    };\n    Policies.prototype.hasKeyArgs = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return !!(policy && policy.keyFn);\n    };\n    Policies.prototype.getStoreFieldName = function (fieldSpec) {\n        var typename = fieldSpec.typename, fieldName = fieldSpec.fieldName;\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        var storeFieldName;\n        var keyFn = policy && policy.keyFn;\n        if (keyFn && typename) {\n            var context = {\n                typename: typename,\n                fieldName: fieldName,\n                field: fieldSpec.field || null,\n                variables: fieldSpec.variables,\n            };\n            var args = argsFromFieldSpecifier(fieldSpec);\n            while (keyFn) {\n                var specifierOrString = keyFn(args, context);\n                if (isArray(specifierOrString)) {\n                    keyFn = keyArgsFnFromSpecifier(specifierOrString);\n                }\n                else {\n                    storeFieldName = specifierOrString || fieldName;\n                    break;\n                }\n            }\n        }\n        if (storeFieldName === void 0) {\n            storeFieldName = fieldSpec.field\n                ? storeKeyNameFromField(fieldSpec.field, fieldSpec.variables)\n                : getStoreKeyName(fieldName, argsFromFieldSpecifier(fieldSpec));\n        }\n        if (storeFieldName === false) {\n            return fieldName;\n        }\n        return fieldName === fieldNameFromStoreName(storeFieldName)\n            ? storeFieldName\n            : fieldName + \":\" + storeFieldName;\n    };\n    Policies.prototype.readField = function (options, context) {\n        var objectOrReference = options.from;\n        if (!objectOrReference)\n            return;\n        var nameOrField = options.field || options.fieldName;\n        if (!nameOrField)\n            return;\n        if (options.typename === void 0) {\n            var typename = context.store.getFieldValue(objectOrReference, \"__typename\");\n            if (typename)\n                options.typename = typename;\n        }\n        var storeFieldName = this.getStoreFieldName(options);\n        var fieldName = fieldNameFromStoreName(storeFieldName);\n        var existing = context.store.getFieldValue(objectOrReference, storeFieldName);\n        var policy = this.getFieldPolicy(options.typename, fieldName, false);\n        var read = policy && policy.read;\n        if (read) {\n            var readOptions = makeFieldFunctionOptions(this, objectOrReference, options, context, context.store.getStorage(isReference(objectOrReference)\n                ? objectOrReference.__ref\n                : objectOrReference, storeFieldName));\n            return cacheSlot.withValue(this.cache, read, [existing, readOptions]);\n        }\n        return existing;\n    };\n    Policies.prototype.getReadFunction = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return policy && policy.read;\n    };\n    Policies.prototype.getMergeFunction = function (parentTypename, fieldName, childTypename) {\n        var policy = this.getFieldPolicy(parentTypename, fieldName, false);\n        var merge = policy && policy.merge;\n        if (!merge && childTypename) {\n            policy = this.getTypePolicy(childTypename);\n            merge = policy && policy.merge;\n        }\n        return merge;\n    };\n    Policies.prototype.runMergeFunction = function (existing, incoming, _a, context, storage) {\n        var field = _a.field, typename = _a.typename, merge = _a.merge;\n        if (merge === mergeTrueFn) {\n            return makeMergeObjectsFunction(context.store)(existing, incoming);\n        }\n        if (merge === mergeFalseFn) {\n            return incoming;\n        }\n        if (context.overwrite) {\n            existing = void 0;\n        }\n        return merge(existing, incoming, makeFieldFunctionOptions(this, void 0, { typename: typename, fieldName: field.name.value, field: field, variables: context.variables }, context, storage || Object.create(null)));\n    };\n    return Policies;\n}());\nexport { Policies };\nfunction makeFieldFunctionOptions(policies, objectOrReference, fieldSpec, context, storage) {\n    var storeFieldName = policies.getStoreFieldName(fieldSpec);\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var variables = fieldSpec.variables || context.variables;\n    var _a = context.store, toReference = _a.toReference, canRead = _a.canRead;\n    return {\n        args: argsFromFieldSpecifier(fieldSpec),\n        field: fieldSpec.field || null,\n        fieldName: fieldName,\n        storeFieldName: storeFieldName,\n        variables: variables,\n        isReference: isReference,\n        toReference: toReference,\n        storage: storage,\n        cache: policies.cache,\n        canRead: canRead,\n        readField: function () {\n            return policies.readField(normalizeReadFieldOptions(arguments, objectOrReference, variables), context);\n        },\n        mergeObjects: makeMergeObjectsFunction(context.store),\n    };\n}\nexport function normalizeReadFieldOptions(readFieldArgs, objectOrReference, variables) {\n    var fieldNameOrOptions = readFieldArgs[0], from = readFieldArgs[1], argc = readFieldArgs.length;\n    var options;\n    if (typeof fieldNameOrOptions === \"string\") {\n        options = {\n            fieldName: fieldNameOrOptions,\n            from: argc > 1 ? from : objectOrReference,\n        };\n    }\n    else {\n        options = __assign({}, fieldNameOrOptions);\n        if (!hasOwn.call(options, \"from\")) {\n            options.from = objectOrReference;\n        }\n    }\n    if (globalThis.__DEV__ !== false && options.from === void 0) {\n        globalThis.__DEV__ !== false && invariant.warn(5, stringifyForDisplay(Array.from(readFieldArgs)));\n    }\n    if (void 0 === options.variables) {\n        options.variables = variables;\n    }\n    return options;\n}\nfunction makeMergeObjectsFunction(store) {\n    return function mergeObjects(existing, incoming) {\n        if (isArray(existing) || isArray(incoming)) {\n            throw newInvariantError(6);\n        }\n        if (isNonNullObject(existing) &&\n            isNonNullObject(incoming)) {\n            var eType = store.getFieldValue(existing, \"__typename\");\n            var iType = store.getFieldValue(incoming, \"__typename\");\n            var typesDiffer = eType && iType && eType !== iType;\n            if (typesDiffer) {\n                return incoming;\n            }\n            if (isReference(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                store.merge(existing.__ref, incoming);\n                return existing;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                isReference(incoming)) {\n                store.merge(existing, incoming.__ref);\n                return incoming;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                return __assign(__assign({}, existing), incoming);\n            }\n        }\n        return incoming;\n    };\n}\n//# sourceMappingURL=policies.js.map","import { __assign } from \"tslib\";\nimport { invariant, newInvariantError } from '../../utilities/globals/index.js';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { Kind, } from 'graphql';\nimport { getFragmentFromSelection, getDefaultValues, getOperationDefinition, getTypenameFromResult, makeReference, isField, resultKeyNameFromField, isReference, shouldInclude, cloneDeep, addTypenameToDocument, isNonEmptyArray, argumentsObjectFromField, } from '../../utilities/index.js';\nimport { isArray, makeProcessedFieldsMerger, fieldNameFromStoreName, storeValueIsStoreObject, extractFragmentContext } from './helpers.js';\nimport { canonicalStringify } from './object-canon.js';\nimport { normalizeReadFieldOptions } from './policies.js';\n;\nfunction getContextFlavor(context, clientOnly, deferred) {\n    var key = \"\".concat(clientOnly).concat(deferred);\n    var flavored = context.flavors.get(key);\n    if (!flavored) {\n        context.flavors.set(key, flavored = (context.clientOnly === clientOnly &&\n            context.deferred === deferred) ? context : __assign(__assign({}, context), { clientOnly: clientOnly, deferred: deferred }));\n    }\n    return flavored;\n}\nvar StoreWriter = (function () {\n    function StoreWriter(cache, reader, fragments) {\n        this.cache = cache;\n        this.reader = reader;\n        this.fragments = fragments;\n    }\n    StoreWriter.prototype.writeToStore = function (store, _a) {\n        var _this = this;\n        var query = _a.query, result = _a.result, dataId = _a.dataId, variables = _a.variables, overwrite = _a.overwrite;\n        var operationDefinition = getOperationDefinition(query);\n        var merger = makeProcessedFieldsMerger();\n        variables = __assign(__assign({}, getDefaultValues(operationDefinition)), variables);\n        var context = __assign(__assign({ store: store, written: Object.create(null), merge: function (existing, incoming) {\n                return merger.merge(existing, incoming);\n            }, variables: variables, varString: canonicalStringify(variables) }, extractFragmentContext(query, this.fragments)), { overwrite: !!overwrite, incomingById: new Map, clientOnly: false, deferred: false, flavors: new Map });\n        var ref = this.processSelectionSet({\n            result: result || Object.create(null),\n            dataId: dataId,\n            selectionSet: operationDefinition.selectionSet,\n            mergeTree: { map: new Map },\n            context: context,\n        });\n        if (!isReference(ref)) {\n            throw newInvariantError(9, result);\n        }\n        context.incomingById.forEach(function (_a, dataId) {\n            var storeObject = _a.storeObject, mergeTree = _a.mergeTree, fieldNodeSet = _a.fieldNodeSet;\n            var entityRef = makeReference(dataId);\n            if (mergeTree && mergeTree.map.size) {\n                var applied = _this.applyMerges(mergeTree, entityRef, storeObject, context);\n                if (isReference(applied)) {\n                    return;\n                }\n                storeObject = applied;\n            }\n            if (globalThis.__DEV__ !== false && !context.overwrite) {\n                var fieldsWithSelectionSets_1 = Object.create(null);\n                fieldNodeSet.forEach(function (field) {\n                    if (field.selectionSet) {\n                        fieldsWithSelectionSets_1[field.name.value] = true;\n                    }\n                });\n                var hasSelectionSet_1 = function (storeFieldName) {\n                    return fieldsWithSelectionSets_1[fieldNameFromStoreName(storeFieldName)] === true;\n                };\n                var hasMergeFunction_1 = function (storeFieldName) {\n                    var childTree = mergeTree && mergeTree.map.get(storeFieldName);\n                    return Boolean(childTree && childTree.info && childTree.info.merge);\n                };\n                Object.keys(storeObject).forEach(function (storeFieldName) {\n                    if (hasSelectionSet_1(storeFieldName) &&\n                        !hasMergeFunction_1(storeFieldName)) {\n                        warnAboutDataLoss(entityRef, storeObject, storeFieldName, context.store);\n                    }\n                });\n            }\n            store.merge(dataId, storeObject);\n        });\n        store.retain(ref.__ref);\n        return ref;\n    };\n    StoreWriter.prototype.processSelectionSet = function (_a) {\n        var _this = this;\n        var dataId = _a.dataId, result = _a.result, selectionSet = _a.selectionSet, context = _a.context, mergeTree = _a.mergeTree;\n        var policies = this.cache.policies;\n        var incoming = Object.create(null);\n        var typename = (dataId && policies.rootTypenamesById[dataId]) ||\n            getTypenameFromResult(result, selectionSet, context.fragmentMap) ||\n            (dataId && context.store.get(dataId, \"__typename\"));\n        if (\"string\" === typeof typename) {\n            incoming.__typename = typename;\n        }\n        var readField = function () {\n            var options = normalizeReadFieldOptions(arguments, incoming, context.variables);\n            if (isReference(options.from)) {\n                var info = context.incomingById.get(options.from.__ref);\n                if (info) {\n                    var result_1 = policies.readField(__assign(__assign({}, options), { from: info.storeObject }), context);\n                    if (result_1 !== void 0) {\n                        return result_1;\n                    }\n                }\n            }\n            return policies.readField(options, context);\n        };\n        var fieldNodeSet = new Set();\n        this.flattenFields(selectionSet, result, context, typename).forEach(function (context, field) {\n            var _a;\n            var resultFieldKey = resultKeyNameFromField(field);\n            var value = result[resultFieldKey];\n            fieldNodeSet.add(field);\n            if (value !== void 0) {\n                var storeFieldName = policies.getStoreFieldName({\n                    typename: typename,\n                    fieldName: field.name.value,\n                    field: field,\n                    variables: context.variables,\n                });\n                var childTree = getChildMergeTree(mergeTree, storeFieldName);\n                var incomingValue = _this.processFieldValue(value, field, field.selectionSet\n                    ? getContextFlavor(context, false, false)\n                    : context, childTree);\n                var childTypename = void 0;\n                if (field.selectionSet &&\n                    (isReference(incomingValue) ||\n                        storeValueIsStoreObject(incomingValue))) {\n                    childTypename = readField(\"__typename\", incomingValue);\n                }\n                var merge = policies.getMergeFunction(typename, field.name.value, childTypename);\n                if (merge) {\n                    childTree.info = {\n                        field: field,\n                        typename: typename,\n                        merge: merge,\n                    };\n                }\n                else {\n                    maybeRecycleChildMergeTree(mergeTree, storeFieldName);\n                }\n                incoming = context.merge(incoming, (_a = {},\n                    _a[storeFieldName] = incomingValue,\n                    _a));\n            }\n            else if (globalThis.__DEV__ !== false &&\n                !context.clientOnly &&\n                !context.deferred &&\n                !addTypenameToDocument.added(field) &&\n                !policies.getReadFunction(typename, field.name.value)) {\n                globalThis.__DEV__ !== false && invariant.error(10, resultKeyNameFromField(field), result);\n            }\n        });\n        try {\n            var _b = policies.identify(result, {\n                typename: typename,\n                selectionSet: selectionSet,\n                fragmentMap: context.fragmentMap,\n                storeObject: incoming,\n                readField: readField,\n            }), id = _b[0], keyObject = _b[1];\n            dataId = dataId || id;\n            if (keyObject) {\n                incoming = context.merge(incoming, keyObject);\n            }\n        }\n        catch (e) {\n            if (!dataId)\n                throw e;\n        }\n        if (\"string\" === typeof dataId) {\n            var dataRef = makeReference(dataId);\n            var sets = context.written[dataId] || (context.written[dataId] = []);\n            if (sets.indexOf(selectionSet) >= 0)\n                return dataRef;\n            sets.push(selectionSet);\n            if (this.reader && this.reader.isFresh(result, dataRef, selectionSet, context)) {\n                return dataRef;\n            }\n            var previous_1 = context.incomingById.get(dataId);\n            if (previous_1) {\n                previous_1.storeObject = context.merge(previous_1.storeObject, incoming);\n                previous_1.mergeTree = mergeMergeTrees(previous_1.mergeTree, mergeTree);\n                fieldNodeSet.forEach(function (field) { return previous_1.fieldNodeSet.add(field); });\n            }\n            else {\n                context.incomingById.set(dataId, {\n                    storeObject: incoming,\n                    mergeTree: mergeTreeIsEmpty(mergeTree) ? void 0 : mergeTree,\n                    fieldNodeSet: fieldNodeSet,\n                });\n            }\n            return dataRef;\n        }\n        return incoming;\n    };\n    StoreWriter.prototype.processFieldValue = function (value, field, context, mergeTree) {\n        var _this = this;\n        if (!field.selectionSet || value === null) {\n            return globalThis.__DEV__ !== false ? cloneDeep(value) : value;\n        }\n        if (isArray(value)) {\n            return value.map(function (item, i) {\n                var value = _this.processFieldValue(item, field, context, getChildMergeTree(mergeTree, i));\n                maybeRecycleChildMergeTree(mergeTree, i);\n                return value;\n            });\n        }\n        return this.processSelectionSet({\n            result: value,\n            selectionSet: field.selectionSet,\n            context: context,\n            mergeTree: mergeTree,\n        });\n    };\n    StoreWriter.prototype.flattenFields = function (selectionSet, result, context, typename) {\n        if (typename === void 0) { typename = getTypenameFromResult(result, selectionSet, context.fragmentMap); }\n        var fieldMap = new Map();\n        var policies = this.cache.policies;\n        var limitingTrie = new Trie(false);\n        (function flatten(selectionSet, inheritedContext) {\n            var visitedNode = limitingTrie.lookup(selectionSet, inheritedContext.clientOnly, inheritedContext.deferred);\n            if (visitedNode.visited)\n                return;\n            visitedNode.visited = true;\n            selectionSet.selections.forEach(function (selection) {\n                if (!shouldInclude(selection, context.variables))\n                    return;\n                var clientOnly = inheritedContext.clientOnly, deferred = inheritedContext.deferred;\n                if (!(clientOnly && deferred) &&\n                    isNonEmptyArray(selection.directives)) {\n                    selection.directives.forEach(function (dir) {\n                        var name = dir.name.value;\n                        if (name === \"client\")\n                            clientOnly = true;\n                        if (name === \"defer\") {\n                            var args = argumentsObjectFromField(dir, context.variables);\n                            if (!args || args.if !== false) {\n                                deferred = true;\n                            }\n                        }\n                    });\n                }\n                if (isField(selection)) {\n                    var existing = fieldMap.get(selection);\n                    if (existing) {\n                        clientOnly = clientOnly && existing.clientOnly;\n                        deferred = deferred && existing.deferred;\n                    }\n                    fieldMap.set(selection, getContextFlavor(context, clientOnly, deferred));\n                }\n                else {\n                    var fragment = getFragmentFromSelection(selection, context.lookupFragment);\n                    if (!fragment && selection.kind === Kind.FRAGMENT_SPREAD) {\n                        throw newInvariantError(11, selection.name.value);\n                    }\n                    if (fragment &&\n                        policies.fragmentMatches(fragment, typename, result, context.variables)) {\n                        flatten(fragment.selectionSet, getContextFlavor(context, clientOnly, deferred));\n                    }\n                }\n            });\n        })(selectionSet, context);\n        return fieldMap;\n    };\n    StoreWriter.prototype.applyMerges = function (mergeTree, existing, incoming, context, getStorageArgs) {\n        var _a;\n        var _this = this;\n        if (mergeTree.map.size && !isReference(incoming)) {\n            var e_1 = (!isArray(incoming) &&\n                (isReference(existing) || storeValueIsStoreObject(existing))) ? existing : void 0;\n            var i_1 = incoming;\n            if (e_1 && !getStorageArgs) {\n                getStorageArgs = [isReference(e_1) ? e_1.__ref : e_1];\n            }\n            var changedFields_1;\n            var getValue_1 = function (from, name) {\n                return isArray(from)\n                    ? (typeof name === \"number\" ? from[name] : void 0)\n                    : context.store.getFieldValue(from, String(name));\n            };\n            mergeTree.map.forEach(function (childTree, storeFieldName) {\n                var eVal = getValue_1(e_1, storeFieldName);\n                var iVal = getValue_1(i_1, storeFieldName);\n                if (void 0 === iVal)\n                    return;\n                if (getStorageArgs) {\n                    getStorageArgs.push(storeFieldName);\n                }\n                var aVal = _this.applyMerges(childTree, eVal, iVal, context, getStorageArgs);\n                if (aVal !== iVal) {\n                    changedFields_1 = changedFields_1 || new Map;\n                    changedFields_1.set(storeFieldName, aVal);\n                }\n                if (getStorageArgs) {\n                    invariant(getStorageArgs.pop() === storeFieldName);\n                }\n            });\n            if (changedFields_1) {\n                incoming = (isArray(i_1) ? i_1.slice(0) : __assign({}, i_1));\n                changedFields_1.forEach(function (value, name) {\n                    incoming[name] = value;\n                });\n            }\n        }\n        if (mergeTree.info) {\n            return this.cache.policies.runMergeFunction(existing, incoming, mergeTree.info, context, getStorageArgs && (_a = context.store).getStorage.apply(_a, getStorageArgs));\n        }\n        return incoming;\n    };\n    return StoreWriter;\n}());\nexport { StoreWriter };\nvar emptyMergeTreePool = [];\nfunction getChildMergeTree(_a, name) {\n    var map = _a.map;\n    if (!map.has(name)) {\n        map.set(name, emptyMergeTreePool.pop() || { map: new Map });\n    }\n    return map.get(name);\n}\nfunction mergeMergeTrees(left, right) {\n    if (left === right || !right || mergeTreeIsEmpty(right))\n        return left;\n    if (!left || mergeTreeIsEmpty(left))\n        return right;\n    var info = left.info && right.info ? __assign(__assign({}, left.info), right.info) : left.info || right.info;\n    var needToMergeMaps = left.map.size && right.map.size;\n    var map = needToMergeMaps ? new Map :\n        left.map.size ? left.map : right.map;\n    var merged = { info: info, map: map };\n    if (needToMergeMaps) {\n        var remainingRightKeys_1 = new Set(right.map.keys());\n        left.map.forEach(function (leftTree, key) {\n            merged.map.set(key, mergeMergeTrees(leftTree, right.map.get(key)));\n            remainingRightKeys_1.delete(key);\n        });\n        remainingRightKeys_1.forEach(function (key) {\n            merged.map.set(key, mergeMergeTrees(right.map.get(key), left.map.get(key)));\n        });\n    }\n    return merged;\n}\nfunction mergeTreeIsEmpty(tree) {\n    return !tree || !(tree.info || tree.map.size);\n}\nfunction maybeRecycleChildMergeTree(_a, name) {\n    var map = _a.map;\n    var childTree = map.get(name);\n    if (childTree && mergeTreeIsEmpty(childTree)) {\n        emptyMergeTreePool.push(childTree);\n        map.delete(name);\n    }\n}\nvar warnings = new Set();\nfunction warnAboutDataLoss(existingRef, incomingObj, storeFieldName, store) {\n    var getChild = function (objOrRef) {\n        var child = store.getFieldValue(objOrRef, storeFieldName);\n        return typeof child === \"object\" && child;\n    };\n    var existing = getChild(existingRef);\n    if (!existing)\n        return;\n    var incoming = getChild(incomingObj);\n    if (!incoming)\n        return;\n    if (isReference(existing))\n        return;\n    if (equal(existing, incoming))\n        return;\n    if (Object.keys(existing).every(function (key) { return store.getFieldValue(incoming, key) !== void 0; })) {\n        return;\n    }\n    var parentType = store.getFieldValue(existingRef, \"__typename\") ||\n        store.getFieldValue(incomingObj, \"__typename\");\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var typeDotName = \"\".concat(parentType, \".\").concat(fieldName);\n    if (warnings.has(typeDotName))\n        return;\n    warnings.add(typeDotName);\n    var childTypenames = [];\n    if (!isArray(existing) &&\n        !isArray(incoming)) {\n        [existing, incoming].forEach(function (child) {\n            var typename = store.getFieldValue(child, \"__typename\");\n            if (typeof typename === \"string\" &&\n                !childTypenames.includes(typename)) {\n                childTypenames.push(typename);\n            }\n        });\n    }\n    globalThis.__DEV__ !== false && invariant.warn(12, fieldName, parentType, childTypenames.length\n        ? \"either ensure all objects of type \" + childTypenames.join(\" and \") + \" have an ID or a custom merge function, or \"\n        : \"\", typeDotName, existing, incoming);\n}\n//# sourceMappingURL=writeToStore.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from '../../utilities/globals/index.js';\nimport './fixPolyfills.js';\nimport { wrap } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { ApolloCache } from '../core/cache.js';\nimport { MissingFieldError } from '../core/types/common.js';\nimport { addTypenameToDocument, isReference, DocumentTransform, } from '../../utilities/index.js';\nimport { StoreReader } from './readFromStore.js';\nimport { StoreWriter } from './writeToStore.js';\nimport { EntityStore, supportsResultCaching } from './entityStore.js';\nimport { makeVar, forgetCache, recallCache } from './reactiveVars.js';\nimport { Policies } from './policies.js';\nimport { hasOwn, normalizeConfig, shouldCanonizeResults } from './helpers.js';\nimport { canonicalStringify } from './object-canon.js';\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.addTypenameTransform = new DocumentTransform(addTypenameToDocument);\n        _this.assumeImmutableResults = true;\n        _this.makeVar = makeVar;\n        _this.txCount = 0;\n        _this.config = normalizeConfig(config);\n        _this.addTypename = !!_this.config.addTypename;\n        _this.policies = new Policies({\n            cache: _this,\n            dataIdFromObject: _this.config.dataIdFromObject,\n            possibleTypes: _this.config.possibleTypes,\n            typePolicies: _this.config.typePolicies,\n        });\n        _this.init();\n        return _this;\n    }\n    InMemoryCache.prototype.init = function () {\n        var rootStore = this.data = new EntityStore.Root({\n            policies: this.policies,\n            resultCaching: this.config.resultCaching,\n        });\n        this.optimisticData = rootStore.stump;\n        this.resetResultCache();\n    };\n    InMemoryCache.prototype.resetResultCache = function (resetResultIdentities) {\n        var _this = this;\n        var previousReader = this.storeReader;\n        var fragments = this.config.fragments;\n        this.storeWriter = new StoreWriter(this, this.storeReader = new StoreReader({\n            cache: this,\n            addTypename: this.addTypename,\n            resultCacheMaxSize: this.config.resultCacheMaxSize,\n            canonizeResults: shouldCanonizeResults(this.config),\n            canon: resetResultIdentities\n                ? void 0\n                : previousReader && previousReader.canon,\n            fragments: fragments,\n        }), fragments);\n        this.maybeBroadcastWatch = wrap(function (c, options) {\n            return _this.broadcastWatch(c, options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (c) {\n                var store = c.optimistic ? _this.optimisticData : _this.data;\n                if (supportsResultCaching(store)) {\n                    var optimistic = c.optimistic, id = c.id, variables = c.variables;\n                    return store.makeCacheKey(c.query, c.callback, canonicalStringify({ optimistic: optimistic, id: id, variables: variables }));\n                }\n            }\n        });\n        new Set([\n            this.data.group,\n            this.optimisticData.group,\n        ]).forEach(function (group) { return group.resetCaching(); });\n    };\n    InMemoryCache.prototype.restore = function (data) {\n        this.init();\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).extract();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        var _a = options.returnPartialData, returnPartialData = _a === void 0 ? false : _a;\n        try {\n            return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, config: this.config, returnPartialData: returnPartialData })).result || null;\n        }\n        catch (e) {\n            if (e instanceof MissingFieldError) {\n                return null;\n            }\n            throw e;\n        }\n    };\n    InMemoryCache.prototype.write = function (options) {\n        try {\n            ++this.txCount;\n            return this.storeWriter.writeToStore(this.data, options);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.modify = function (options) {\n        if (hasOwn.call(options, \"id\") && !options.id) {\n            return false;\n        }\n        var store = options.optimistic\n            ? this.optimisticData\n            : this.data;\n        try {\n            ++this.txCount;\n            return store.modify(options.id || \"ROOT_QUERY\", options.fields);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.diff = function (options) {\n        return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, rootId: options.id || \"ROOT_QUERY\", config: this.config }));\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        if (!this.watches.size) {\n            recallCache(this);\n        }\n        this.watches.add(watch);\n        if (watch.immediate) {\n            this.maybeBroadcastWatch(watch);\n        }\n        return function () {\n            if (_this.watches.delete(watch) && !_this.watches.size) {\n                forgetCache(_this);\n            }\n            _this.maybeBroadcastWatch.forget(watch);\n        };\n    };\n    InMemoryCache.prototype.gc = function (options) {\n        canonicalStringify.reset();\n        var ids = this.optimisticData.gc();\n        if (options && !this.txCount) {\n            if (options.resetResultCache) {\n                this.resetResultCache(options.resetResultIdentities);\n            }\n            else if (options.resetResultIdentities) {\n                this.storeReader.resetCanon();\n            }\n        }\n        return ids;\n    };\n    InMemoryCache.prototype.retain = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).retain(rootId);\n    };\n    InMemoryCache.prototype.release = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).release(rootId);\n    };\n    InMemoryCache.prototype.identify = function (object) {\n        if (isReference(object))\n            return object.__ref;\n        try {\n            return this.policies.identify(object)[0];\n        }\n        catch (e) {\n            globalThis.__DEV__ !== false && invariant.warn(e);\n        }\n    };\n    InMemoryCache.prototype.evict = function (options) {\n        if (!options.id) {\n            if (hasOwn.call(options, \"id\")) {\n                return false;\n            }\n            options = __assign(__assign({}, options), { id: \"ROOT_QUERY\" });\n        }\n        try {\n            ++this.txCount;\n            return this.optimisticData.evict(options, this.data);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.reset = function (options) {\n        var _this = this;\n        this.init();\n        canonicalStringify.reset();\n        if (options && options.discardWatches) {\n            this.watches.forEach(function (watch) { return _this.maybeBroadcastWatch.forget(watch); });\n            this.watches.clear();\n            forgetCache(this);\n        }\n        else {\n            this.broadcastWatches();\n        }\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var newOptimisticData = this.optimisticData.removeLayer(idToRemove);\n        if (newOptimisticData !== this.optimisticData) {\n            this.optimisticData = newOptimisticData;\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.batch = function (options) {\n        var _this = this;\n        var update = options.update, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, removeOptimistic = options.removeOptimistic, onWatchUpdated = options.onWatchUpdated;\n        var updateResult;\n        var perform = function (layer) {\n            var _a = _this, data = _a.data, optimisticData = _a.optimisticData;\n            ++_this.txCount;\n            if (layer) {\n                _this.data = _this.optimisticData = layer;\n            }\n            try {\n                return updateResult = update(_this);\n            }\n            finally {\n                --_this.txCount;\n                _this.data = data;\n                _this.optimisticData = optimisticData;\n            }\n        };\n        var alreadyDirty = new Set();\n        if (onWatchUpdated && !this.txCount) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch) {\n                    alreadyDirty.add(watch);\n                    return false;\n                } }));\n        }\n        if (typeof optimistic === 'string') {\n            this.optimisticData = this.optimisticData.addLayer(optimistic, perform);\n        }\n        else if (optimistic === false) {\n            perform(this.data);\n        }\n        else {\n            perform();\n        }\n        if (typeof removeOptimistic === \"string\") {\n            this.optimisticData = this.optimisticData.removeLayer(removeOptimistic);\n        }\n        if (onWatchUpdated && alreadyDirty.size) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch, diff) {\n                    var result = onWatchUpdated.call(this, watch, diff);\n                    if (result !== false) {\n                        alreadyDirty.delete(watch);\n                    }\n                    return result;\n                } }));\n            if (alreadyDirty.size) {\n                alreadyDirty.forEach(function (watch) { return _this.maybeBroadcastWatch.dirty(watch); });\n            }\n        }\n        else {\n            this.broadcastWatches(options);\n        }\n        return updateResult;\n    };\n    InMemoryCache.prototype.performTransaction = function (update, optimisticId) {\n        return this.batch({\n            update: update,\n            optimistic: optimisticId || (optimisticId !== null),\n        });\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        return this.addTypenameToDocument(this.addFragmentsToDocument(document));\n    };\n    InMemoryCache.prototype.broadcastWatches = function (options) {\n        var _this = this;\n        if (!this.txCount) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c, options); });\n        }\n    };\n    InMemoryCache.prototype.addFragmentsToDocument = function (document) {\n        var fragments = this.config.fragments;\n        return fragments\n            ? fragments.transform(document)\n            : document;\n    };\n    InMemoryCache.prototype.addTypenameToDocument = function (document) {\n        if (this.addTypename) {\n            return this.addTypenameTransform.transformDocument(document);\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatch = function (c, options) {\n        var lastDiff = c.lastDiff;\n        var diff = this.diff(c);\n        if (options) {\n            if (c.optimistic &&\n                typeof options.optimistic === \"string\") {\n                diff.fromOptimisticTransaction = true;\n            }\n            if (options.onWatchUpdated &&\n                options.onWatchUpdated.call(this, c, diff, lastDiff) === false) {\n                return;\n            }\n        }\n        if (!lastDiff || !equal(lastDiff.result, diff.result)) {\n            c.callback(c.lastDiff = diff, lastDiff);\n        }\n    };\n    return InMemoryCache;\n}(ApolloCache));\nexport { InMemoryCache };\n//# sourceMappingURL=inMemoryCache.js.map","import { ApolloLink } from './ApolloLink.js';\nexport var empty = ApolloLink.empty;\n//# sourceMappingURL=empty.js.map","import { ApolloLink } from './ApolloLink.js';\nexport var from = ApolloLink.from;\n//# sourceMappingURL=from.js.map","import { ApolloLink } from './ApolloLink.js';\nexport var split = ApolloLink.split;\n//# sourceMappingURL=split.js.map","import { ApolloLink } from './ApolloLink.js';\nexport var concat = ApolloLink.concat;\n//# sourceMappingURL=concat.js.map","export var createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\n//# sourceMappingURL=createSignalIfSupported.js.map","import { invariant } from '../../utilities/globals/index.js';\nexport function toPromise(observable) {\n    var completed = false;\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            next: function (data) {\n                if (completed) {\n                    globalThis.__DEV__ !== false && invariant.warn(40);\n                }\n                else {\n                    completed = true;\n                    resolve(data);\n                }\n            },\n            error: reject,\n        });\n    });\n}\n//# sourceMappingURL=toPromise.js.map","import { Observable } from '../../utilities/index.js';\nexport function fromPromise(promise) {\n    return new Observable(function (observer) {\n        promise\n            .then(function (value) {\n            observer.next(value);\n            observer.complete();\n        })\n            .catch(observer.error.bind(observer));\n    });\n}\n//# sourceMappingURL=fromPromise.js.map","export { ApolloClient, mergeOptions } from \"./ApolloClient.js\";\nexport { ObservableQuery } from \"./ObservableQuery.js\";\nexport { NetworkStatus, isNetworkRequestSettled } from \"./networkStatus.js\";\nexport * from \"./types.js\";\nexport { isApolloError, ApolloError } from \"../errors/index.js\";\nexport { Cache, ApolloCache, InMemoryCache, MissingFieldError, defaultDataIdFromObject, makeVar, } from \"../cache/index.js\";\nexport * from \"../cache/inmemory/types.js\";\nexport * from \"../link/core/index.js\";\nexport * from \"../link/http/index.js\";\nexport { fromError, toPromise, fromPromise, throwServerError, } from \"../link/utils/index.js\";\nexport { DocumentTransform, Observable, isReference, makeReference, } from \"../utilities/index.js\";\nimport { setVerbosity } from \"ts-invariant\";\nexport { setVerbosity as setLogVerbosity };\nsetVerbosity(globalThis.__DEV__ !== false ? \"log\" : \"silent\");\nexport { gql, resetCaches, disableFragmentWarnings, enableExperimentalFragmentVariables, disableExperimentalFragmentVariables, } from \"graphql-tag\";\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from \"react\";\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloProvider = function (_a) {\n    var client = _a.client, children = _a.children;\n    var ApolloContext = getApolloContext();\n    var parentContext = React.useContext(ApolloContext);\n    var context = React.useMemo(function () {\n        return __assign(__assign({}, parentContext), { client: client || parentContext.client });\n    }, [parentContext, client]);\n    invariant(context.client, 44);\n    return (React.createElement(ApolloContext.Provider, { value: context }, children));\n};\n//# sourceMappingURL=ApolloProvider.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from \"react\";\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloConsumer = function (props) {\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        invariant(context && context.client, 42);\n        return props.children(context.client);\n    }));\n};\n//# sourceMappingURL=ApolloConsumer.js.map","import { __assign } from \"tslib\";\nimport * as React from \"react\";\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { useInternalState } from \"./useQuery.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nvar EAGER_METHODS = [\n    \"refetch\",\n    \"reobserve\",\n    \"fetchMore\",\n    \"updateQuery\",\n    \"startPolling\",\n    \"subscribeToMore\",\n];\nexport function useLazyQuery(query, options) {\n    var _a;\n    var execOptionsRef = React.useRef();\n    var optionsRef = React.useRef();\n    var queryRef = React.useRef();\n    var merged = mergeOptions(options, execOptionsRef.current || {});\n    var document = (_a = merged === null || merged === void 0 ? void 0 : merged.query) !== null && _a !== void 0 ? _a : query;\n    optionsRef.current = merged;\n    queryRef.current = document;\n    var internalState = useInternalState(useApolloClient(options && options.client), document);\n    var useQueryResult = internalState.useQuery(__assign(__assign({}, merged), { skip: !execOptionsRef.current }));\n    var initialFetchPolicy = useQueryResult.observable.options.initialFetchPolicy ||\n        internalState.getDefaultFetchPolicy();\n    var result = Object.assign(useQueryResult, {\n        called: !!execOptionsRef.current,\n    });\n    var eagerMethods = React.useMemo(function () {\n        var eagerMethods = {};\n        var _loop_1 = function (key) {\n            var method = result[key];\n            eagerMethods[key] = function () {\n                if (!execOptionsRef.current) {\n                    execOptionsRef.current = Object.create(null);\n                    internalState.forceUpdateState();\n                }\n                return method.apply(this, arguments);\n            };\n        };\n        for (var _i = 0, EAGER_METHODS_1 = EAGER_METHODS; _i < EAGER_METHODS_1.length; _i++) {\n            var key = EAGER_METHODS_1[_i];\n            _loop_1(key);\n        }\n        return eagerMethods;\n    }, []);\n    Object.assign(result, eagerMethods);\n    var execute = React.useCallback(function (executeOptions) {\n        execOptionsRef.current = executeOptions\n            ? __assign(__assign({}, executeOptions), { fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy }) : {\n            fetchPolicy: initialFetchPolicy,\n        };\n        var options = mergeOptions(optionsRef.current, __assign({ query: queryRef.current }, execOptionsRef.current));\n        var promise = internalState\n            .executeQuery(__assign(__assign({}, options), { skip: false }))\n            .then(function (queryResult) { return Object.assign(queryResult, eagerMethods); });\n        promise.catch(function () { });\n        return promise;\n    }, []);\n    return [execute, result];\n}\n//# sourceMappingURL=useLazyQuery.js.map","import { __assign } from \"tslib\";\nimport * as React from \"react\";\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { equal } from \"@wry/equality\";\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useMutation(mutation, options) {\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(mutation, DocumentType.Mutation);\n    var _a = React.useState({\n        called: false,\n        loading: false,\n        client: client,\n    }), result = _a[0], setResult = _a[1];\n    var ref = React.useRef({\n        result: result,\n        mutationId: 0,\n        isMounted: true,\n        client: client,\n        mutation: mutation,\n        options: options,\n    });\n    {\n        Object.assign(ref.current, { client: client, options: options, mutation: mutation });\n    }\n    var execute = React.useCallback(function (executeOptions) {\n        if (executeOptions === void 0) { executeOptions = {}; }\n        var _a = ref.current, options = _a.options, mutation = _a.mutation;\n        var baseOptions = __assign(__assign({}, options), { mutation: mutation });\n        var client = executeOptions.client || ref.current.client;\n        if (!ref.current.result.loading &&\n            !baseOptions.ignoreResults &&\n            ref.current.isMounted) {\n            setResult((ref.current.result = {\n                loading: true,\n                error: void 0,\n                data: void 0,\n                called: true,\n                client: client,\n            }));\n        }\n        var mutationId = ++ref.current.mutationId;\n        var clientOptions = mergeOptions(baseOptions, executeOptions);\n        return client\n            .mutate(clientOptions)\n            .then(function (response) {\n            var _a, _b;\n            var data = response.data, errors = response.errors;\n            var error = errors && errors.length > 0\n                ? new ApolloError({ graphQLErrors: errors })\n                : void 0;\n            var onError = executeOptions.onError || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError);\n            if (error && onError) {\n                onError(error, clientOptions);\n            }\n            if (mutationId === ref.current.mutationId &&\n                !clientOptions.ignoreResults) {\n                var result_1 = {\n                    called: true,\n                    loading: false,\n                    data: data,\n                    error: error,\n                    client: client,\n                };\n                if (ref.current.isMounted && !equal(ref.current.result, result_1)) {\n                    setResult((ref.current.result = result_1));\n                }\n            }\n            var onCompleted = executeOptions.onCompleted || ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onCompleted);\n            if (!error) {\n                onCompleted === null || onCompleted === void 0 ? void 0 : onCompleted(response.data, clientOptions);\n            }\n            return response;\n        })\n            .catch(function (error) {\n            var _a;\n            if (mutationId === ref.current.mutationId && ref.current.isMounted) {\n                var result_2 = {\n                    loading: false,\n                    error: error,\n                    data: void 0,\n                    called: true,\n                    client: client,\n                };\n                if (!equal(ref.current.result, result_2)) {\n                    setResult((ref.current.result = result_2));\n                }\n            }\n            var onError = executeOptions.onError || ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError);\n            if (onError) {\n                onError(error, clientOptions);\n                return { data: void 0, errors: error };\n            }\n            throw error;\n        });\n    }, []);\n    var reset = React.useCallback(function () {\n        if (ref.current.isMounted) {\n            setResult({ called: false, loading: false, client: client });\n        }\n    }, []);\n    React.useEffect(function () {\n        ref.current.isMounted = true;\n        return function () {\n            ref.current.isMounted = false;\n        };\n    }, []);\n    return [execute, __assign({ reset: reset }, result)];\n}\n//# sourceMappingURL=useMutation.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from \"react\";\nimport { equal } from \"@wry/equality\";\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useSubscription(subscription, options) {\n    var hasIssuedDeprecationWarningRef = React.useRef(false);\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(subscription, DocumentType.Subscription);\n    var _a = React.useState({\n        loading: !(options === null || options === void 0 ? void 0 : options.skip),\n        error: void 0,\n        data: void 0,\n        variables: options === null || options === void 0 ? void 0 : options.variables,\n    }), result = _a[0], setResult = _a[1];\n    if (!hasIssuedDeprecationWarningRef.current) {\n        hasIssuedDeprecationWarningRef.current = true;\n        if (options === null || options === void 0 ? void 0 : options.onSubscriptionData) {\n            globalThis.__DEV__ !== false && invariant.warn(options.onData ? 50 : 51);\n        }\n        if (options === null || options === void 0 ? void 0 : options.onSubscriptionComplete) {\n            globalThis.__DEV__ !== false && invariant.warn(options.onComplete ? 52 : 53);\n        }\n    }\n    var _b = React.useState(function () {\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            return null;\n        }\n        return client.subscribe({\n            query: subscription,\n            variables: options === null || options === void 0 ? void 0 : options.variables,\n            fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n            context: options === null || options === void 0 ? void 0 : options.context,\n        });\n    }), observable = _b[0], setObservable = _b[1];\n    var canResetObservableRef = React.useRef(false);\n    React.useEffect(function () {\n        return function () {\n            canResetObservableRef.current = true;\n        };\n    }, []);\n    var ref = React.useRef({ client: client, subscription: subscription, options: options });\n    React.useEffect(function () {\n        var _a, _b, _c, _d;\n        var shouldResubscribe = options === null || options === void 0 ? void 0 : options.shouldResubscribe;\n        if (typeof shouldResubscribe === \"function\") {\n            shouldResubscribe = !!shouldResubscribe(options);\n        }\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            if (!(options === null || options === void 0 ? void 0 : options.skip) !== !((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.skip) ||\n                canResetObservableRef.current) {\n                setResult({\n                    loading: false,\n                    data: void 0,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                });\n                setObservable(null);\n                canResetObservableRef.current = false;\n            }\n        }\n        else if ((shouldResubscribe !== false &&\n            (client !== ref.current.client ||\n                subscription !== ref.current.subscription ||\n                (options === null || options === void 0 ? void 0 : options.fetchPolicy) !== ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.fetchPolicy) ||\n                !(options === null || options === void 0 ? void 0 : options.skip) !== !((_c = ref.current.options) === null || _c === void 0 ? void 0 : _c.skip) ||\n                !equal(options === null || options === void 0 ? void 0 : options.variables, (_d = ref.current.options) === null || _d === void 0 ? void 0 : _d.variables))) ||\n            canResetObservableRef.current) {\n            setResult({\n                loading: true,\n                data: void 0,\n                error: void 0,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n            });\n            setObservable(client.subscribe({\n                query: subscription,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n                fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n                context: options === null || options === void 0 ? void 0 : options.context,\n            }));\n            canResetObservableRef.current = false;\n        }\n        Object.assign(ref.current, { client: client, subscription: subscription, options: options });\n    }, [client, subscription, options, canResetObservableRef.current]);\n    React.useEffect(function () {\n        if (!observable) {\n            return;\n        }\n        var subscriptionStopped = false;\n        var subscription = observable.subscribe({\n            next: function (fetchResult) {\n                var _a, _b;\n                if (subscriptionStopped) {\n                    return;\n                }\n                var result = {\n                    loading: false,\n                    data: fetchResult.data,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                };\n                setResult(result);\n                if ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onData) {\n                    ref.current.options.onData({\n                        client: client,\n                        data: result,\n                    });\n                }\n                else if ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onSubscriptionData) {\n                    ref.current.options.onSubscriptionData({\n                        client: client,\n                        subscriptionData: result,\n                    });\n                }\n            },\n            error: function (error) {\n                var _a, _b;\n                if (!subscriptionStopped) {\n                    setResult({\n                        loading: false,\n                        data: void 0,\n                        error: error,\n                        variables: options === null || options === void 0 ? void 0 : options.variables,\n                    });\n                    (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError) === null || _b === void 0 ? void 0 : _b.call(_a, error);\n                }\n            },\n            complete: function () {\n                var _a, _b;\n                if (!subscriptionStopped) {\n                    if ((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onComplete) {\n                        ref.current.options.onComplete();\n                    }\n                    else if ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onSubscriptionComplete) {\n                        ref.current.options.onSubscriptionComplete();\n                    }\n                }\n            },\n        });\n        return function () {\n            subscriptionStopped = true;\n            setTimeout(function () {\n                subscription.unsubscribe();\n            });\n        };\n    }, [observable]);\n    return result;\n}\n//# sourceMappingURL=useSubscription.js.map","import * as React from \"react\";\nexport function useReactiveVar(rv) {\n    var value = rv();\n    var setValue = React.useState(value)[1];\n    React.useEffect(function () {\n        var probablySameValue = rv();\n        if (value !== probablySameValue) {\n            setValue(probablySameValue);\n        }\n        else {\n            return rv.onNextChange(setValue);\n        }\n    }, [value]);\n    return value;\n}\n//# sourceMappingURL=useReactiveVar.js.map","import { __assign, __rest } from \"tslib\";\nimport * as React from \"react\";\nimport { equal } from \"@wry/equality\";\nimport { mergeDeepArray } from \"../../utilities/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore.js\";\nexport function useFragment(options) {\n    var cache = useApolloClient().cache;\n    var fragment = options.fragment, fragmentName = options.fragmentName, from = options.from, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, rest = __rest(options, [\"fragment\", \"fragmentName\", \"from\", \"optimistic\"]);\n    var diffOptions = __assign(__assign({}, rest), { returnPartialData: true, id: typeof from === \"string\" ? from : cache.identify(from), query: cache[\"getFragmentDoc\"](fragment, fragmentName), optimistic: optimistic });\n    var resultRef = React.useRef();\n    var latestDiff = cache.diff(diffOptions);\n    var getSnapshot = function () {\n        var latestDiffToResult = diffToResult(latestDiff);\n        return resultRef.current &&\n            equal(resultRef.current.data, latestDiffToResult.data)\n            ? resultRef.current\n            : (resultRef.current = latestDiffToResult);\n    };\n    return useSyncExternalStore(function (forceUpdate) {\n        var lastTimeout = 0;\n        var unsubcribe = cache.watch(__assign(__assign({}, diffOptions), { immediate: true, callback: function (diff) {\n                if (!equal(diff, latestDiff)) {\n                    resultRef.current = diffToResult((latestDiff = diff));\n                    lastTimeout = setTimeout(forceUpdate);\n                }\n            } }));\n        return function () {\n            unsubcribe();\n            clearTimeout(lastTimeout);\n        };\n    }, getSnapshot, getSnapshot);\n}\nfunction diffToResult(diff) {\n    var result = {\n        data: diff.result,\n        complete: !!diff.complete,\n    };\n    if (diff.missing) {\n        result.missing = mergeDeepArray(diff.missing.map(function (error) { return error.missing; }));\n    }\n    return result;\n}\n//# sourceMappingURL=useFragment.js.map","export function createFulfilledPromise(value) {\n    var promise = Promise.resolve(value);\n    promise.status = \"fulfilled\";\n    promise.value = value;\n    return promise;\n}\nexport function createRejectedPromise(reason) {\n    var promise = Promise.reject(reason);\n    promise.catch(function () { });\n    promise.status = \"rejected\";\n    promise.reason = reason;\n    return promise;\n}\nexport function isStatefulPromise(promise) {\n    return \"status\" in promise;\n}\nexport function wrapPromiseWithState(promise) {\n    if (isStatefulPromise(promise)) {\n        return promise;\n    }\n    var pendingPromise = promise;\n    pendingPromise.status = \"pending\";\n    pendingPromise.then(function (value) {\n        if (pendingPromise.status === \"pending\") {\n            var fulfilledPromise = pendingPromise;\n            fulfilledPromise.status = \"fulfilled\";\n            fulfilledPromise.value = value;\n        }\n    }, function (reason) {\n        if (pendingPromise.status === \"pending\") {\n            var rejectedPromise = pendingPromise;\n            rejectedPromise.status = \"rejected\";\n            rejectedPromise.reason = reason;\n        }\n    });\n    return promise;\n}\n//# sourceMappingURL=decoration.js.map","import { wrapPromiseWithState } from \"../../../utilities/index.js\";\nimport * as React from \"react\";\nvar useKey = \"use\";\nvar realHook = React[useKey];\nexport var __use = realHook ||\n    function __use(promise) {\n        var statefulPromise = wrapPromiseWithState(promise);\n        switch (statefulPromise.status) {\n            case \"pending\":\n                throw statefulPromise;\n            case \"rejected\":\n                throw statefulPromise.reason;\n            case \"fulfilled\":\n                return statefulPromise.value;\n        }\n    };\n//# sourceMappingURL=__use.js.map","import { __assign } from \"tslib\";\nimport { equal } from \"@wry/equality\";\nimport { isNetworkRequestSettled } from \"../../core/index.js\";\nimport { createFulfilledPromise, createRejectedPromise, } from \"../../utilities/index.js\";\nvar QUERY_REFERENCE_SYMBOL = Symbol();\nexport function wrapQueryRef(internalQueryRef) {\n    var _a;\n    return _a = {}, _a[QUERY_REFERENCE_SYMBOL] = internalQueryRef, _a;\n}\nexport function unwrapQueryRef(queryRef) {\n    return queryRef[QUERY_REFERENCE_SYMBOL];\n}\nvar OBSERVED_CHANGED_OPTIONS = [\n    \"canonizeResults\",\n    \"context\",\n    \"errorPolicy\",\n    \"fetchPolicy\",\n    \"refetchWritePolicy\",\n    \"returnPartialData\",\n];\nvar InternalQueryReference = (function () {\n    function InternalQueryReference(observable, options) {\n        var _this = this;\n        var _a;\n        this.listeners = new Set();\n        this.status = \"loading\";\n        this.references = 0;\n        this.handleNext = this.handleNext.bind(this);\n        this.handleError = this.handleError.bind(this);\n        this.dispose = this.dispose.bind(this);\n        this.observable = observable;\n        this.result = observable.getCurrentResult(false);\n        this.key = options.key;\n        if (options.onDispose) {\n            this.onDispose = options.onDispose;\n        }\n        if (isNetworkRequestSettled(this.result.networkStatus) ||\n            (this.result.data &&\n                (!this.result.partial || this.watchQueryOptions.returnPartialData))) {\n            this.promise = createFulfilledPromise(this.result);\n            this.status = \"idle\";\n        }\n        else {\n            this.promise = new Promise(function (resolve, reject) {\n                _this.resolve = resolve;\n                _this.reject = reject;\n            });\n        }\n        this.subscription = observable\n            .filter(function (_a) {\n            var data = _a.data;\n            return !equal(data, {});\n        })\n            .subscribe({\n            next: this.handleNext,\n            error: this.handleError,\n        });\n        this.autoDisposeTimeoutId = setTimeout(this.dispose, (_a = options.autoDisposeTimeoutMs) !== null && _a !== void 0 ? _a : 30000);\n    }\n    Object.defineProperty(InternalQueryReference.prototype, \"watchQueryOptions\", {\n        get: function () {\n            return this.observable.options;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InternalQueryReference.prototype.retain = function () {\n        var _this = this;\n        this.references++;\n        clearTimeout(this.autoDisposeTimeoutId);\n        var disposed = false;\n        return function () {\n            if (disposed) {\n                return;\n            }\n            disposed = true;\n            _this.references--;\n            setTimeout(function () {\n                if (!_this.references) {\n                    _this.dispose();\n                }\n            });\n        };\n    };\n    InternalQueryReference.prototype.didChangeOptions = function (watchQueryOptions) {\n        var _this = this;\n        return OBSERVED_CHANGED_OPTIONS.some(function (option) {\n            return !equal(_this.watchQueryOptions[option], watchQueryOptions[option]);\n        });\n    };\n    InternalQueryReference.prototype.applyOptions = function (watchQueryOptions) {\n        var _a = this.watchQueryOptions, currentFetchPolicy = _a.fetchPolicy, currentCanonizeResults = _a.canonizeResults;\n        if (currentFetchPolicy === \"standby\" &&\n            currentFetchPolicy !== watchQueryOptions.fetchPolicy) {\n            this.initiateFetch(this.observable.reobserve(watchQueryOptions));\n        }\n        else {\n            this.observable.silentSetOptions(watchQueryOptions);\n            if (currentCanonizeResults !== watchQueryOptions.canonizeResults) {\n                this.result = __assign(__assign({}, this.result), this.observable.getCurrentResult());\n                this.promise = createFulfilledPromise(this.result);\n            }\n        }\n        return this.promise;\n    };\n    InternalQueryReference.prototype.listen = function (listener) {\n        var _this = this;\n        this.listeners.add(listener);\n        return function () {\n            _this.listeners.delete(listener);\n        };\n    };\n    InternalQueryReference.prototype.refetch = function (variables) {\n        return this.initiateFetch(this.observable.refetch(variables));\n    };\n    InternalQueryReference.prototype.fetchMore = function (options) {\n        return this.initiateFetch(this.observable.fetchMore(options));\n    };\n    InternalQueryReference.prototype.dispose = function () {\n        this.subscription.unsubscribe();\n        this.onDispose();\n    };\n    InternalQueryReference.prototype.onDispose = function () {\n    };\n    InternalQueryReference.prototype.handleNext = function (result) {\n        var _a;\n        switch (this.status) {\n            case \"loading\": {\n                if (result.data === void 0) {\n                    result.data = this.result.data;\n                }\n                this.status = \"idle\";\n                this.result = result;\n                (_a = this.resolve) === null || _a === void 0 ? void 0 : _a.call(this, result);\n                break;\n            }\n            case \"idle\": {\n                if (result.data === this.result.data) {\n                    return;\n                }\n                if (result.data === void 0) {\n                    result.data = this.result.data;\n                }\n                this.result = result;\n                this.promise = createFulfilledPromise(result);\n                this.deliver(this.promise);\n                break;\n            }\n        }\n    };\n    InternalQueryReference.prototype.handleError = function (error) {\n        var _a;\n        switch (this.status) {\n            case \"loading\": {\n                this.status = \"idle\";\n                (_a = this.reject) === null || _a === void 0 ? void 0 : _a.call(this, error);\n                break;\n            }\n            case \"idle\": {\n                this.promise = createRejectedPromise(error);\n                this.deliver(this.promise);\n            }\n        }\n    };\n    InternalQueryReference.prototype.deliver = function (promise) {\n        this.listeners.forEach(function (listener) { return listener(promise); });\n    };\n    InternalQueryReference.prototype.initiateFetch = function (returnedPromise) {\n        var _this = this;\n        this.status = \"loading\";\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        this.promise.catch(function () { });\n        returnedPromise\n            .then(function (result) {\n            var _a;\n            if (_this.status === \"loading\") {\n                _this.status = \"idle\";\n                _this.result = result;\n                (_a = _this.resolve) === null || _a === void 0 ? void 0 : _a.call(_this, result);\n            }\n        })\n            .catch(function () { });\n        return returnedPromise;\n    };\n    return InternalQueryReference;\n}());\nexport { InternalQueryReference };\n//# sourceMappingURL=QueryReference.js.map","import { Trie } from \"@wry/trie\";\nimport { canUseWeakMap } from \"../../utilities/index.js\";\nimport { InternalQueryReference } from \"./QueryReference.js\";\nvar SuspenseCache = (function () {\n    function SuspenseCache(options) {\n        if (options === void 0) { options = Object.create(null); }\n        this.queryRefs = new Trie(canUseWeakMap);\n        this.options = options;\n    }\n    SuspenseCache.prototype.getQueryRef = function (cacheKey, createObservable) {\n        var ref = this.queryRefs.lookupArray(cacheKey);\n        if (!ref.current) {\n            ref.current = new InternalQueryReference(createObservable(), {\n                key: cacheKey,\n                autoDisposeTimeoutMs: this.options.autoDisposeTimeoutMs,\n                onDispose: function () {\n                    delete ref.current;\n                },\n            });\n        }\n        return ref.current;\n    };\n    return SuspenseCache;\n}());\nexport { SuspenseCache };\n//# sourceMappingURL=SuspenseCache.js.map","import { SuspenseCache } from \"./SuspenseCache.js\";\nvar suspenseCacheSymbol = Symbol.for(\"apollo.suspenseCache\");\nexport function getSuspenseCache(client) {\n    var _a;\n    if (!client[suspenseCacheSymbol]) {\n        client[suspenseCacheSymbol] = new SuspenseCache((_a = client.defaultOptions.react) === null || _a === void 0 ? void 0 : _a.suspense);\n    }\n    return client[suspenseCacheSymbol];\n}\n//# sourceMappingURL=getSuspenseCache.js.map","export var skipToken = Symbol.for('apollo.skipToken');\n//# sourceMappingURL=constants.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport * as React from \"react\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { ApolloError, NetworkStatus } from \"../../core/index.js\";\nimport { isNonEmptyArray } from \"../../utilities/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { __use, useDeepMemo } from \"./internal/index.js\";\nimport { getSuspenseCache } from \"../cache/index.js\";\nimport { canonicalStringify } from \"../../cache/index.js\";\nimport { skipToken } from \"./constants.js\";\nexport function useSuspenseQuery(query, options) {\n    if (options === void 0) { options = Object.create(null); }\n    var client = useApolloClient(options.client);\n    var suspenseCache = getSuspenseCache(client);\n    var watchQueryOptions = useWatchQueryOptions({ client: client, query: query, options: options });\n    var fetchPolicy = watchQueryOptions.fetchPolicy, variables = watchQueryOptions.variables;\n    var _a = options.queryKey, queryKey = _a === void 0 ? [] : _a;\n    var cacheKey = __spreadArray([\n        query,\n        canonicalStringify(variables)\n    ], [].concat(queryKey), true);\n    var queryRef = suspenseCache.getQueryRef(cacheKey, function () {\n        return client.watchQuery(watchQueryOptions);\n    });\n    var _b = React.useState(function () { return new Map([[queryRef.key, queryRef.promise]]); }), promiseCache = _b[0], setPromiseCache = _b[1];\n    var promise = promiseCache.get(queryRef.key);\n    if (queryRef.didChangeOptions(watchQueryOptions)) {\n        promise = queryRef.applyOptions(watchQueryOptions);\n        promiseCache.set(queryRef.key, promise);\n    }\n    if (!promise) {\n        promise = queryRef.promise;\n        promiseCache.set(queryRef.key, promise);\n    }\n    React.useEffect(function () {\n        var dispose = queryRef.retain();\n        var removeListener = queryRef.listen(function (promise) {\n            setPromiseCache(function (promiseCache) {\n                return new Map(promiseCache).set(queryRef.key, promise);\n            });\n        });\n        return function () {\n            removeListener();\n            dispose();\n        };\n    }, [queryRef]);\n    var skipResult = React.useMemo(function () {\n        var error = toApolloError(queryRef.result);\n        return {\n            loading: false,\n            data: queryRef.result.data,\n            networkStatus: error ? NetworkStatus.error : NetworkStatus.ready,\n            error: error,\n        };\n    }, [queryRef.result]);\n    var result = fetchPolicy === \"standby\" ? skipResult : __use(promise);\n    var fetchMore = React.useCallback(function (options) {\n        var promise = queryRef.fetchMore(options);\n        setPromiseCache(function (previousPromiseCache) {\n            return new Map(previousPromiseCache).set(queryRef.key, queryRef.promise);\n        });\n        return promise;\n    }, [queryRef]);\n    var refetch = React.useCallback(function (variables) {\n        var promise = queryRef.refetch(variables);\n        setPromiseCache(function (previousPromiseCache) {\n            return new Map(previousPromiseCache).set(queryRef.key, queryRef.promise);\n        });\n        return promise;\n    }, [queryRef]);\n    var subscribeToMore = React.useCallback(function (options) { return queryRef.observable.subscribeToMore(options); }, [queryRef]);\n    return React.useMemo(function () {\n        return {\n            client: client,\n            data: result.data,\n            error: toApolloError(result),\n            networkStatus: result.networkStatus,\n            fetchMore: fetchMore,\n            refetch: refetch,\n            subscribeToMore: subscribeToMore,\n        };\n    }, [client, fetchMore, refetch, result, subscribeToMore]);\n}\nfunction validateOptions(options) {\n    var query = options.query, fetchPolicy = options.fetchPolicy, returnPartialData = options.returnPartialData;\n    verifyDocumentType(query, DocumentType.Query);\n    validateFetchPolicy(fetchPolicy);\n    validatePartialDataReturn(fetchPolicy, returnPartialData);\n}\nfunction validateFetchPolicy(fetchPolicy) {\n    if (fetchPolicy === void 0) { fetchPolicy = \"cache-first\"; }\n    var supportedFetchPolicies = [\n        \"cache-first\",\n        \"network-only\",\n        \"no-cache\",\n        \"cache-and-network\",\n    ];\n    invariant(supportedFetchPolicies.includes(fetchPolicy), 54, fetchPolicy);\n}\nfunction validatePartialDataReturn(fetchPolicy, returnPartialData) {\n    if (fetchPolicy === \"no-cache\" && returnPartialData) {\n        globalThis.__DEV__ !== false && invariant.warn(55);\n    }\n}\nexport function toApolloError(result) {\n    return isNonEmptyArray(result.errors)\n        ? new ApolloError({ graphQLErrors: result.errors })\n        : result.error;\n}\nexport function useWatchQueryOptions(_a) {\n    var client = _a.client, query = _a.query, options = _a.options;\n    return useDeepMemo(function () {\n        var _a;\n        if (options === skipToken) {\n            return { query: query, fetchPolicy: \"standby\" };\n        }\n        var fetchPolicy = options.fetchPolicy ||\n            ((_a = client.defaultOptions.watchQuery) === null || _a === void 0 ? void 0 : _a.fetchPolicy) ||\n            \"cache-first\";\n        var watchQueryOptions = __assign(__assign({}, options), { fetchPolicy: fetchPolicy, query: query, notifyOnNetworkStatusChange: false, nextFetchPolicy: void 0 });\n        if (globalThis.__DEV__ !== false) {\n            validateOptions(watchQueryOptions);\n        }\n        if (options.skip) {\n            watchQueryOptions.fetchPolicy = \"standby\";\n        }\n        return watchQueryOptions;\n    }, [client, options, query]);\n}\n//# sourceMappingURL=useSuspenseQuery.js.map","import * as React from \"react\";\nimport { equal } from \"@wry/equality\";\nexport function useDeepMemo(memoFn, deps) {\n    var ref = React.useRef();\n    if (!ref.current || !equal(ref.current.deps, deps)) {\n        ref.current = { value: memoFn(), deps: deps };\n    }\n    return ref.current.value;\n}\n//# sourceMappingURL=useDeepMemo.js.map","import { __spreadArray } from \"tslib\";\nimport * as React from \"react\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { wrapQueryRef } from \"../cache/QueryReference.js\";\nimport { getSuspenseCache } from \"../cache/index.js\";\nimport { useWatchQueryOptions } from \"./useSuspenseQuery.js\";\nimport { canonicalStringify } from \"../../cache/index.js\";\nexport function useBackgroundQuery(query, options) {\n    if (options === void 0) { options = Object.create(null); }\n    var client = useApolloClient(options.client);\n    var suspenseCache = getSuspenseCache(client);\n    var watchQueryOptions = useWatchQueryOptions({ client: client, query: query, options: options });\n    var fetchPolicy = watchQueryOptions.fetchPolicy, variables = watchQueryOptions.variables;\n    var _a = options.queryKey, queryKey = _a === void 0 ? [] : _a;\n    var didFetchResult = React.useRef(fetchPolicy !== \"standby\");\n    didFetchResult.current || (didFetchResult.current = fetchPolicy !== \"standby\");\n    var cacheKey = __spreadArray([\n        query,\n        canonicalStringify(variables)\n    ], [].concat(queryKey), true);\n    var queryRef = suspenseCache.getQueryRef(cacheKey, function () {\n        return client.watchQuery(watchQueryOptions);\n    });\n    var _b = React.useState(function () { return new Map([[queryRef.key, queryRef.promise]]); }), promiseCache = _b[0], setPromiseCache = _b[1];\n    if (queryRef.didChangeOptions(watchQueryOptions)) {\n        var promise = queryRef.applyOptions(watchQueryOptions);\n        promiseCache.set(queryRef.key, promise);\n    }\n    React.useEffect(function () { return queryRef.retain(); }, [queryRef]);\n    var fetchMore = React.useCallback(function (options) {\n        var promise = queryRef.fetchMore(options);\n        setPromiseCache(function (promiseCache) {\n            return new Map(promiseCache).set(queryRef.key, queryRef.promise);\n        });\n        return promise;\n    }, [queryRef]);\n    var refetch = React.useCallback(function (variables) {\n        var promise = queryRef.refetch(variables);\n        setPromiseCache(function (promiseCache) {\n            return new Map(promiseCache).set(queryRef.key, queryRef.promise);\n        });\n        return promise;\n    }, [queryRef]);\n    queryRef.promiseCache = promiseCache;\n    var wrappedQueryRef = React.useMemo(function () { return wrapQueryRef(queryRef); }, [queryRef]);\n    return [\n        didFetchResult.current ? wrappedQueryRef : void 0,\n        { fetchMore: fetchMore, refetch: refetch },\n    ];\n}\n//# sourceMappingURL=useBackgroundQuery.js.map","import * as React from \"react\";\nimport { unwrapQueryRef, } from \"../cache/QueryReference.js\";\nimport { __use } from \"./internal/index.js\";\nimport { toApolloError } from \"./useSuspenseQuery.js\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore.js\";\nexport function useReadQuery(queryRef) {\n    var internalQueryRef = unwrapQueryRef(queryRef);\n    invariant(internalQueryRef.promiseCache, 49);\n    var promiseCache = internalQueryRef.promiseCache, key = internalQueryRef.key;\n    if (!promiseCache.has(key)) {\n        promiseCache.set(key, internalQueryRef.promise);\n    }\n    var promise = useSyncExternalStore(React.useCallback(function (forceUpdate) {\n        return internalQueryRef.listen(function (promise) {\n            internalQueryRef.promiseCache.set(internalQueryRef.key, promise);\n            forceUpdate();\n        });\n    }, [internalQueryRef]), function () { return promiseCache.get(key); }, function () { return promiseCache.get(key); });\n    var result = __use(promise);\n    return React.useMemo(function () {\n        return {\n            data: result.data,\n            networkStatus: result.networkStatus,\n            error: toApolloError(result),\n        };\n    }, [result]);\n}\n//# sourceMappingURL=useReadQuery.js.map","import { __extends } from \"tslib\";\nexport { getSuspenseCache } from \"./getSuspenseCache.js\";\nimport { SuspenseCache as RealSuspenseCache } from \"./SuspenseCache.js\";\nvar SuspenseCache = (function (_super) {\n    __extends(SuspenseCache, _super);\n    function SuspenseCache() {\n        var _this = _super.call(this) || this;\n        throw new Error(\"It is no longer necessary to create a `SuspenseCache` instance and pass it into the `ApolloProvider`.\\n\" +\n            \"Please remove this code from your application. \\n\\n\" +\n            \"This export will be removed with the final 3.8 release.\");\n        return _this;\n    }\n    return SuspenseCache;\n}(RealSuspenseCache));\nexport { SuspenseCache };\n//# sourceMappingURL=index.js.map","import { __rest } from \"tslib\";\nimport * as PropTypes from \"prop-types\";\nimport { useQuery } from \"../hooks/index.js\";\nexport function Query(props) {\n    var children = props.children, query = props.query, options = __rest(props, [\"children\", \"query\"]);\n    var result = useQuery(query, options);\n    return result ? children(result) : null;\n}\nQuery.propTypes = {\n    client: PropTypes.object,\n    children: PropTypes.func.isRequired,\n    fetchPolicy: PropTypes.string,\n    notifyOnNetworkStatusChange: PropTypes.bool,\n    onCompleted: PropTypes.func,\n    onError: PropTypes.func,\n    pollInterval: PropTypes.number,\n    query: PropTypes.object.isRequired,\n    variables: PropTypes.object,\n    ssr: PropTypes.bool,\n    partialRefetch: PropTypes.bool,\n    returnPartialData: PropTypes.bool,\n};\n//# sourceMappingURL=Query.js.map","import * as PropTypes from \"prop-types\";\nimport { useMutation } from \"../hooks/index.js\";\nexport function Mutation(props) {\n    var _a = useMutation(props.mutation, props), runMutation = _a[0], result = _a[1];\n    return props.children ? props.children(runMutation, result) : null;\n}\nMutation.propTypes = {\n    mutation: PropTypes.object.isRequired,\n    variables: PropTypes.object,\n    optimisticResponse: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    refetchQueries: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])),\n        PropTypes.func,\n    ]),\n    awaitRefetchQueries: PropTypes.bool,\n    update: PropTypes.func,\n    children: PropTypes.func.isRequired,\n    onCompleted: PropTypes.func,\n    onError: PropTypes.func,\n    fetchPolicy: PropTypes.string,\n};\n//# sourceMappingURL=Mutation.js.map","import * as PropTypes from \"prop-types\";\nimport { useSubscription } from \"../hooks/index.js\";\nexport function Subscription(props) {\n    var result = useSubscription(props.subscription, props);\n    return props.children && result ? props.children(result) : null;\n}\nSubscription.propTypes = {\n    subscription: PropTypes.object.isRequired,\n    variables: PropTypes.object,\n    children: PropTypes.func,\n    onSubscriptionData: PropTypes.func,\n    onData: PropTypes.func,\n    onSubscriptionComplete: PropTypes.func,\n    onComplete: PropTypes.func,\n    shouldResubscribe: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\n//# sourceMappingURL=Subscription.js.map","import inspect from \"../jsutils/inspect.mjs\";\nimport { isNode } from \"./ast.mjs\";\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\nexport var QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['description', 'directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexport var BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth-first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of the\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node of a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexport function visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n\n  /* eslint-disable no-undef-init */\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var _i2 = 0, _Object$keys2 = Object.keys(node); _i2 < _Object$keys2.length; _i2++) {\n            var k = _Object$keys2[_i2];\n            clone[k] = node[k];\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!isNode(node)) {\n        throw new Error(\"Invalid AST Node: \".concat(inspect(node), \".\"));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if (isNode(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _visitorKeys$node$kin;\n\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : (_visitorKeys$node$kin = visitorKeys[node.kind]) !== null && _visitorKeys$node$kin !== void 0 ? _visitorKeys$node$kin : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\nexport function visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}\n"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","hasSymbols","Symbol","hasSymbol","name","Boolean","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","obj","value","TypeError","getSpecies","ctor","constructor","undefined","Observable","isObservable","x","hostReportError","e","log","setTimeout","enqueue","fn","Promise","resolve","then","cleanupSubscription","subscription","cleanup","_cleanup","unsubscribe","call","closeSubscription","_observer","_queue","_state","notifySubscription","type","observer","m","onNotify","queue","flushSubscription","push","Subscription","subscriber","this","subscriptionObserver","SubscriptionObserver","error","get","_subscription","_proto2","next","complete","_subscriber","_proto3","subscribe","arguments","forEach","_this","reject","done","map","_this2","filter","_this3","reduce","_this4","C","hasSeed","hasValue","acc","first","concat","_this5","_len","sources","_key","index","startNext","v","from","flatMap","_this6","subscriptions","outer","inner","indexOf","splice","completeIfDone","closed","s","method","_step","_iterator","o","allowArrayLike","it","iterator","bind","isArray","minLen","n","toString","slice","test","_unsupportedIterableToArray","_createForOfIteratorHelperLoose","item","of","_len2","items","_key2","symbol","getFragmentQueryDocument","document","fragmentName","actualFragmentName","fragments","definitions","definition","kind","operation","selectionSet","selections","createFragmentMap","symTable","fragment","getFragmentFromSelection","selection","fragmentMap","makeReference","id","__ref","String","isReference","valueToObjectRepresentation","argObj","variables","isIntValue","isFloatValue","Number","isBooleanValue","isStringValue","isObjectValue","nestedArgObj_1","fields","isVariable","variableValue","isListValue","values","listValue","nestedArgArrayObj","isEnumValue","isNullValue","KNOWN_DIRECTIVES","getStoreKeyName","assign","fieldName","args","directives","filterKeys","sort","filteredArgs_1","stringify","completeFieldName","stringifiedArgs","keys","setStringify","previous","JSON","stringifyReplacer","copy","argumentsObjectFromField","field","argObj_1","_a","resultKeyNameFromField","alias","getTypenameFromResult","result","_i","__typename","_b","fragments_1","typename","doc","operations","d","getOperationDefinition","getOperationName","getFragmentDefinitions","getQueryDefinition","queryDef","getMainDefinition","queryDoc","fragmentDefinition","getDefaultValues","defaultValues","create","defs","variableDefinitions","def","defaultValue","variable","passthrough","op","forward","toLink","handler","ApolloLink","isTerminating","link","request","empty","links","y","split","left","right","leftLink","rightLink","execute","starting","context","createOperation","transformedOperation","extensions","operationName","query","transformOperation","OPERATION_FIELDS","validateOperation","second","firstLink","globalThis","__DEV__","warn","nextLink","onError","setOnError","shouldInclude","directive","isInclusionDirective","directiveArguments","directiveName","ifArgument","ifValue","getInclusionDirectives","every","evaledValue","hasDirectives","names","root","all","nameSet","Set","uniqueCount","size","Directive","node","delete","hasClientExports","serializeFetchParameter","p","label","serialized","parseError","message","selectURI","fallbackURI","getContext","uri","readerIterator","reader","read","canUse","asyncIterator","responseIterator","response","body","getReader","isReadableStream","stream","isStreamableBlob","arrayBuffer","isBlob","promise","resolved","catch","promiseIterator","pipe","isNodeReadableStream","data","waiting","onData","chunk","shiftedArr","shift","err","pair","onEnd","removeListener","on","nodeStreamIterator","Error","throwServerError","statusCode","status","hasOwnProperty","mergeDeep","mergeDeepArray","count","merger","DeepMerger","merge","defaultReconciler","source","property","reconciler","isObject","pastCopies","sourceKey","targetValue","apply","shallowCopyForMerge","has","__proto__","getPrototypeOf","add","isExecutionPatchIncrementalResult","isApolloPayloadResult","mergeIncrementalData","prevResult","mergedData","incremental","path","parent_1","isNaN","parseHeaders","headerText","headersInit","line","name_1","trim","toLowerCase","parseJsonBody","bodyText","parse","getResult","parseAndCheckHttpResponse","text","checkFetcher","fetcher","fetch","printDocASTReducer","Name","Variable","Document","join","OperationDefinition","varDefs","wrap","VariableDefinition","_ref","SelectionSet","_ref2","block","Field","_ref3","prefix","argsLine","indent","Argument","_ref4","FragmentSpread","_ref5","InlineFragment","_ref6","typeCondition","FragmentDefinition","_ref7","IntValue","_ref8","FloatValue","_ref9","StringValue","_ref10","BooleanValue","_ref11","NullValue","EnumValue","_ref12","ListValue","_ref13","ObjectValue","_ref14","ObjectField","_ref15","_ref16","NamedType","_ref17","ListType","_ref18","NonNullType","_ref19","SchemaDefinition","addDescription","_ref20","operationTypes","OperationTypeDefinition","_ref21","ScalarTypeDefinition","_ref22","ObjectTypeDefinition","_ref23","interfaces","FieldDefinition","_ref24","hasMultilineItems","InputValueDefinition","_ref25","InterfaceTypeDefinition","_ref26","UnionTypeDefinition","_ref27","types","EnumTypeDefinition","_ref28","EnumValueDefinition","_ref29","InputObjectTypeDefinition","_ref30","DirectiveDefinition","_ref31","repeatable","locations","SchemaExtension","_ref32","ScalarTypeExtension","_ref33","ObjectTypeExtension","_ref34","InterfaceTypeExtension","_ref35","UnionTypeExtension","_ref36","EnumTypeExtension","_ref37","InputObjectTypeExtension","_ref38","cb","description","maybeArray","_maybeArray$filter$jo","separator","array","start","maybeString","str","replace","isMultiline","some","printCache","WeakMap","ast","leave","set","fallbackHttpConfig","http","includeQuery","includeExtensions","preserveHeaderCase","headers","accept","options","defaultPrinter","printer","selectHttpOptionsAndBody","fallbackConfig","configs","unshift","selectHttpOptionsAndBodyInternal","config","credentials","normalizedHeaders_1","headerData","originalName","normalizedHeaders","removeDuplicateHeaders","rewriteURIForGET","chosenURI","queryParams","addQueryParam","encodeURIComponent","serializedVariables","serializedExtensions","preFragment","fragmentStart","substr","queryParamsPrefix","newURI","fromError","errorValue","TYPENAME_FIELD","FIELD","NAME","isEmpty","FRAGMENT_SPREAD","nullIfDocIsEmpty","fragmentDef","getFragmentDefinition","makeInUseGetterFunction","defaultKey","Map","inUse","fragmentSpreads","removeDirectivesFromDocument","getInUseByOperationName","getInUseByFragmentName","getInUse","ancestors","ancestor","OPERATION_DEFINITION","FRAGMENT_DEFINITION","operationCount","tests","directiveMatcher","testConfig","shouldRemoveField","nodeDirectives","remove","originalFragmentDefsByPath","firstVisitMadeChanges","fieldOrInlineFragmentVisitor","enter","docWithoutDirectiveSubtrees","_parent","_path","removed","populateTransitiveVars","transitiveVars","childFragmentName","varName","allFragmentNamesUsed","enterVisitor","usedVariableNames_1","varDef","addTypenameToDocument","parent","lastIndexOf","added","buildQueryFromSelectionSet","removeClientSetsFromDocument","backupFetch","createHttpLink","linkOptions","preferredFetch","print","useGETForQueries","_c","includeUnusedVariables","requestOptions","linkConfig","fetchOptions","clientAwarenessHeaders","clientAwareness","version","contextHeaders","contextConfig","transformedQuery","unusedNames","controller","signal","AbortController","isSubscription","hasDefer","acceptHeader","currentFetch","observerNext","setContext","ctype","nextValue","decoder","contentType","delimiter","boundaryVal","boundary","buffer","running","searchFrom","bi","contentType_1","_d","_e","TextDecoder","includes","substring","sent","decode","payload","errors","hasNext","readMultipartBody","handleError","abort","HttpLink","_super","defaultMakeData","Trie","weakness","makeData","lookup","lookupArray","getChildTrie","peek","peekArray","isObjRef","weak","strong","child","stringifyCanon","stringifyCache","ObjectCanon","known","WeakSet","pool","passes","keysByJSON","admit","isKnown","pass","shallowCopy","original","freeze","proto_1","array_1","sortedKeys","json","firstValueIndex_1","sorted","object","obj_1","canonicalStringify","resetCanonicalStringify","canonical","reset","identity","DocumentTransform","transform","resultCache","getCacheKey","cache","stableCacheKeys","predicate","transformDocument","cacheEntry","getStableCacheEntry","transformedDocument","otherTransform","cacheKeys","asyncMap","mapFn","catchFn","activeCallbackCount","completed","promiseQueue","callback","makeCallback","examiner","delegate","arg","both","caught","sub","graphQLResultHasError","getGraphQLErrorsFromResult","graphQLErrors","incrementalResult","iterateObserversSafely","observers","argument","observersWithMethod","obs","fixObservableSubclass","subclass","species","isPromiseLike","Concast","addObserver","removeObserver","handlers","latest","notify","nextResultListeners","cancel","reason","_","iterable","deliverLastMessage","nextOrError","listener","beforeNext","called","cloneDeep","cloneDeepHelper","val","seen","copy_1","copy_2","equalByQuery","aData","aRest","bData","bRest","equalBySelectionSet","aResult","bResult","seenSelections","selectionHasNonreactiveDirective","resultKey","aResultChild","bResultChild","childSelectionSet","aChildIsArray","bChildIsArray","length_1","directiveIsNonreactive","dir","ObservableQuery","queryManager","queryInfo","subObserver","defaultSubscriptionObserverErrorCallback","last","reobserve","tearDownQuery","waitForOwnResult","skipCacheDataFor","fetchPolicy","isTornDown","defaultOptions","watchQuery","defaultFetchPolicy","_f","initialFetchPolicy","queryId","generateQueryId","opDef","queryName","lastQuery","removeQuery","getCurrentResult","saveAsLastResult","lastResult","getLastResult","networkStatus","ready","loading","getDocumentInfo","hasForcedResolvers","diff","getDiff","returnPartialData","partial","partialRefetch","logMissingFieldErrors","missing","updateLastResult","isDifferentFromLastResult","newResult","hasNonreactiveDirective","getLast","variablesMustMatch","getLastError","resetLastResults","resetQueryStoreErrors","resetErrors","refetch","reobserveOptions","pollInterval","vars","resetLastWrite","fetchMore","fetchMoreOptions","combinedOptions","qid","originalNetworkStatus","notifyOnNetworkStatusChange","observe","updatedQuerySet","fetchQuery","fetchMoreResult","batch","update","updateQuery","optimistic","writeQuery","onWatchUpdated","watch","finally","reobserveCacheFirst","subscribeToMore","startGraphQLSubscription","subscriptionData","setOptions","newOptions","silentSetOptions","mergedOptions","compact","setVariables","broadcastQueries","startPolling","updatePolling","stopPolling","applyNextFetchPolicy","nextFetchPolicy","newNetworkStatus","setObservableQuery","ssrMode","pollingInfo","interval","maybeFetch","poll","info","clearTimeout","timeout","assumeImmutableResults","reobserveAsConcast","useDisposableConcast","oldVariables","oldFetchPolicy","finishWaitingForOwnResult","concast","fromLink","reportResult","reportError","lastError","isDifferent","errorResult","hasObservers","clear","stopQuery","obsQuery","stack","debug","isSelectionNode","INLINE_FRAGMENT","defaultDispose","Cache","max","Infinity","dispose","newest","oldest","getNode","older","newer","clean","currentContext","MISSING_VALUE","idCounter","maybe","ignored","globalKey","globalHost","g","Slot","Date","now","Math","random","slots","getValue","withValue","thisArg","saved","noContext","parentEntrySlot","arrayFromSet","maybeUnsubscribe","entryOrDep","emptySetPool","POOL_TARGET_SIZE","assert","condition","optionalMessage","valueGet","Entry","parents","childValues","dirtyChildren","dirty","recomputing","deps","mightBeDirty","rememberParent","recompute","entry","forgetChildren","recomputeNewValue","setDirty","maybeSubscribe","reportClean","setClean","reallyRecompute","reportDirty","eachParent","forgetChild","forget","dependOn","dep","pop","forgetDeps","reportDirtyChild","reportCleanChild","parentCount","parentWasClean","childValue","a","b","valueIs","removeDirtyChild","dc","_value","EntryMethods","depsByKey","depend","entryMethodName","defaultKeyTrie","defaultMakeCacheKey","caches","originalFunction","pow","makeCacheKey","keyArgs","dirtyKey","peekKey","forgetKey","getKey","cacheSlot","cacheInfoMap","getCacheInfo","forgetCache","rv","makeVar","listeners","newValue","broadcastWatches","broadcast","oldListeners","attach","onNextChange","attachCache","LocalState","client","resolvers","fragmentMatcher","selectionsToResolveCache","addResolvers","setFragmentMatcher","resolverGroup","setResolvers","getResolvers","runResolvers","remoteResult","onlyRunForcedResolvers","resolveDocument","localResult","getFragmentMatcher","clientQuery","serverQuery","prepareContext","identify","addExportedVariables","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","rootValue","mainDefinition","selectionsToResolve","definitionOperation","defaultOperationType","execContext","collectSelectionsToResolve","charAt","toUpperCase","resolveSelectionSet","isClientFieldDescendant","resultsToMerge","resolveField","fieldResult","isInlineFragment","fragmentResult","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","isClientField","resolveSubSelectedArray","isSingleASTNode","collectByDefinition","definitionNode","matches_1","__","___","spread","fragmentSelections","destructiveMethodCounts","wrapDestructiveCacheMethod","methodName","cancelNotifyTimeout","QueryInfo","lastRequestId","stopped","observableQuery","init","lastDiff","networkError","getDiffOptions","updateWatch","oq","updateLastDiff","canonizeResults","setDiff","oldDiff","notifyTimeout","oqListener","fromOptimisticTransaction","shouldNotify","stop","watchOptions","watcher","lastWatch","lastWrite","shouldWrite","dmCount","markResult","cacheWriteBehavior","shouldWriteResult","errorPolicy","performTransaction","overwrite","diffOptions","markReady","markError","ignoreErrors","writeWithErrors","QueryManager","documentTransform","queryDeduplication","onBroadcast","localState","queries","fetchCancelFns","transformCache","queryIdCounter","requestIdCounter","mutationIdCounter","inFlightLinkObservables","defaultDocumentTransform","mutationStore","_info","stopQueryNoBroadcast","cancelPendingFetches","mutate","mutation","optimisticResponse","updateQueries","refetchQueries","awaitRefetchQueries","updateWithProxyFn","onQueryUpdated","_g","keepRootFields","mutationId","mutationStoreValue","self","_h","generateMutationId","transformForLink","getVariables","markMutationOptimistic","getObservableFromLink","storeResult","markMutationResult","removeOptimistic","cacheWrites","skipCache","dataId","asQuery","updateQueries_1","updater","currentQueryResult","nextQueryResult","mutationResult","queryVariables","results_1","updateCache","write","isFinalResult","isExecutionPatchInitialResult","modify","DELETE","include","recordOptimisticTransaction","fetchConcastWithInfo","getQueryStore","store","defaultVars","generateRequestId","stopQueryInStore","stopQueryInStoreNoBroadcast","clearStore","discardWatches","getObservableQueries","queryNamesAndDocs","legacyQueryOptions","desc","makeUniqueId","getQuery","included","nameOrDoc","reFetchObservableQueries","includeStandby","observableQueryPromises","makeObservable","hasErrors","hasProtocolErrors","protocolErrors","observablePromise_1","getLocalState","deduplication","inFlightLinkObservables_1","forceFetch","printedServerQuery_1","byVariables_1","varJson_1","getResultsFromLink","requestId","linkDocument","aqr","containsDataFromLink","defaults","normalized","fromVariables","sourcesWithInfo","fetchQueryByPolicy","cleanupCancelFn","includedQueriesById","results","refetchWritePolicy","oldNetworkStatus","readCache","resultsFromCache","fromData","resultsFromLink","newContext","hasSuggestedDevtools","ApolloClient","resetStoreCallbacks","clearStoreCallbacks","ssrForceFetchDelay","connectToDevTools","window","__APOLLO_CLIENT__","typeDefs","clientAwarenessName","clientAwarenessVersion","disableNetworkFetches","resetStore","top","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","navigator","ua","userAgent","url","devToolsHookCb","action","state","mutations","dataWithOptimisticResults","extract","mergeOptions","readQuery","readFragment","ref","writeFragment","__actionHookForDevTools","__requestRaw","onResetStore","c","onClearStore","restore","serializedState","setLocalStateFragmentMatcher","setLink","newLink","ApolloCache","getFragmentDoc","updateResult","optimisticId","transaction","gc","rootId","updateFragment","MissingFieldError","hasOwn","isNullish","defaultDataIdFromObject","_id","keyObject","defaultConfig","dataIdFromObject","addTypename","resultCaching","shouldCanonizeResults","TypeOrFieldNameRegExp","fieldNameFromStoreName","storeFieldName","match","selectionSetMatchesResult","storeValueIsStoreObject","extractFragmentContext","lookupFragment","delModifier","INVALIDATE","EntityStore","policies","group","rootIds","refs","getFieldValue","objectOrReference","maybeDeepFreeze","canRead","objOrRef","toReference","objOrIdOrRef","mergeIntoStore","toObject","storeObject","rootTypenamesById","Layer","dependOnExistence","existing","incoming","merged","storeObjectReconciler","caching","fieldsToDirty_1","__exists","hasKeyArgs","changedFields_1","needToMerge_1","allDeleted_1","sharedDetails_1","readField","fieldNameOrOptions","fieldValue","storage","getStorage","getStoreFieldName","evict","limit","evicted","extraRootIds","getRootIdSet","__META","newData","rest_1","retain","release","ids","snapshot","findChildRefIds","idsToRemove","root_1","found_1","workSet_1","keyMaker","CacheGroup","resetCaching","makeDepKey","maybeDependOnExistenceOfEntity","entityId","supportsResultCaching","Root","seed","stump","Stump","storageTrie","addLayer","layerId","replay","removeLayer","ownStoreObject","parentStoreObject","fromParent","existingObject","incomingObject","existingValue","incomingValue","execSelectionSetKeyArgs","StoreReader","knownResults","canon","executeSelectionSet","peekArgs","other","enclosingRef","execSelectionSetImpl","resultCacheMaxSize","varString","executeSubSelectedArray","execSubSelectedArrayImpl","resetCanon","diffQueryAgainstStore","rootRef","execResult","firstMissing","isFresh","objectsToMerge","missingMerger","handleMissing","resultName","rootIdsByTypename","workSet","fragmentMatches","finalResult","frozen","childResult","getTypenameFromStoreObject","assertSelectionSetForIdValue","tree","specifierInfoCache","lookupSpecifierInfo","spec","cacheKey","keyFieldsFnFromSpecifier","specifier","keyFieldsFn","collectSpecifierPaths","schemaKeyPath","extracted","extractKeyPath","extractKey","keyArgsFnFromSpecifier","keyArgsFn","collected","keyPath","firstKey","firstChar","variableName","varKeyPath","directiveName_1","find","directiveArgs","suffix","extractor","getSpecifierPaths","toMerge","paths","paths_1","currentPath_1","normalize","reducer","argsFromFieldSpecifier","nullKeyFieldsFn","simpleKeyArgsFn","_args","mergeTrueFn","mergeObjects","mergeFalseFn","Policies","typePolicies","toBeAdded","supertypeMap","fuzzySubtypes","usingPossibleTypes","setRootTypename","possibleTypes","addPossibleTypes","addTypePolicies","partialContext","ROOT_QUERY","normalizeReadFieldOptions","policy","getTypePolicy","keyFn","specifierOrId","queryType","mutationType","subscriptionType","updateTypePolicy","keyFields","setMerge","getFieldPolicy","which","old","supertype","getSupertypeSet","subtype","RegExp","policy_1","supertypes_1","regExp","fuzzy","fuzzySupertypes","rest","inbox","createIfMissing","fieldPolicies","supertypeSet","typenameSupertypeSet","workQueue_1","maybeEnqueue_1","needToCheckFuzzySubtypes","checkingFuzzySubtypes","fuzzyString","fieldSpec","specifierOrString","directivesObj","storeKeyNameFromField","readOptions","makeFieldFunctionOptions","getReadFunction","getMergeFunction","parentTypename","childTypename","runMergeFunction","makeMergeObjectsFunction","readFieldArgs","argc","stringifyForDisplay","eType","iType","getContextFlavor","clientOnly","deferred","flavored","flavors","StoreWriter","writeToStore","operationDefinition","written","incomingById","processSelectionSet","mergeTree","fieldNodeSet","entityRef","applied","applyMerges","fieldsWithSelectionSets_1","hasSelectionSet_1","childTree","hasMergeFunction_1","existingRef","incomingObj","getChild","parentType","typeDotName","warnings","childTypenames","warnAboutDataLoss","result_1","flattenFields","resultFieldKey","getChildMergeTree","processFieldValue","maybeRecycleChildMergeTree","dataRef","sets","previous_1","mergeMergeTrees","mergeTreeIsEmpty","fieldMap","limitingTrie","flatten","inheritedContext","visitedNode","visited","if","getStorageArgs","e_1","i_1","getValue_1","eVal","iVal","aVal","emptyMergeTreePool","needToMergeMaps","remainingRightKeys_1","leftTree","InMemoryCache","watches","addTypenameTransform","txCount","normalizeConfig","rootStore","optimisticData","resetResultCache","resetResultIdentities","previousReader","storeReader","storeWriter","maybeBroadcastWatch","broadcastWatch","immediate","idToRemove","newOptimisticData","perform","layer","alreadyDirty","addFragmentsToDocument","createSignalIfSupported","toPromise","fromPromise","ApolloProvider","children","ApolloContext","parentContext","Provider","ApolloConsumer","Consumer","EAGER_METHODS","useLazyQuery","execOptionsRef","optionsRef","queryRef","current","internalState","useApolloClient","useQueryResult","useQuery","skip","getDefaultFetchPolicy","eagerMethods","_loop_1","forceUpdateState","EAGER_METHODS_1","executeOptions","executeQuery","queryResult","useMutation","Mutation","setResult","isMounted","baseOptions","ignoreResults","clientOptions","onCompleted","result_2","useSubscription","hasIssuedDeprecationWarningRef","onSubscriptionData","onSubscriptionComplete","onComplete","setObservable","canResetObservableRef","shouldResubscribe","subscriptionStopped","fetchResult","useReactiveVar","setValue","probablySameValue","useFragment","resultRef","latestDiff","getSnapshot","latestDiffToResult","diffToResult","useSyncExternalStore","forceUpdate","lastTimeout","unsubcribe","createFulfilledPromise","__use","statefulPromise","isStatefulPromise","pendingPromise","fulfilledPromise","rejectedPromise","wrapPromiseWithState","QUERY_REFERENCE_SYMBOL","OBSERVED_CHANGED_OPTIONS","InternalQueryReference","references","handleNext","onDispose","watchQueryOptions","autoDisposeTimeoutId","autoDisposeTimeoutMs","disposed","didChangeOptions","option","applyOptions","currentFetchPolicy","currentCanonizeResults","initiateFetch","listen","deliver","returnedPromise","SuspenseCache","queryRefs","getQueryRef","createObservable","suspenseCacheSymbol","for","getSuspenseCache","react","suspense","skipToken","useSuspenseQuery","suspenseCache","useWatchQueryOptions","queryKey","promiseCache","setPromiseCache","skipResult","toApolloError","previousPromiseCache","memoFn","Query","validateFetchPolicy","validatePartialDataReturn","validateOptions","useBackgroundQuery","didFetchResult","wrappedQueryRef","internalQueryRef","wrapQueryRef","useReadQuery","unwrapQueryRef","runMutation","propTypes","isRequired","ssr","QueryDocumentKeys","BREAK","visit","visitor","visitorKeys","inArray","edits","newRoot","isLeaving","isEdited","clone","_i2","_Object$keys2","k","editOffset","ii","editKey","editValue","prev","_visitorKeys$node$kin","visitFn","getVisitFn","kindVisitor","kindSpecificVisitor","specificVisitor","specificKindVisitor"],"sourceRoot":""}